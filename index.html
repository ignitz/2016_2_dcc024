<!DOCTYPE html>
<html>
  <head>
      <meta charset="utf-8" />
      <title>notas1</title>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    jax: ["input/TeX","output/HTML-CSS"],
    extensions: [],
    TeX: {
      extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
    },
    showMathMenu: false
  });
</script>
<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js">
</script>
      <style>.markdown-preview:not([data-use-github-style]) { padding: 2em; font-size: 1.2em; color: rgb(56, 58, 66); overflow: auto; background-color: rgb(250, 250, 250); }
.markdown-preview:not([data-use-github-style]) > :first-child { margin-top: 0px; }
.markdown-preview:not([data-use-github-style]) h1, .markdown-preview:not([data-use-github-style]) h2, .markdown-preview:not([data-use-github-style]) h3, .markdown-preview:not([data-use-github-style]) h4, .markdown-preview:not([data-use-github-style]) h5, .markdown-preview:not([data-use-github-style]) h6 { line-height: 1.2; margin-top: 1.5em; margin-bottom: 0.5em; color: rgb(0, 0, 0); }
.markdown-preview:not([data-use-github-style]) h1 { font-size: 2.4em; font-weight: 300; }
.markdown-preview:not([data-use-github-style]) h2 { font-size: 1.8em; font-weight: 400; }
.markdown-preview:not([data-use-github-style]) h3 { font-size: 1.5em; font-weight: 500; }
.markdown-preview:not([data-use-github-style]) h4 { font-size: 1.2em; font-weight: 600; }
.markdown-preview:not([data-use-github-style]) h5 { font-size: 1.1em; font-weight: 600; }
.markdown-preview:not([data-use-github-style]) h6 { font-size: 1em; font-weight: 600; }
.markdown-preview:not([data-use-github-style]) strong { color: rgb(0, 0, 0); }
.markdown-preview:not([data-use-github-style]) del { color: rgb(94, 97, 110); }
.markdown-preview:not([data-use-github-style]) a, .markdown-preview:not([data-use-github-style]) a code { color: rgb(82, 111, 255); }
.markdown-preview:not([data-use-github-style]) img { max-width: 100%; }
.markdown-preview:not([data-use-github-style]) > p { margin-top: 0px; margin-bottom: 1.5em; }
.markdown-preview:not([data-use-github-style]) > ul, .markdown-preview:not([data-use-github-style]) > ol { margin-bottom: 1.5em; }
.markdown-preview:not([data-use-github-style]) blockquote { margin: 1.5em 0px; font-size: inherit; color: rgb(94, 97, 110); border-color: rgb(209, 209, 210); border-width: 4px; }
.markdown-preview:not([data-use-github-style]) hr { margin: 3em 0px; border-top-width: 2px; border-top-style: dashed; border-top-color: rgb(209, 209, 210); background: none; }
.markdown-preview:not([data-use-github-style]) table { margin: 1.5em 0px; }
.markdown-preview:not([data-use-github-style]) th { color: rgb(0, 0, 0); }
.markdown-preview:not([data-use-github-style]) th, .markdown-preview:not([data-use-github-style]) td { padding: 0.66em 1em; border: 1px solid rgb(209, 209, 210); }
.markdown-preview:not([data-use-github-style]) pre, .markdown-preview:not([data-use-github-style]) code { color: rgb(0, 0, 0); background-color: rgb(234, 234, 235); }
.markdown-preview:not([data-use-github-style]) pre, .markdown-preview:not([data-use-github-style]) pre.editor-colors { margin: 1.5em 0px; padding: 1em; font-size: 0.92em; border-radius: 3px; background-color: rgb(240, 240, 240); }
.markdown-preview:not([data-use-github-style]) kbd { color: rgb(0, 0, 0); border-width: 1px 1px 2px; border-style: solid; border-color: rgb(209, 209, 210) rgb(209, 209, 210) rgb(193, 193, 194); background-color: rgb(234, 234, 235); }
.markdown-preview[data-use-github-style] { font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; line-height: 1.6; word-wrap: break-word; padding: 30px; font-size: 16px; color: rgb(51, 51, 51); overflow: scroll; background-color: rgb(255, 255, 255); }
.markdown-preview[data-use-github-style] > :first-child { margin-top: 0px !important; }
.markdown-preview[data-use-github-style] > :last-child { margin-bottom: 0px !important; }
.markdown-preview[data-use-github-style] a:not([href]) { color: inherit; text-decoration: none; }
.markdown-preview[data-use-github-style] .absent { color: rgb(204, 0, 0); }
.markdown-preview[data-use-github-style] .anchor { position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; }
.markdown-preview[data-use-github-style] .anchor:focus { outline: none; }
.markdown-preview[data-use-github-style] h1, .markdown-preview[data-use-github-style] h2, .markdown-preview[data-use-github-style] h3, .markdown-preview[data-use-github-style] h4, .markdown-preview[data-use-github-style] h5, .markdown-preview[data-use-github-style] h6 { position: relative; margin-top: 1em; margin-bottom: 16px; font-weight: bold; line-height: 1.4; }
.markdown-preview[data-use-github-style] h1 .octicon-link, .markdown-preview[data-use-github-style] h2 .octicon-link, .markdown-preview[data-use-github-style] h3 .octicon-link, .markdown-preview[data-use-github-style] h4 .octicon-link, .markdown-preview[data-use-github-style] h5 .octicon-link, .markdown-preview[data-use-github-style] h6 .octicon-link { display: none; color: rgb(0, 0, 0); vertical-align: middle; }
.markdown-preview[data-use-github-style] h1:hover .anchor, .markdown-preview[data-use-github-style] h2:hover .anchor, .markdown-preview[data-use-github-style] h3:hover .anchor, .markdown-preview[data-use-github-style] h4:hover .anchor, .markdown-preview[data-use-github-style] h5:hover .anchor, .markdown-preview[data-use-github-style] h6:hover .anchor { padding-left: 8px; margin-left: -30px; text-decoration: none; }
.markdown-preview[data-use-github-style] h1:hover .anchor .octicon-link, .markdown-preview[data-use-github-style] h2:hover .anchor .octicon-link, .markdown-preview[data-use-github-style] h3:hover .anchor .octicon-link, .markdown-preview[data-use-github-style] h4:hover .anchor .octicon-link, .markdown-preview[data-use-github-style] h5:hover .anchor .octicon-link, .markdown-preview[data-use-github-style] h6:hover .anchor .octicon-link { display: inline-block; }
.markdown-preview[data-use-github-style] h1 tt, .markdown-preview[data-use-github-style] h2 tt, .markdown-preview[data-use-github-style] h3 tt, .markdown-preview[data-use-github-style] h4 tt, .markdown-preview[data-use-github-style] h5 tt, .markdown-preview[data-use-github-style] h6 tt, .markdown-preview[data-use-github-style] h1 code, .markdown-preview[data-use-github-style] h2 code, .markdown-preview[data-use-github-style] h3 code, .markdown-preview[data-use-github-style] h4 code, .markdown-preview[data-use-github-style] h5 code, .markdown-preview[data-use-github-style] h6 code { font-size: inherit; }
.markdown-preview[data-use-github-style] h1 { padding-bottom: 0.3em; font-size: 2.25em; line-height: 1.2; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); }
.markdown-preview[data-use-github-style] h1 .anchor { line-height: 1; }
.markdown-preview[data-use-github-style] h2 { padding-bottom: 0.3em; font-size: 1.75em; line-height: 1.225; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); }
.markdown-preview[data-use-github-style] h2 .anchor { line-height: 1; }
.markdown-preview[data-use-github-style] h3 { font-size: 1.5em; line-height: 1.43; }
.markdown-preview[data-use-github-style] h3 .anchor { line-height: 1.2; }
.markdown-preview[data-use-github-style] h4 { font-size: 1.25em; }
.markdown-preview[data-use-github-style] h4 .anchor { line-height: 1.2; }
.markdown-preview[data-use-github-style] h5 { font-size: 1em; }
.markdown-preview[data-use-github-style] h5 .anchor { line-height: 1.1; }
.markdown-preview[data-use-github-style] h6 { font-size: 1em; color: rgb(119, 119, 119); }
.markdown-preview[data-use-github-style] h6 .anchor { line-height: 1.1; }
.markdown-preview[data-use-github-style] p, .markdown-preview[data-use-github-style] blockquote, .markdown-preview[data-use-github-style] ul, .markdown-preview[data-use-github-style] ol, .markdown-preview[data-use-github-style] dl, .markdown-preview[data-use-github-style] table, .markdown-preview[data-use-github-style] pre { margin-top: 0px; margin-bottom: 16px; }
.markdown-preview[data-use-github-style] hr { height: 4px; padding: 0px; margin: 16px 0px; border: 0px none; background-color: rgb(231, 231, 231); }
.markdown-preview[data-use-github-style] ul, .markdown-preview[data-use-github-style] ol { padding-left: 2em; }
.markdown-preview[data-use-github-style] ul.no-list, .markdown-preview[data-use-github-style] ol.no-list { padding: 0px; list-style-type: none; }
.markdown-preview[data-use-github-style] ul ul, .markdown-preview[data-use-github-style] ul ol, .markdown-preview[data-use-github-style] ol ol, .markdown-preview[data-use-github-style] ol ul { margin-top: 0px; margin-bottom: 0px; }
.markdown-preview[data-use-github-style] li > p { margin-top: 16px; }
.markdown-preview[data-use-github-style] dl { padding: 0px; }
.markdown-preview[data-use-github-style] dl dt { padding: 0px; margin-top: 16px; font-size: 1em; font-style: italic; font-weight: bold; }
.markdown-preview[data-use-github-style] dl dd { padding: 0px 16px; margin-bottom: 16px; }
.markdown-preview[data-use-github-style] blockquote { padding: 0px 15px; color: rgb(119, 119, 119); border-left-width: 4px; border-left-style: solid; border-left-color: rgb(221, 221, 221); }
.markdown-preview[data-use-github-style] blockquote > :first-child { margin-top: 0px; }
.markdown-preview[data-use-github-style] blockquote > :last-child { margin-bottom: 0px; }
.markdown-preview[data-use-github-style] table { display: block; width: 100%; overflow: auto; word-break: keep-all; }
.markdown-preview[data-use-github-style] table th { font-weight: bold; }
.markdown-preview[data-use-github-style] table th, .markdown-preview[data-use-github-style] table td { padding: 6px 13px; border: 1px solid rgb(221, 221, 221); }
.markdown-preview[data-use-github-style] table tr { border-top-width: 1px; border-top-style: solid; border-top-color: rgb(204, 204, 204); background-color: rgb(255, 255, 255); }
.markdown-preview[data-use-github-style] table tr:nth-child(2n) { background-color: rgb(248, 248, 248); }
.markdown-preview[data-use-github-style] img { max-width: 100%; box-sizing: border-box; }
.markdown-preview[data-use-github-style] .emoji { max-width: none; }
.markdown-preview[data-use-github-style] span.frame { display: block; overflow: hidden; }
.markdown-preview[data-use-github-style] span.frame > span { display: block; float: left; width: auto; padding: 7px; margin: 13px 0px 0px; overflow: hidden; border: 1px solid rgb(221, 221, 221); }
.markdown-preview[data-use-github-style] span.frame span img { display: block; float: left; }
.markdown-preview[data-use-github-style] span.frame span span { display: block; padding: 5px 0px 0px; clear: both; color: rgb(51, 51, 51); }
.markdown-preview[data-use-github-style] span.align-center { display: block; overflow: hidden; clear: both; }
.markdown-preview[data-use-github-style] span.align-center > span { display: block; margin: 13px auto 0px; overflow: hidden; text-align: center; }
.markdown-preview[data-use-github-style] span.align-center span img { margin: 0px auto; text-align: center; }
.markdown-preview[data-use-github-style] span.align-right { display: block; overflow: hidden; clear: both; }
.markdown-preview[data-use-github-style] span.align-right > span { display: block; margin: 13px 0px 0px; overflow: hidden; text-align: right; }
.markdown-preview[data-use-github-style] span.align-right span img { margin: 0px; text-align: right; }
.markdown-preview[data-use-github-style] span.float-left { display: block; float: left; margin-right: 13px; overflow: hidden; }
.markdown-preview[data-use-github-style] span.float-left span { margin: 13px 0px 0px; }
.markdown-preview[data-use-github-style] span.float-right { display: block; float: right; margin-left: 13px; overflow: hidden; }
.markdown-preview[data-use-github-style] span.float-right > span { display: block; margin: 13px auto 0px; overflow: hidden; text-align: right; }
.markdown-preview[data-use-github-style] code, .markdown-preview[data-use-github-style] tt { padding: 0.2em 0px; margin: 0px; font-size: 85%; border-radius: 3px; background-color: rgba(0, 0, 0, 0.0392157); }
.markdown-preview[data-use-github-style] code::before, .markdown-preview[data-use-github-style] tt::before, .markdown-preview[data-use-github-style] code::after, .markdown-preview[data-use-github-style] tt::after { letter-spacing: -0.2em; content: " "; }
.markdown-preview[data-use-github-style] code br, .markdown-preview[data-use-github-style] tt br { display: none; }
.markdown-preview[data-use-github-style] del code { text-decoration: inherit; }
.markdown-preview[data-use-github-style] pre > code { padding: 0px; margin: 0px; font-size: 100%; word-break: normal; white-space: pre; border: 0px; background: transparent; }
.markdown-preview[data-use-github-style] .highlight { margin-bottom: 16px; }
.markdown-preview[data-use-github-style] .highlight pre, .markdown-preview[data-use-github-style] pre { padding: 16px; overflow: auto; font-size: 85%; line-height: 1.45; border-radius: 3px; background-color: rgb(247, 247, 247); }
.markdown-preview[data-use-github-style] .highlight pre { margin-bottom: 0px; word-break: normal; }
.markdown-preview[data-use-github-style] pre { word-wrap: normal; }
.markdown-preview[data-use-github-style] pre code, .markdown-preview[data-use-github-style] pre tt { display: inline; max-width: initial; padding: 0px; margin: 0px; overflow: initial; line-height: inherit; word-wrap: normal; border: 0px; background-color: transparent; }
.markdown-preview[data-use-github-style] pre code::before, .markdown-preview[data-use-github-style] pre tt::before, .markdown-preview[data-use-github-style] pre code::after, .markdown-preview[data-use-github-style] pre tt::after { content: normal; }
.markdown-preview[data-use-github-style] kbd { display: inline-block; padding: 3px 5px; font-size: 11px; line-height: 10px; color: rgb(85, 85, 85); vertical-align: middle; border-style: solid; border-width: 1px; border-color: rgb(204, 204, 204) rgb(204, 204, 204) rgb(187, 187, 187); border-radius: 3px; box-shadow: rgb(187, 187, 187) 0px -1px 0px inset; background-color: rgb(252, 252, 252); }
.markdown-preview[data-use-github-style] a { color: rgb(51, 122, 183); }
.markdown-preview[data-use-github-style] pre, .markdown-preview[data-use-github-style] code { color: inherit; }
.markdown-preview[data-use-github-style] pre, .markdown-preview[data-use-github-style] pre.editor-colors { padding: 0.8em 1em; margin-bottom: 1em; font-size: 0.85em; border-radius: 4px; overflow: auto; }
.scrollbars-visible-always .markdown-preview pre.editor-colors::shadow .vertical-scrollbar, .scrollbars-visible-always .markdown-preview pre.editor-colors::shadow .horizontal-scrollbar { visibility: hidden; }
.scrollbars-visible-always .markdown-preview pre.editor-colors:hover::shadow .vertical-scrollbar, .scrollbars-visible-always .markdown-preview pre.editor-colors:hover::shadow .horizontal-scrollbar { visibility: visible; }
.markdown-preview del { text-decoration: none; position: relative; }
.markdown-preview del::after { border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black; content: ""; left: 0px; position: absolute; right: 0px; top: 50%; }
.markdown-preview .flash { animation: flash 1s ease-out 1; outline: rgba(255, 0, 0, 0) solid 1px; }
.markdown-preview .flash:not(li) { display: block; }
.bracket-matcher .region {
  border-bottom: 1px dotted lime;
  position: absolute;
}

.spell-check-misspelling .region {
  border-bottom: 2px dotted rgba(255, 51, 51, 0.75);
}

pre.editor-colors,
.host {
  background-color: #fafafa;
  color: #383a42;
}
pre.editor-colors .line.cursor-line,
.host .line.cursor-line {
  background-color: rgba(56, 58, 66, 0.05);
}
pre.editor-colors .invisible,
.host .invisible {
  color: #383a42;
}
pre.editor-colors .cursor,
.host .cursor {
  border-left: 2px solid #526fff;
}
pre.editor-colors .selection .region,
.host .selection .region {
  background-color: #e5e5e6;
}
pre.editor-colors .bracket-matcher .region,
.host .bracket-matcher .region {
  border-bottom: 1px solid #526fff;
  box-sizing: border-box;
}
pre.editor-colors .invisible-character,
.host .invisible-character {
  color: rgba(56, 58, 66, 0.2);
}
pre.editor-colors .indent-guide,
.host .indent-guide {
  color: rgba(56, 58, 66, 0.2);
}
pre.editor-colors .wrap-guide,
.host .wrap-guide {
  background-color: rgba(56, 58, 66, 0.2);
}
pre.editor-colors .find-result .region.region.region,
.host .find-result .region.region.region,
pre.editor-colors .current-result .region.region.region,
.host .current-result .region.region.region {
  border-radius: 0px;
  background-color: rgba(82, 111, 255, 0.2);
  transition: border-color 0.4s;
}
pre.editor-colors .find-result .region.region.region,
.host .find-result .region.region.region {
  border: 2px solid transparent;
}
pre.editor-colors .current-result .region.region.region,
.host .current-result .region.region.region {
  border: 2px solid #526fff;
  transition-duration: .1s;
}
pre.editor-colors .gutter .line-number,
.host .gutter .line-number {
  color: #9d9d9f;
  -webkit-font-smoothing: antialiased;
}
pre.editor-colors .gutter .line-number.cursor-line,
.host .gutter .line-number.cursor-line {
  color: #383a42;
  background-color: #f2f2f2;
}
pre.editor-colors .gutter .line-number.cursor-line-no-selection,
.host .gutter .line-number.cursor-line-no-selection {
  background-color: transparent;
}
pre.editor-colors .gutter .line-number .icon-right,
.host .gutter .line-number .icon-right {
  color: #383a42;
}
pre.editor-colors .gutter:not(.git-diff-icon) .line-number.git-line-removed.git-line-removed::before,
.host .gutter:not(.git-diff-icon) .line-number.git-line-removed.git-line-removed::before {
  bottom: -3px;
}
pre.editor-colors .gutter:not(.git-diff-icon) .line-number.git-line-removed::after,
.host .gutter:not(.git-diff-icon) .line-number.git-line-removed::after {
  content: "";
  position: absolute;
  left: 0px;
  bottom: 0px;
  width: 25px;
  border-bottom: 1px dotted rgba(255, 20, 20, 0.5);
  pointer-events: none;
}
pre.editor-colors .gutter .line-number.folded,
.host .gutter .line-number.folded,
pre.editor-colors .gutter .line-number:after,
.host .gutter .line-number:after,
pre.editor-colors .fold-marker:after,
.host .fold-marker:after {
  color: #383a42;
}
.comment {
  color: #a0a1a7;
  font-style: italic;
}
.comment .markup.link {
  color: #a0a1a7;
}
.entity.name.type {
  color: #c18401;
}
.entity.other.inherited-class {
  color: #50a14f;
}
.keyword {
  color: #a626a4;
}
.keyword.control {
  color: #a626a4;
}
.keyword.operator {
  color: #383a42;
}
.keyword.other.special-method {
  color: #4078f2;
}
.keyword.other.unit {
  color: #986801;
}
.storage {
  color: #a626a4;
}
.storage.type.annotation,
.storage.type.primitive {
  color: #a626a4;
}
.storage.modifier.package,
.storage.modifier.import {
  color: #383a42;
}
.constant {
  color: #986801;
}
.constant.variable {
  color: #986801;
}
.constant.character.escape {
  color: #0184bc;
}
.constant.numeric {
  color: #986801;
}
.constant.other.color {
  color: #0184bc;
}
.constant.other.symbol {
  color: #0184bc;
}
.variable {
  color: #e45649;
}
.variable.interpolation {
  color: #ca1243;
}
.variable.parameter {
  color: #383a42;
}
.string {
  color: #50a14f;
}
.string.regexp {
  color: #0184bc;
}
.string.regexp .source.ruby.embedded {
  color: #c18401;
}
.string.other.link {
  color: #e45649;
}
.punctuation.definition.comment {
  color: #a0a1a7;
}
.punctuation.definition.method-parameters,
.punctuation.definition.function-parameters,
.punctuation.definition.parameters,
.punctuation.definition.separator,
.punctuation.definition.seperator,
.punctuation.definition.array {
  color: #383a42;
}
.punctuation.definition.heading,
.punctuation.definition.identity {
  color: #4078f2;
}
.punctuation.definition.bold {
  color: #c18401;
  font-weight: bold;
}
.punctuation.definition.italic {
  color: #a626a4;
  font-style: italic;
}
.punctuation.section.embedded {
  color: #ca1243;
}
.punctuation.section.method,
.punctuation.section.class,
.punctuation.section.inner-class {
  color: #383a42;
}
.support.class {
  color: #c18401;
}
.support.type {
  color: #0184bc;
}
.support.function {
  color: #0184bc;
}
.support.function.any-method {
  color: #4078f2;
}
.entity.name.function {
  color: #4078f2;
}
.entity.name.class,
.entity.name.type.class {
  color: #c18401;
}
.entity.name.section {
  color: #4078f2;
}
.entity.name.tag {
  color: #e45649;
}
.entity.other.attribute-name {
  color: #986801;
}
.entity.other.attribute-name.id {
  color: #4078f2;
}
.meta.class {
  color: #c18401;
}
.meta.class.body {
  color: #383a42;
}
.meta.method-call,
.meta.method {
  color: #383a42;
}
.meta.definition.variable {
  color: #e45649;
}
.meta.link {
  color: #986801;
}
.meta.require {
  color: #4078f2;
}
.meta.selector {
  color: #a626a4;
}
.meta.separator {
  background-color: #373b41;
  color: #383a42;
}
.meta.tag {
  color: #383a42;
}
.underline {
  text-decoration: underline;
}
.none {
  color: #383a42;
}
.invalid.deprecated {
  color: #000000 !important;
  background-color: #f2a60d !important;
}
.invalid.illegal {
  color: #ffffff !important;
  background-color: #ff1414 !important;
}
.markup.bold {
  color: #986801;
  font-weight: bold;
}
.markup.changed {
  color: #a626a4;
}
.markup.deleted {
  color: #e45649;
}
.markup.italic {
  color: #a626a4;
  font-style: italic;
}
.markup.heading {
  color: #e45649;
}
.markup.heading .punctuation.definition.heading {
  color: #4078f2;
}
.markup.link {
  color: #a626a4;
}
.markup.inserted {
  color: #50a14f;
}
.markup.quote {
  color: #986801;
}
.markup.raw {
  color: #50a14f;
}
.source.cs .keyword.operator {
  color: #a626a4;
}
.source.css .property-name,
.source.css .property-value {
  color: #696c77;
}
.source.css .property-name.support,
.source.css .property-value.support {
  color: #383a42;
}
.source.gfm .markup {
  -webkit-font-smoothing: auto;
}
.source.gfm .link .entity {
  color: #4078f2;
}
.source.go .storage.type.string {
  color: #a626a4;
}
.source.ini .keyword.other.definition.ini {
  color: #e45649;
}
.source.java .storage.modifier.import {
  color: #c18401;
}
.source.java .storage.type {
  color: #c18401;
}
.source.java .keyword.operator.instanceof {
  color: #a626a4;
}
.source.java-properties .meta.key-pair {
  color: #e45649;
}
.source.java-properties .meta.key-pair > .punctuation {
  color: #383a42;
}
.source.js .keyword.operator {
  color: #0184bc;
}
.source.js .keyword.operator.delete,
.source.js .keyword.operator.in,
.source.js .keyword.operator.of,
.source.js .keyword.operator.instanceof,
.source.js .keyword.operator.new,
.source.js .keyword.operator.typeof,
.source.js .keyword.operator.void {
  color: #a626a4;
}
.source.json .meta.structure.dictionary.json > .string.quoted.json {
  color: #e45649;
}
.source.json .meta.structure.dictionary.json > .string.quoted.json > .punctuation.string {
  color: #e45649;
}
.source.json .meta.structure.dictionary.json > .value.json > .string.quoted.json,
.source.json .meta.structure.array.json > .value.json > .string.quoted.json,
.source.json .meta.structure.dictionary.json > .value.json > .string.quoted.json > .punctuation,
.source.json .meta.structure.array.json > .value.json > .string.quoted.json > .punctuation {
  color: #50a14f;
}
.source.json .meta.structure.dictionary.json > .constant.language.json,
.source.json .meta.structure.array.json > .constant.language.json {
  color: #0184bc;
}
.source.ruby .constant.other.symbol > .punctuation {
  color: inherit;
}
.source.python .keyword.operator.logical.python {
  color: #a626a4;
}
.source.python .variable.parameter {
  color: #986801;
}
</style>
  </head>
  <body class='markdown-preview'><h1>Introdução (Aula 01)</h1>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Programming&nbsp;Languages</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Imperative&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Declarative</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>Functional&nbsp;&nbsp;&nbsp;Logic</span></span></span></div></pre>
<h3>Imperative languages:</h3>
<ul>
<li>state + instructions.</li>
<li>Recipes.</li>
<li>Emphasis on HOW to do something.</li>
<li>Follow the Turing Machine.</li>
<li>Program is a sequence of instructions that explain how to change the
state.</li>
<li>Variable assignment is the main way to change the state.</li>
<li>Typical language constructs are: <code>if, while, for, case, etc</code>.</li>
<li>The hardware is imperative.</li>
<li>Due to many reasons, this is the dominant programming paradigm.</li>
<li>Mainstream object oriented languages such as Java, Perl, C++ and C#
are imperative.</li>
</ul>
<h3>Declarative languages:</h3>
<ul>
<li>Emphasis on WHAT must be done.</li>
<li>Programs as proofs.</li>
<li>Referential transparency.</li>
<li>No side effects: makes it easier to reason about the program.</li>
<li>Functional Programming.</li>
<li>Logic Programming.</li>
</ul>
<h3>Functional Programming</h3>
<ul>
<li>Lambda-calculus</li>
<li>Computation as the evaluation of mathematical functions.</li>
<li>No state.</li>
<li>no mutable data.</li>
<li>Referential transparency.</li>
<li>Higher order functions.</li>
</ul>
<h3>Logic Programming</h3>
<ul>
<li>Program as axioms and derivation rules.</li>
<li>Program is interpreted by a theorem prover.</li>
<li>Procedural/Declarative view, e.g, given <code>H := B1, ... Bn</code>
<ul>
<li>To prove H, you must first prove B1, …, Bn</li>
<li>or if B1 is true and … and Bn is true, then H is true.</li>
</ul>
</li>
</ul>
<h4>Example 1: Concatenating two lists.</h4>
<p>a) Java</p>
<pre class="editor-colors lang-java"><div class="line"><span class="source java"><span class="meta class java"><span class="meta class identifier java"><span class="storage modifier java"><span>interface</span></span><span>&nbsp;</span><span class="entity name type class java"><span>List</span></span></span><span class="punctuation bracket angle java"><span>&lt;</span></span><span class="storage type generic java"><span>E</span></span><span class="punctuation bracket angle java"><span>&gt;</span></span><span>&nbsp;</span><span class="punctuation section class begin bracket curly java"><span>{</span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span>&nbsp;&nbsp;</span><span class="meta method java"><span class="storage modifier java"><span>public</span></span><span>&nbsp;</span><span class="meta method return-type java"><span class="storage type java"><span>E</span></span></span><span>&nbsp;</span><span class="meta method identifier java"><span class="entity name function java"><span>getHead</span></span><span class="punctuation definition parameters begin bracket round java"><span>(</span></span><span class="punctuation definition parameters end bracket round java"><span>)</span></span></span></span><span class="punctuation terminator java"><span>;</span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span>&nbsp;&nbsp;</span><span class="meta method java"><span class="storage modifier java"><span>public</span></span><span>&nbsp;</span><span class="meta method return-type java"><span class="storage type java"><span>List</span></span><span class="punctuation bracket angle java"><span>&lt;</span></span><span class="storage type generic java"><span>E</span></span><span class="punctuation bracket angle java"><span>&gt;</span></span></span><span>&nbsp;</span><span class="meta method identifier java"><span class="entity name function java"><span>getTail</span></span><span class="punctuation definition parameters begin bracket round java"><span>(</span></span><span class="punctuation definition parameters end bracket round java"><span>)</span></span></span></span><span class="punctuation terminator java"><span>;</span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span>&nbsp;&nbsp;</span><span class="meta method java"><span class="storage modifier java"><span>public</span></span><span>&nbsp;</span><span class="meta method return-type java"><span class="storage type primitive java"><span>boolean</span></span></span><span>&nbsp;</span><span class="meta method identifier java"><span class="entity name function java"><span>isEmpty</span></span><span class="punctuation definition parameters begin bracket round java"><span>(</span></span><span class="punctuation definition parameters end bracket round java"><span>)</span></span></span></span><span class="punctuation terminator java"><span>;</span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span>&nbsp;&nbsp;</span><span class="meta method java"><span class="storage modifier java"><span>public</span></span><span>&nbsp;</span><span class="meta method return-type java"><span class="storage type java"><span>String</span></span></span><span>&nbsp;</span><span class="meta method identifier java"><span class="entity name function java"><span>toString</span></span><span class="punctuation definition parameters begin bracket round java"><span>(</span></span><span class="punctuation definition parameters end bracket round java"><span>)</span></span></span></span><span class="punctuation terminator java"><span>;</span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="punctuation section class end bracket curly java"><span>}</span></span></span></span></div><div class="line"><span class="source java"><span>&nbsp;</span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class identifier java"><span class="storage modifier java"><span>class</span></span><span>&nbsp;</span><span class="entity name type class java"><span>NullList</span></span></span><span class="punctuation bracket angle java"><span>&lt;</span></span><span class="storage type generic java"><span>E</span></span><span class="punctuation bracket angle java"><span>&gt;</span></span><span>&nbsp;</span><span class="meta definition class implemented interfaces java"><span class="storage modifier implements java"><span>implements</span></span><span>&nbsp;</span><span class="entity other inherited-class java"><span>List</span></span><span class="punctuation bracket angle java"><span>&lt;</span></span><span class="storage type generic java"><span>E</span></span><span class="punctuation bracket angle java"><span>&gt;</span></span><span>&nbsp;</span></span><span class="punctuation section class begin bracket curly java"><span>{</span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span>&nbsp;&nbsp;</span><span class="meta method java"><span class="storage modifier java"><span>public</span></span><span>&nbsp;</span><span class="meta method return-type java"><span class="storage type java"><span>E</span></span></span><span>&nbsp;</span><span class="meta method identifier java"><span class="entity name function java"><span>getHead</span></span><span class="punctuation definition parameters begin bracket round java"><span>(</span></span><span class="punctuation definition parameters end bracket round java"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation section method begin bracket curly java"><span>{</span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control catch-exception java"><span>throw</span></span><span>&nbsp;</span><span class="keyword control new java"><span>new</span></span><span>&nbsp;</span><span class="storage type java"><span>Error</span></span><span class="punctuation bracket round java"><span>(</span></span><span class="string quoted double java"><span class="punctuation definition string begin java"><span>&quot;</span></span><span>The&nbsp;null&nbsp;list&nbsp;has&nbsp;no&nbsp;head</span><span class="punctuation definition string end java"><span>&quot;</span></span></span><span class="punctuation bracket round java"><span>)</span></span><span class="punctuation terminator java"><span>;</span></span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span>&nbsp;&nbsp;</span></span><span class="punctuation section method end bracket curly java"><span>}</span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span>&nbsp;&nbsp;</span><span class="meta method java"><span class="storage modifier java"><span>public</span></span><span>&nbsp;</span><span class="meta method return-type java"><span class="storage type java"><span>List</span></span><span class="punctuation bracket angle java"><span>&lt;</span></span><span class="storage type generic java"><span>E</span></span><span class="punctuation bracket angle java"><span>&gt;</span></span></span><span>&nbsp;</span><span class="meta method identifier java"><span class="entity name function java"><span>getTail</span></span><span class="punctuation definition parameters begin bracket round java"><span>(</span></span><span class="punctuation definition parameters end bracket round java"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation section method begin bracket curly java"><span>{</span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control catch-exception java"><span>throw</span></span><span>&nbsp;</span><span class="keyword control new java"><span>new</span></span><span>&nbsp;</span><span class="storage type java"><span>Error</span></span><span class="punctuation bracket round java"><span>(</span></span><span class="string quoted double java"><span class="punctuation definition string begin java"><span>&quot;</span></span><span>The&nbsp;null&nbsp;list&nbsp;has&nbsp;no&nbsp;tail</span><span class="punctuation definition string end java"><span>&quot;</span></span></span><span class="punctuation bracket round java"><span>)</span></span><span class="punctuation terminator java"><span>;</span></span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span>&nbsp;&nbsp;</span></span><span class="punctuation section method end bracket curly java"><span>}</span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span>&nbsp;&nbsp;</span><span class="meta method java"><span class="storage modifier java"><span>public</span></span><span>&nbsp;</span><span class="meta method return-type java"><span class="storage type primitive java"><span>boolean</span></span></span><span>&nbsp;</span><span class="meta method identifier java"><span class="entity name function java"><span>isEmpty</span></span><span class="punctuation definition parameters begin bracket round java"><span>(</span></span><span class="punctuation definition parameters end bracket round java"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation section method begin bracket curly java"><span>{</span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control java"><span>return</span></span><span>&nbsp;</span><span class="constant language java"><span>true</span></span><span class="punctuation terminator java"><span>;</span></span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span>&nbsp;&nbsp;</span></span><span class="punctuation section method end bracket curly java"><span>}</span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span>&nbsp;&nbsp;</span><span class="meta method java"><span class="storage modifier java"><span>public</span></span><span>&nbsp;</span><span class="meta method return-type java"><span class="storage type java"><span>String</span></span></span><span>&nbsp;</span><span class="meta method identifier java"><span class="entity name function java"><span>toString</span></span><span class="punctuation definition parameters begin bracket round java"><span>(</span></span><span class="punctuation definition parameters end bracket round java"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation section method begin bracket curly java"><span>{</span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control java"><span>return</span></span><span>&nbsp;</span><span class="string quoted double java"><span class="punctuation definition string begin java"><span>&quot;</span></span><span class="punctuation definition string end java"><span>&quot;</span></span></span><span class="punctuation terminator java"><span>;</span></span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span>&nbsp;&nbsp;</span></span><span class="punctuation section method end bracket curly java"><span>}</span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="punctuation section class end bracket curly java"><span>}</span></span></span></span></div><div class="line"><span class="source java"><span>&nbsp;</span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class identifier java"><span class="storage modifier java"><span>class</span></span><span>&nbsp;</span><span class="entity name type class java"><span>NodeList</span></span></span><span class="punctuation bracket angle java"><span>&lt;</span></span><span class="storage type generic java"><span>E</span></span><span class="punctuation bracket angle java"><span>&gt;</span></span><span>&nbsp;</span><span class="meta definition class implemented interfaces java"><span class="storage modifier implements java"><span>implements</span></span><span>&nbsp;</span><span class="entity other inherited-class java"><span>List</span></span><span class="punctuation bracket angle java"><span>&lt;</span></span><span class="storage type generic java"><span>E</span></span><span class="punctuation bracket angle java"><span>&gt;</span></span><span>&nbsp;</span></span><span class="punctuation section class begin bracket curly java"><span>{</span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span>&nbsp;&nbsp;</span><span class="meta definition variable java"><span class="storage modifier java"><span>private</span></span><span>&nbsp;</span><span class="storage type java"><span>E</span></span><span>&nbsp;</span><span class="variable definition java"><span>head</span></span></span><span class="punctuation terminator java"><span>;</span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span>&nbsp;&nbsp;</span><span class="meta definition variable java"><span class="storage modifier java"><span>private</span></span><span>&nbsp;</span><span class="storage type java"><span>List</span></span><span class="punctuation bracket angle java"><span>&lt;</span></span><span class="storage type generic java"><span>E</span></span><span class="punctuation bracket angle java"><span>&gt;</span></span><span>&nbsp;</span><span class="variable definition java"><span>tail</span></span></span><span class="punctuation terminator java"><span>;</span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span>&nbsp;&nbsp;</span><span class="meta method java"><span class="storage modifier java"><span>public</span></span><span>&nbsp;</span><span class="meta method identifier java"><span class="entity name function java"><span>NodeList</span></span><span class="punctuation definition parameters begin bracket round java"><span>(</span></span><span class="storage type java"><span>E</span></span><span>&nbsp;</span><span class="variable parameter java"><span>e</span></span><span class="punctuation separator delimiter java"><span>,</span></span><span>&nbsp;</span><span class="storage type java"><span>List</span></span><span class="punctuation bracket angle java"><span>&lt;</span></span><span class="storage type generic java"><span>E</span></span><span class="punctuation bracket angle java"><span>&gt;</span></span><span>&nbsp;</span><span class="variable parameter java"><span>t</span></span><span class="punctuation definition parameters end bracket round java"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation section method begin bracket curly java"><span>{</span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span>&nbsp;&nbsp;&nbsp;&nbsp;head&nbsp;</span><span class="keyword operator assignment java"><span>=</span></span><span>&nbsp;e</span><span class="punctuation terminator java"><span>;</span></span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span>&nbsp;&nbsp;&nbsp;&nbsp;tail&nbsp;</span><span class="keyword operator assignment java"><span>=</span></span><span>&nbsp;t</span><span class="punctuation terminator java"><span>;</span></span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span>&nbsp;&nbsp;</span></span><span class="punctuation section method end bracket curly java"><span>}</span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span>&nbsp;&nbsp;</span><span class="meta method java"><span class="storage modifier java"><span>public</span></span><span>&nbsp;</span><span class="meta method return-type java"><span class="storage type java"><span>E</span></span></span><span>&nbsp;</span><span class="meta method identifier java"><span class="entity name function java"><span>getHead</span></span><span class="punctuation definition parameters begin bracket round java"><span>(</span></span><span class="punctuation definition parameters end bracket round java"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation section method begin bracket curly java"><span>{</span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control java"><span>return</span></span><span>&nbsp;head</span><span class="punctuation terminator java"><span>;</span></span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span>&nbsp;&nbsp;</span></span><span class="punctuation section method end bracket curly java"><span>}</span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span>&nbsp;&nbsp;</span><span class="meta method java"><span class="storage modifier java"><span>public</span></span><span>&nbsp;</span><span class="meta method return-type java"><span class="storage type java"><span>List</span></span><span class="punctuation bracket angle java"><span>&lt;</span></span><span class="storage type generic java"><span>E</span></span><span class="punctuation bracket angle java"><span>&gt;</span></span></span><span>&nbsp;</span><span class="meta method identifier java"><span class="entity name function java"><span>getTail</span></span><span class="punctuation definition parameters begin bracket round java"><span>(</span></span><span class="punctuation definition parameters end bracket round java"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation section method begin bracket curly java"><span>{</span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control java"><span>return</span></span><span>&nbsp;tail</span><span class="punctuation terminator java"><span>;</span></span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span>&nbsp;&nbsp;</span></span><span class="punctuation section method end bracket curly java"><span>}</span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span>&nbsp;&nbsp;</span><span class="meta method java"><span class="storage modifier java"><span>public</span></span><span>&nbsp;</span><span class="meta method return-type java"><span class="storage type primitive java"><span>boolean</span></span></span><span>&nbsp;</span><span class="meta method identifier java"><span class="entity name function java"><span>isEmpty</span></span><span class="punctuation definition parameters begin bracket round java"><span>(</span></span><span class="punctuation definition parameters end bracket round java"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation section method begin bracket curly java"><span>{</span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control java"><span>return</span></span><span>&nbsp;</span><span class="constant language java"><span>false</span></span><span class="punctuation terminator java"><span>;</span></span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span>&nbsp;&nbsp;</span></span><span class="punctuation section method end bracket curly java"><span>}</span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span>&nbsp;&nbsp;</span><span class="meta method java"><span class="storage modifier java"><span>public</span></span><span>&nbsp;</span><span class="meta method return-type java"><span class="storage type java"><span>String</span></span></span><span>&nbsp;</span><span class="meta method identifier java"><span class="entity name function java"><span>toString</span></span><span class="punctuation definition parameters begin bracket round java"><span>(</span></span><span class="punctuation definition parameters end bracket round java"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation section method begin bracket curly java"><span>{</span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control java"><span>return</span></span><span>&nbsp;head&nbsp;</span><span class="keyword operator arithmetic java"><span>+</span></span><span>&nbsp;</span><span class="string quoted double java"><span class="punctuation definition string begin java"><span>&quot;</span></span><span>&nbsp;</span><span class="punctuation definition string end java"><span>&quot;</span></span></span><span>&nbsp;</span><span class="keyword operator arithmetic java"><span>+</span></span><span>&nbsp;</span><span class="variable other object java"><span>tail</span></span><span class="meta method-call java"><span class="punctuation separator period java"><span>.</span></span><span class="entity name function java"><span>toString</span></span><span class="punctuation definition parameters begin bracket round java"><span>(</span></span><span class="punctuation definition parameters end bracket round java"><span>)</span></span></span><span class="punctuation terminator java"><span>;</span></span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span>&nbsp;&nbsp;</span></span><span class="punctuation section method end bracket curly java"><span>}</span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="punctuation section class end bracket curly java"><span>}</span></span></span></span></div><div class="line"><span class="source java"><span>&nbsp;</span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="storage modifier java"><span>public</span></span><span>&nbsp;</span><span class="meta class identifier java"><span class="storage modifier java"><span>class</span></span><span>&nbsp;</span><span class="entity name type class java"><span>Append</span></span></span><span>&nbsp;</span><span class="punctuation section class begin bracket curly java"><span>{</span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span>&nbsp;&nbsp;</span><span class="meta method java"><span class="storage modifier java"><span>public</span></span><span>&nbsp;</span><span class="storage modifier java"><span>static</span></span><span>&nbsp;</span><span class="punctuation bracket angle java"><span>&lt;</span></span><span class="storage type generic java"><span>E</span></span><span class="punctuation bracket angle java"><span>&gt;</span></span><span>&nbsp;</span><span class="meta method return-type java"><span class="storage type java"><span>List</span></span><span class="punctuation bracket angle java"><span>&lt;</span></span><span class="storage type generic java"><span>E</span></span><span class="punctuation bracket angle java"><span>&gt;</span></span></span><span>&nbsp;</span><span class="meta method identifier java"><span class="entity name function java"><span>appendImp</span></span><span class="punctuation definition parameters begin bracket round java"><span>(</span></span><span class="storage type java"><span>List</span></span><span class="punctuation bracket angle java"><span>&lt;</span></span><span class="storage type generic java"><span>E</span></span><span class="punctuation bracket angle java"><span>&gt;</span></span><span>&nbsp;</span><span class="variable parameter java"><span>l1</span></span><span class="punctuation separator delimiter java"><span>,</span></span><span>&nbsp;</span><span class="storage type java"><span>List</span></span><span class="punctuation bracket angle java"><span>&lt;</span></span><span class="storage type generic java"><span>E</span></span><span class="punctuation bracket angle java"><span>&gt;</span></span><span>&nbsp;</span><span class="variable parameter java"><span>l2</span></span><span class="punctuation definition parameters end bracket round java"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation section method begin bracket curly java"><span>{</span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="storage type java"><span>List</span></span><span class="punctuation bracket angle java"><span>&lt;</span></span><span class="storage type generic java"><span>E</span></span><span class="punctuation bracket angle java"><span>&gt;</span></span><span>&nbsp;invl&nbsp;</span><span class="keyword operator assignment java"><span>=</span></span><span>&nbsp;</span><span class="keyword control new java"><span>new</span></span><span>&nbsp;</span><span class="storage type java"><span>NullList</span></span><span class="punctuation bracket angle java"><span>&lt;</span></span><span class="storage type generic java"><span>E</span></span><span class="punctuation bracket angle java"><span>&gt;</span></span><span class="punctuation bracket round java"><span>(</span><span>)</span></span><span class="punctuation terminator java"><span>;</span></span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="storage type java"><span>List</span></span><span class="punctuation bracket angle java"><span>&lt;</span></span><span class="storage type generic java"><span>E</span></span><span class="punctuation bracket angle java"><span>&gt;</span></span><span>&nbsp;lr&nbsp;</span><span class="keyword operator assignment java"><span>=</span></span><span>&nbsp;l2</span><span class="punctuation terminator java"><span>;</span></span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span class="punctuation whitespace comment leading java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="comment line double-slash java"><span class="punctuation definition comment java"><span>//</span></span><span>&nbsp;Invert&nbsp;the&nbsp;list&nbsp;l1&nbsp;to&nbsp;produce&nbsp;the&nbsp;list&nbsp;invl:</span><span>&nbsp;</span></span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control java"><span>while</span></span><span>&nbsp;</span><span class="punctuation bracket round java"><span>(</span></span><span class="keyword operator logical java"><span>!</span></span><span class="variable other object java"><span>l1</span></span><span class="meta method-call java"><span class="punctuation separator period java"><span>.</span></span><span class="entity name function java"><span>isEmpty</span></span><span class="punctuation definition parameters begin bracket round java"><span>(</span></span><span class="punctuation definition parameters end bracket round java"><span>)</span></span></span><span class="punctuation bracket round java"><span>)</span></span><span>&nbsp;</span><span class="punctuation section block begin bracket curly java"><span>{</span></span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;invl&nbsp;</span><span class="keyword operator assignment java"><span>=</span></span><span>&nbsp;</span><span class="keyword control new java"><span>new</span></span><span>&nbsp;</span><span class="storage type java"><span>NodeList</span></span><span class="punctuation bracket angle java"><span>&lt;</span></span><span class="storage type generic java"><span>E</span></span><span class="punctuation bracket angle java"><span>&gt;</span></span><span class="punctuation bracket round java"><span>(</span></span><span class="variable other object java"><span>l1</span></span><span class="meta method-call java"><span class="punctuation separator period java"><span>.</span></span><span class="entity name function java"><span>getHead</span></span><span class="punctuation definition parameters begin bracket round java"><span>(</span></span><span class="punctuation definition parameters end bracket round java"><span>)</span></span></span><span class="punctuation separator delimiter java"><span>,</span></span><span>&nbsp;invl</span><span class="punctuation bracket round java"><span>)</span></span><span class="punctuation terminator java"><span>;</span></span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;l1&nbsp;</span><span class="keyword operator assignment java"><span>=</span></span><span>&nbsp;</span><span class="variable other object java"><span>l1</span></span><span class="meta method-call java"><span class="punctuation separator period java"><span>.</span></span><span class="entity name function java"><span>getTail</span></span><span class="punctuation definition parameters begin bracket round java"><span>(</span></span><span class="punctuation definition parameters end bracket round java"><span>)</span></span></span><span class="punctuation terminator java"><span>;</span></span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="punctuation section block end bracket curly java"><span>}</span></span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span class="punctuation whitespace comment leading java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="comment line double-slash java"><span class="punctuation definition comment java"><span>//</span></span><span>&nbsp;append&nbsp;the&nbsp;inverted&nbsp;list,&nbsp;from&nbsp;tail&nbsp;to&nbsp;head,&nbsp;into&nbsp;l2.</span><span>&nbsp;</span></span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control java"><span>while</span></span><span>&nbsp;</span><span class="punctuation bracket round java"><span>(</span></span><span class="keyword operator logical java"><span>!</span></span><span class="variable other object java"><span>invl</span></span><span class="meta method-call java"><span class="punctuation separator period java"><span>.</span></span><span class="entity name function java"><span>isEmpty</span></span><span class="punctuation definition parameters begin bracket round java"><span>(</span></span><span class="punctuation definition parameters end bracket round java"><span>)</span></span></span><span class="punctuation bracket round java"><span>)</span></span><span>&nbsp;</span><span class="punctuation section block begin bracket curly java"><span>{</span></span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lr&nbsp;</span><span class="keyword operator assignment java"><span>=</span></span><span>&nbsp;</span><span class="keyword control new java"><span>new</span></span><span>&nbsp;</span><span class="storage type java"><span>NodeList</span></span><span class="punctuation bracket angle java"><span>&lt;</span></span><span class="storage type generic java"><span>E</span></span><span class="punctuation bracket angle java"><span>&gt;</span></span><span class="punctuation bracket round java"><span>(</span></span><span class="variable other object java"><span>invl</span></span><span class="meta method-call java"><span class="punctuation separator period java"><span>.</span></span><span class="entity name function java"><span>getHead</span></span><span class="punctuation definition parameters begin bracket round java"><span>(</span></span><span class="punctuation definition parameters end bracket round java"><span>)</span></span></span><span class="punctuation separator delimiter java"><span>,</span></span><span>&nbsp;lr</span><span class="punctuation bracket round java"><span>)</span></span><span class="punctuation terminator java"><span>;</span></span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;invl&nbsp;</span><span class="keyword operator assignment java"><span>=</span></span><span>&nbsp;</span><span class="variable other object java"><span>invl</span></span><span class="meta method-call java"><span class="punctuation separator period java"><span>.</span></span><span class="entity name function java"><span>getTail</span></span><span class="punctuation definition parameters begin bracket round java"><span>(</span></span><span class="punctuation definition parameters end bracket round java"><span>)</span></span></span><span class="punctuation terminator java"><span>;</span></span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="punctuation section block end bracket curly java"><span>}</span></span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control java"><span>return</span></span><span>&nbsp;lr</span><span class="punctuation terminator java"><span>;</span></span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span>&nbsp;&nbsp;</span></span><span class="punctuation section method end bracket curly java"><span>}</span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span>&nbsp;</span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span>&nbsp;&nbsp;</span><span class="meta method java"><span class="storage modifier java"><span>public</span></span><span>&nbsp;</span><span class="storage modifier java"><span>static</span></span><span>&nbsp;</span><span class="punctuation bracket angle java"><span>&lt;</span></span><span class="storage type generic java"><span>E</span></span><span class="punctuation bracket angle java"><span>&gt;</span></span><span>&nbsp;</span><span class="meta method return-type java"><span class="storage type java"><span>List</span></span><span class="punctuation bracket angle java"><span>&lt;</span></span><span class="storage type generic java"><span>E</span></span><span class="punctuation bracket angle java"><span>&gt;</span></span></span><span>&nbsp;</span><span class="meta method identifier java"><span class="entity name function java"><span>appendFunc</span></span><span class="punctuation definition parameters begin bracket round java"><span>(</span></span><span class="storage type java"><span>List</span></span><span class="punctuation bracket angle java"><span>&lt;</span></span><span class="storage type generic java"><span>E</span></span><span class="punctuation bracket angle java"><span>&gt;</span></span><span>&nbsp;</span><span class="variable parameter java"><span>l1</span></span><span class="punctuation separator delimiter java"><span>,</span></span><span>&nbsp;</span><span class="storage type java"><span>List</span></span><span class="punctuation bracket angle java"><span>&lt;</span></span><span class="storage type generic java"><span>E</span></span><span class="punctuation bracket angle java"><span>&gt;</span></span><span>&nbsp;</span><span class="variable parameter java"><span>l2</span></span><span class="punctuation definition parameters end bracket round java"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation section method begin bracket curly java"><span>{</span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control java"><span>if</span></span><span>&nbsp;</span><span class="punctuation bracket round java"><span>(</span></span><span class="variable other object java"><span>l1</span></span><span class="meta method-call java"><span class="punctuation separator period java"><span>.</span></span><span class="entity name function java"><span>isEmpty</span></span><span class="punctuation definition parameters begin bracket round java"><span>(</span></span><span class="punctuation definition parameters end bracket round java"><span>)</span></span></span><span class="punctuation bracket round java"><span>)</span></span><span>&nbsp;</span><span class="punctuation section block begin bracket curly java"><span>{</span></span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control java"><span>return</span></span><span>&nbsp;l2</span><span class="punctuation terminator java"><span>;</span></span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="punctuation section block end bracket curly java"><span>}</span></span><span>&nbsp;</span><span class="keyword control java"><span>else</span></span><span>&nbsp;</span><span class="punctuation section block begin bracket curly java"><span>{</span></span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control java"><span>return</span></span><span>&nbsp;</span><span class="keyword control new java"><span>new</span></span><span>&nbsp;</span><span class="storage type java"><span>NodeList</span></span><span class="punctuation bracket angle java"><span>&lt;</span></span><span class="storage type generic java"><span>E</span></span><span class="punctuation bracket angle java"><span>&gt;</span></span><span class="punctuation bracket round java"><span>(</span></span><span class="variable other object java"><span>l1</span></span><span class="meta method-call java"><span class="punctuation separator period java"><span>.</span></span><span class="entity name function java"><span>getHead</span></span><span class="punctuation definition parameters begin bracket round java"><span>(</span></span><span class="punctuation definition parameters end bracket round java"><span>)</span></span></span><span class="punctuation separator delimiter java"><span>,</span></span><span>&nbsp;</span><span class="meta function-call java"><span class="entity name function java"><span>appendFunc</span></span><span class="punctuation definition parameters begin bracket round java"><span>(</span></span><span class="variable other object java"><span>l1</span></span><span class="meta method-call java"><span class="punctuation separator period java"><span>.</span></span><span class="entity name function java"><span>getTail</span></span><span class="punctuation definition parameters begin bracket round java"><span>(</span></span><span class="punctuation definition parameters end bracket round java"><span>)</span></span></span><span class="punctuation separator delimiter java"><span>,</span></span><span>&nbsp;l2</span><span class="punctuation definition parameters end bracket round java"><span>)</span></span></span><span class="punctuation bracket round java"><span>)</span></span><span class="punctuation terminator java"><span>;</span></span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="punctuation section block end bracket curly java"><span>}</span></span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span>&nbsp;&nbsp;</span></span><span class="punctuation section method end bracket curly java"><span>}</span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span>&nbsp;</span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span>&nbsp;&nbsp;</span><span class="meta method java"><span class="storage modifier java"><span>public</span></span><span>&nbsp;</span><span class="storage modifier java"><span>static</span></span><span>&nbsp;</span><span class="meta method return-type java"><span class="storage type primitive java"><span>void</span></span></span><span>&nbsp;</span><span class="meta method identifier java"><span class="entity name function java"><span>main</span></span><span class="punctuation definition parameters begin bracket round java"><span>(</span></span><span class="storage type java"><span>String</span></span><span>&nbsp;</span><span class="variable parameter java"><span>args</span></span><span>[]</span><span class="punctuation definition parameters end bracket round java"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation section method begin bracket curly java"><span>{</span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="storage type java"><span>List</span></span><span class="punctuation bracket angle java"><span>&lt;</span></span><span class="storage type generic java"><span>Integer</span></span><span class="punctuation bracket angle java"><span>&gt;</span></span><span>&nbsp;l1&nbsp;</span><span class="keyword operator assignment java"><span>=</span></span><span>&nbsp;</span><span class="keyword control new java"><span>new</span></span><span>&nbsp;</span><span class="storage type java"><span>NullList</span></span><span class="punctuation bracket angle java"><span>&lt;</span></span><span class="storage type generic java"><span>Integer</span></span><span class="punctuation bracket angle java"><span>&gt;</span></span><span class="punctuation bracket round java"><span>(</span><span>)</span></span><span class="punctuation terminator java"><span>;</span></span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control java"><span>for</span></span><span>&nbsp;</span><span class="punctuation bracket round java"><span>(</span></span><span class="storage type primitive java"><span>int</span></span><span>&nbsp;i&nbsp;</span><span class="keyword operator assignment java"><span>=</span></span><span>&nbsp;</span><span class="constant numeric java"><span>10</span></span><span class="punctuation terminator java"><span>;</span></span><span>&nbsp;i&nbsp;</span><span class="keyword operator comparison java"><span>&gt;</span></span><span>&nbsp;</span><span class="constant numeric java"><span>0</span></span><span class="punctuation terminator java"><span>;</span></span><span>&nbsp;i</span><span class="keyword operator increment-decrement java"><span>--</span></span><span class="punctuation bracket round java"><span>)</span></span><span>&nbsp;</span><span class="punctuation section block begin bracket curly java"><span>{</span></span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;l1&nbsp;</span><span class="keyword operator assignment java"><span>=</span></span><span>&nbsp;</span><span class="keyword control new java"><span>new</span></span><span>&nbsp;</span><span class="storage type java"><span>NodeList</span></span><span class="punctuation bracket angle java"><span>&lt;</span></span><span class="storage type generic java"><span>Integer</span></span><span class="punctuation bracket angle java"><span>&gt;</span></span><span class="punctuation bracket round java"><span>(</span></span><span>i</span><span class="punctuation separator delimiter java"><span>,</span></span><span>&nbsp;l1</span><span class="punctuation bracket round java"><span>)</span></span><span class="punctuation terminator java"><span>;</span></span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="punctuation section block end bracket curly java"><span>}</span></span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="variable other object java"><span>System</span></span><span class="punctuation separator period java"><span>.</span></span><span class="variable other object property java"><span>out</span></span><span class="meta method-call java"><span class="punctuation separator period java"><span>.</span></span><span class="entity name function java"><span>println</span></span><span class="punctuation definition parameters begin bracket round java"><span>(</span></span><span>l1</span><span class="punctuation definition parameters end bracket round java"><span>)</span></span></span><span class="punctuation terminator java"><span>;</span></span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="storage type java"><span>List</span></span><span class="punctuation bracket angle java"><span>&lt;</span></span><span class="storage type generic java"><span>Integer</span></span><span class="punctuation bracket angle java"><span>&gt;</span></span><span>&nbsp;l2&nbsp;</span><span class="keyword operator assignment java"><span>=</span></span><span>&nbsp;</span><span class="keyword control new java"><span>new</span></span><span>&nbsp;</span><span class="storage type java"><span>NullList</span></span><span class="punctuation bracket angle java"><span>&lt;</span></span><span class="storage type generic java"><span>Integer</span></span><span class="punctuation bracket angle java"><span>&gt;</span></span><span class="punctuation bracket round java"><span>(</span><span>)</span></span><span class="punctuation terminator java"><span>;</span></span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control java"><span>for</span></span><span>&nbsp;</span><span class="punctuation bracket round java"><span>(</span></span><span class="storage type primitive java"><span>int</span></span><span>&nbsp;i&nbsp;</span><span class="keyword operator assignment java"><span>=</span></span><span>&nbsp;</span><span class="constant numeric java"><span>20</span></span><span class="punctuation terminator java"><span>;</span></span><span>&nbsp;i&nbsp;</span><span class="keyword operator comparison java"><span>&gt;</span></span><span>&nbsp;</span><span class="constant numeric java"><span>10</span></span><span class="punctuation terminator java"><span>;</span></span><span>&nbsp;i</span><span class="keyword operator increment-decrement java"><span>--</span></span><span class="punctuation bracket round java"><span>)</span></span><span>&nbsp;</span><span class="punctuation section block begin bracket curly java"><span>{</span></span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;l2&nbsp;</span><span class="keyword operator assignment java"><span>=</span></span><span>&nbsp;</span><span class="keyword control new java"><span>new</span></span><span>&nbsp;</span><span class="storage type java"><span>NodeList</span></span><span class="punctuation bracket angle java"><span>&lt;</span></span><span class="storage type generic java"><span>Integer</span></span><span class="punctuation bracket angle java"><span>&gt;</span></span><span class="punctuation bracket round java"><span>(</span></span><span>i</span><span class="punctuation separator delimiter java"><span>,</span></span><span>&nbsp;l2</span><span class="punctuation bracket round java"><span>)</span></span><span class="punctuation terminator java"><span>;</span></span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="punctuation section block end bracket curly java"><span>}</span></span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="variable other object java"><span>System</span></span><span class="punctuation separator period java"><span>.</span></span><span class="variable other object property java"><span>out</span></span><span class="meta method-call java"><span class="punctuation separator period java"><span>.</span></span><span class="entity name function java"><span>println</span></span><span class="punctuation definition parameters begin bracket round java"><span>(</span></span><span>l2</span><span class="punctuation definition parameters end bracket round java"><span>)</span></span></span><span class="punctuation terminator java"><span>;</span></span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="variable other object java"><span>System</span></span><span class="punctuation separator period java"><span>.</span></span><span class="variable other object property java"><span>out</span></span><span class="meta method-call java"><span class="punctuation separator period java"><span>.</span></span><span class="entity name function java"><span>println</span></span><span class="punctuation definition parameters begin bracket round java"><span>(</span></span><span class="meta function-call java"><span class="entity name function java"><span>appendFunc</span></span><span class="punctuation definition parameters begin bracket round java"><span>(</span></span><span>l1</span><span class="punctuation separator delimiter java"><span>,</span></span><span>&nbsp;l2</span><span class="punctuation definition parameters end bracket round java"><span>)</span></span></span><span class="punctuation definition parameters end bracket round java"><span>)</span></span></span><span class="punctuation terminator java"><span>;</span></span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span>&nbsp;&nbsp;</span></span><span class="punctuation section method end bracket curly java"><span>}</span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="punctuation section class end bracket curly java"><span>}</span></span></span></span></div></pre>
<p>Declarative way:</p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>append(l1:List,&nbsp;l2:List):List</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>append(nil,&nbsp;l2)&nbsp;=&gt;&nbsp;l2</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>append([a|Rest],&nbsp;l2)&nbsp;=&gt;&nbsp;a&nbsp;|&nbsp;append(Rest,&nbsp;l2)</span></span></span></div></pre>
<p>b) ML</p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>fun&nbsp;append&nbsp;[]&nbsp;l&nbsp;=&nbsp;l</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>|&nbsp;append&nbsp;(a::r)&nbsp;l&nbsp;=&nbsp;a&nbsp;::&nbsp;append&nbsp;r&nbsp;l</span></span></span></div></pre>
<p>c) Prolog</p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>append([],&nbsp;L,&nbsp;L).</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>append([A|R],&nbsp;L,&nbsp;[A|RL])&nbsp;:-&nbsp;append(R,&nbsp;L,&nbsp;RL).</span></span></span></div></pre>
<h4>Example 2: side effects makes it difficult to reason about programs:</h4>
<pre class="editor-colors lang-c"><div class="line"><span class="source c"><span class="storage type c"><span>int</span></span><span>&nbsp;p;</span></span></div><div class="line"><span class="source c"><span class="storage type c"><span>int</span></span><span class="meta function c"><span class="punctuation whitespace function leading c"><span>&nbsp;</span></span><span class="entity name function c"><span>f</span></span><span class="meta parens c"><span class="punctuation section parens begin c"><span>(</span></span><span class="punctuation section parens end c"><span>)</span></span></span><span>&nbsp;</span><span class="meta block c"><span class="punctuation section block begin c"><span>{</span></span></span></span></span></div><div class="line"><span class="source c"><span class="meta function c"><span class="meta block c"><span>&nbsp;&nbsp;</span><span class="keyword control c"><span>return</span></span><span>&nbsp;p++;</span></span></span></span></div><div class="line"><span class="source c"><span class="meta function c"><span class="meta block c"><span class="punctuation section block end c"><span>}</span></span></span></span></span></div><div class="line"><span class="source c"><span class="storage type c"><span>int</span></span><span class="meta function c"><span class="punctuation whitespace function leading c"><span>&nbsp;</span></span><span class="entity name function c"><span>main</span></span><span class="meta parens c"><span class="punctuation section parens begin c"><span>(</span></span><span class="punctuation section parens end c"><span>)</span></span></span><span>&nbsp;</span><span class="meta block c"><span class="punctuation section block begin c"><span>{</span></span></span></span></span></div><div class="line"><span class="source c"><span class="meta function c"><span class="meta block c"><span>&nbsp;&nbsp;</span><span class="storage type c"><span>int</span></span><span>&nbsp;i1,&nbsp;i2;</span></span></span></span></div><div class="line"><span class="source c"><span class="meta function c"><span class="meta block c"><span>&nbsp;&nbsp;p&nbsp;=&nbsp;</span><span class="constant numeric c"><span>0</span></span><span>;</span></span></span></span></div><div class="line"><span class="source c"><span class="meta function c"><span class="meta block c"><span>&nbsp;&nbsp;i1&nbsp;=</span><span class="meta function-call c"><span class="punctuation whitespace function-call leading c"><span>&nbsp;</span></span><span class="support function any-method c"><span>f</span></span><span class="punctuation definition parameters c"><span>(</span></span></span><span>);</span></span></span></span></div><div class="line"><span class="source c"><span class="meta function c"><span class="meta block c"><span>&nbsp;&nbsp;i2&nbsp;=</span><span class="meta function-call c"><span class="punctuation whitespace function-call leading c"><span>&nbsp;</span></span><span class="support function any-method c"><span>f</span></span><span class="punctuation definition parameters c"><span>(</span></span></span><span>);</span></span></span></span></div><div class="line"><span class="source c"><span class="meta function c"><span class="meta block c"><span class="punctuation whitespace support function leading c"><span>&nbsp;&nbsp;</span></span><span class="support function C99 c"><span>printf</span></span><span>(</span><span class="string quoted double c"><span class="punctuation definition string begin c"><span>&quot;</span></span><span class="constant other placeholder c"><span>%d</span></span><span>,&nbsp;</span><span class="constant other placeholder c"><span>%d</span></span><span class="constant character escape c"><span>\n</span></span><span class="punctuation definition string end c"><span>&quot;</span></span></span><span>,&nbsp;i1,&nbsp;i2);</span></span></span></span></div><div class="line"><span class="source c"><span class="meta function c"><span class="meta block c"><span class="punctuation section block end c"><span>}</span></span></span></span></span></div></pre>
<h4>Example 3: Quicksort</h4>
<p>a) Implementation in C:</p>
<pre class="editor-colors lang-c"><div class="line"><span class="source c"><span class="storage type c"><span>void</span></span><span class="meta function c"><span class="punctuation whitespace function leading c"><span>&nbsp;</span></span><span class="entity name function c"><span>swap</span></span><span class="meta parens c"><span class="punctuation section parens begin c"><span>(</span></span><span class="storage type c"><span>int</span></span><span>&nbsp;*a,&nbsp;</span><span class="storage type c"><span>int</span></span><span>&nbsp;*b</span><span class="punctuation section parens end c"><span>)</span></span></span><span>&nbsp;</span><span class="meta block c"><span class="punctuation section block begin c"><span>{</span></span></span></span></span></div><div class="line"><span class="source c"><span class="meta function c"><span class="meta block c"><span>&nbsp;&nbsp;</span><span class="storage type c"><span>int</span></span><span>&nbsp;t=*a;</span></span></span></span></div><div class="line"><span class="source c"><span class="meta function c"><span class="meta block c"><span>&nbsp;&nbsp;*a=*b;</span></span></span></span></div><div class="line"><span class="source c"><span class="meta function c"><span class="meta block c"><span>&nbsp;&nbsp;*b=t;</span></span></span></span></div><div class="line"><span class="source c"><span class="meta function c"><span class="meta block c"><span class="punctuation section block end c"><span>}</span></span></span></span></span></div><div class="line"><span class="source c"><span>&nbsp;</span></span></div><div class="line"><span class="source c"><span>&nbsp;</span></span></div><div class="line"><span class="source c"><span class="storage type c"><span>void</span></span><span class="meta function c"><span class="punctuation whitespace function leading c"><span>&nbsp;</span></span><span class="entity name function c"><span>sort</span></span><span class="meta parens c"><span class="punctuation section parens begin c"><span>(</span></span><span class="storage type c"><span>int</span></span><span>&nbsp;arr[],&nbsp;</span><span class="storage type c"><span>int</span></span><span>&nbsp;beg,&nbsp;</span><span class="storage type c"><span>int</span></span><span>&nbsp;end</span><span class="punctuation section parens end c"><span>)</span></span></span><span>&nbsp;&nbsp;</span><span class="meta block c"><span class="punctuation section block begin c"><span>{</span></span></span></span></span></div><div class="line"><span class="source c"><span class="meta function c"><span class="meta block c"><span>&nbsp;&nbsp;</span><span class="storage type c"><span>int</span></span><span>&nbsp;middle,&nbsp;l,&nbsp;r;</span></span></span></span></div><div class="line"><span class="source c"><span class="meta function c"><span class="meta block c"><span>&nbsp;&nbsp;</span><span class="keyword control c"><span>if</span></span><span>&nbsp;(end&nbsp;&gt;&nbsp;beg&nbsp;+&nbsp;</span><span class="constant numeric c"><span>1</span></span><span>)&nbsp;</span><span class="meta block c"><span class="punctuation section block begin c"><span>{</span></span></span></span></span></span></div><div class="line"><span class="source c"><span class="meta function c"><span class="meta block c"><span class="meta block c"><span>&nbsp;&nbsp;&nbsp;&nbsp;middle&nbsp;=&nbsp;arr[(beg+end)/</span><span class="constant numeric c"><span>2</span></span><span>];</span></span></span></span></span></div><div class="line"><span class="source c"><span class="meta function c"><span class="meta block c"><span class="meta block c"><span>&nbsp;&nbsp;&nbsp;&nbsp;l&nbsp;=&nbsp;beg;</span></span></span></span></span></div><div class="line"><span class="source c"><span class="meta function c"><span class="meta block c"><span class="meta block c"><span>&nbsp;&nbsp;&nbsp;&nbsp;r&nbsp;=&nbsp;end;</span></span></span></span></span></div><div class="line"><span class="source c"><span class="meta function c"><span class="meta block c"><span class="meta block c"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control c"><span>while</span></span><span>&nbsp;(l&nbsp;&lt;&nbsp;r)&nbsp;</span><span class="meta block c"><span class="punctuation section block begin c"><span>{</span></span></span></span></span></span></span></div><div class="line"><span class="source c"><span class="meta function c"><span class="meta block c"><span class="meta block c"><span class="meta block c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control c"><span>while</span></span><span>&nbsp;(arr[l]&lt;middle)&nbsp;l++;</span></span></span></span></span></span></div><div class="line"><span class="source c"><span class="meta function c"><span class="meta block c"><span class="meta block c"><span class="meta block c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control c"><span>while</span></span><span>&nbsp;(arr[r]&gt;middle)&nbsp;r--;</span></span></span></span></span></span></div><div class="line"><span class="source c"><span class="meta function c"><span class="meta block c"><span class="meta block c"><span class="meta block c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control c"><span>if</span></span><span>&nbsp;(l&nbsp;&lt;&nbsp;r)&nbsp;</span><span class="meta block c"><span class="punctuation section block begin c"><span>{</span></span></span></span></span></span></span></span></div><div class="line"><span class="source c"><span class="meta function c"><span class="meta block c"><span class="meta block c"><span class="meta block c"><span class="meta block c"><span class="meta function-call c"><span class="punctuation whitespace function-call leading c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="support function any-method c"><span>swap</span></span><span class="punctuation definition parameters c"><span>(</span></span></span><span>&amp;arr[l],&nbsp;&amp;arr[r]);</span></span></span></span></span></span></span></div><div class="line"><span class="source c"><span class="meta function c"><span class="meta block c"><span class="meta block c"><span class="meta block c"><span class="meta block c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;l++;</span></span></span></span></span></span></span></div><div class="line"><span class="source c"><span class="meta function c"><span class="meta block c"><span class="meta block c"><span class="meta block c"><span class="meta block c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r--;</span></span></span></span></span></span></span></div><div class="line"><span class="source c"><span class="meta function c"><span class="meta block c"><span class="meta block c"><span class="meta block c"><span class="meta block c"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="punctuation section block end c"><span>}</span></span></span></span></span></span></span></span></div><div class="line"><span class="source c"><span class="meta function c"><span class="meta block c"><span class="meta block c"><span class="meta block c"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="punctuation section block end c"><span>}</span></span></span></span></span></span></span></div><div class="line"><span class="source c"><span class="meta function c"><span class="meta block c"><span class="meta block c"><span class="meta function-call c"><span class="punctuation whitespace function-call leading c"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="support function any-method c"><span>sort</span></span><span class="punctuation definition parameters c"><span>(</span></span></span><span>arr,&nbsp;beg,&nbsp;r);</span></span></span></span></span></div><div class="line"><span class="source c"><span class="meta function c"><span class="meta block c"><span class="meta block c"><span class="meta function-call c"><span class="punctuation whitespace function-call leading c"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="support function any-method c"><span>sort</span></span><span class="punctuation definition parameters c"><span>(</span></span></span><span>arr,&nbsp;l,&nbsp;end);</span></span></span></span></span></div><div class="line"><span class="source c"><span class="meta function c"><span class="meta block c"><span class="meta block c"><span>&nbsp;&nbsp;</span><span class="punctuation section block end c"><span>}</span></span></span></span></span></span></div><div class="line"><span class="source c"><span class="meta function c"><span class="meta block c"><span class="punctuation section block end c"><span>}</span></span></span></span></span></div></pre>
<p>b) Implementation in ML:</p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>fun&nbsp;partition&nbsp;(pivot,&nbsp;nil)&nbsp;=&nbsp;(nil,&nbsp;nil)</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>|&nbsp;partition&nbsp;(pivot,&nbsp;first::others)&nbsp;=</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>let</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>val(smalls,&nbsp;bigs)&nbsp;=&nbsp;partition(pivot,&nbsp;others)</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>in</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>if&nbsp;first&nbsp;&lt;&nbsp;pivot</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;then&nbsp;(first::smalls,&nbsp;bigs)</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;(smalls,&nbsp;first::bigs)</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>end&nbsp;;</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>fun&nbsp;qsort&nbsp;nil&nbsp;=&nbsp;nil</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>|&nbsp;qsort&nbsp;[singleton]&nbsp;=&nbsp;[singleton]</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;|&nbsp;qsort&nbsp;(first::rest)&nbsp;=</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>let</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>val&nbsp;(smalls,&nbsp;bigs)&nbsp;=&nbsp;partition(first,&nbsp;rest)</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>in</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>qsort(smalls)&nbsp;@&nbsp;[first]&nbsp;@&nbsp;qsort(bigs)</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>end&nbsp;;</span></span></span></div></pre>
<h4>Example 4: The imperative versus the functional style in the language Scala:</h4>
<p>a) Imperative quicksort:</p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>def&nbsp;sort(xs:&nbsp;Array[Int])&nbsp;{</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>def&nbsp;swap(i:&nbsp;Int,&nbsp;j:&nbsp;Int)&nbsp;{</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>val&nbsp;t&nbsp;=&nbsp;xs(i);&nbsp;xs(i)&nbsp;=&nbsp;xs(j);&nbsp;xs(j)&nbsp;=&nbsp;t</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>}</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;def&nbsp;sort1(l:&nbsp;Int,&nbsp;r:&nbsp;Int)&nbsp;{</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>val&nbsp;pivot&nbsp;=&nbsp;xs((l&nbsp;+&nbsp;r)&nbsp;/&nbsp;2)</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;i&nbsp;=&nbsp;l;&nbsp;var&nbsp;j&nbsp;=&nbsp;r</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;(i&nbsp;&lt;=&nbsp;j)&nbsp;{</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>while&nbsp;(xs(i)&nbsp;&lt;&nbsp;pivot)&nbsp;i&nbsp;+=&nbsp;1</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;(xs(j)&nbsp;&gt;&nbsp;pivot)&nbsp;j&nbsp;-=&nbsp;1</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(i&nbsp;&lt;=&nbsp;j)&nbsp;{</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>swap(i,&nbsp;j)</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i&nbsp;+=&nbsp;1</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;j&nbsp;-=&nbsp;1</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>}</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>}</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(l&nbsp;&lt;&nbsp;j)&nbsp;sort1(l,&nbsp;j)</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(j&nbsp;&lt;&nbsp;r)&nbsp;sort1(i,&nbsp;r)</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>}</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;sort1(0,&nbsp;xs.length&nbsp;-&nbsp;1)</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>}</span></span></span></div></pre>
<p>b) Functional quicksort: the use of higher-order functions make the program
much smaller.</p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>def&nbsp;sort(xs:&nbsp;Array[Int]):&nbsp;Array[Int]&nbsp;=</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>if&nbsp;(xs.length&nbsp;&lt;=&nbsp;1)&nbsp;xs</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;else&nbsp;{</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>val&nbsp;pivot&nbsp;=&nbsp;xs(xs.length&nbsp;/&nbsp;2)</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;Array.concat(</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>sort(xs&nbsp;filter&nbsp;(pivot&nbsp;&gt;)),</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xs&nbsp;filter&nbsp;(pivot&nbsp;==),</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sort(xs&nbsp;filter&nbsp;(pivot&nbsp;&lt;)))</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>}</span></span></span></div></pre>
<h1>Sintaxe (Aula 02)</h1>
<hr>
<p>Administrative stuff:</p>
<ol>
<li>Did everybody got my e-mail?</li>
<li>Are there questions from the last class?
<ul>
<li>One point that may not have been made clear is that functional and  imperative are not absolute paradigms. Most of the languages provide
characteristics of both, e.g ML has references…</li>
</ul>
</li>
<li>Did anybody get into Euler’s?</li>
<li>Did anybody get the course slides?</li>
<li>Did anybody read the material for today’s class?</li>
</ol>
<hr>
<ol start="0">
<li>
<p>The sentense “I jump” makes perfect sense and sounds good to me<br>
The sentense “The chair jumps” does not make sense, but sounds good<br>
The sentence “I of” does not make sense, nor sounds good, but I can read it<br>
The sentence “oIf” is unreadable<br>
The sentence “o#u@f” is unspellable<br>
What is the difference in each case?</p>
</li>
<li>
<p>How I would describe a programming language?</p>
<ul>
<li>syntax</li>
<li>semantics</li>
</ul>
</li>
<li>
<p>Has anybody heard of Noam Chomsky? What about John Backus?
Grammar is <code>&lt;T, N, P, S&gt;</code></p>
</li>
</ol>
<ul>
<li><code>T</code> is a set of tokens,</li>
<li><code>N</code> is a set of nonterminals,</li>
<li><code>P</code> is a set of productions,</li>
<li><code>S</code> is a start symbol.</li>
</ul>
<ul>
<li>Tokens form the vocabulary of the language;</li>
<li>Nonterminals are not part of the language  they are enclosed in brackets <code>&lt;NP&gt;</code>;</li>
<li>Production is <code>&lt;non-terminal&gt; := &lt;expr1&gt; ... &lt;exprn&gt;</code><br>
Productions may have ‘|’ to separate alternatives.</li>
<li>The start symbol forms the root of any parse tree for the grammar.</li>
</ul>
<p>2.1. Have you ever seen the grammar of a true programming language?</p>
<p>Example:</p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&lt;exp&gt;&nbsp;&nbsp;&nbsp;::=&nbsp;&lt;exp&gt;&nbsp;&quot;+&quot;&nbsp;&lt;exp&gt;</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>|&nbsp;&nbsp;&lt;exp&gt;&nbsp;&quot;*&quot;&nbsp;&lt;exp&gt;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&quot;(&quot;&nbsp;&lt;exp&gt;&nbsp;&quot;)&quot;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&quot;a&quot;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&quot;b&quot;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&quot;c&quot;</span></span></span></div></pre>
<p>Parsing is the problem of building parsing trees for strings.</p>
<ol start="3">
<li>Example: show parse trees for each of these strings:</li>
</ol>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>a&nbsp;+&nbsp;b</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;a&nbsp;*&nbsp;b&nbsp;+&nbsp;c</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;(a&nbsp;+&nbsp;b)</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;(a&nbsp;+&nbsp;(b))</span></span></span></div></pre>
<p>We will be only dealing with Context-free grammars: the left side must be a
single non-terminal.</p>
<ol start="4">
<li>How would be a grammar for the assembly language that we saw last class?</li>
</ol>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>P&nbsp;::=&nbsp;I</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>|&nbsp;&nbsp;I&nbsp;P</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>I&nbsp;::=&nbsp;mov&nbsp;A&nbsp;A</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>|&nbsp;&nbsp;add&nbsp;A&nbsp;A</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;store&nbsp;A&nbsp;A</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;load&nbsp;A&nbsp;A</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;jump&nbsp;A</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>A&nbsp;::=&nbsp;$num</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>|&nbsp;eax,&nbsp;ebx,&nbsp;ecx,&nbsp;edx,&nbsp;ebp,&nbsp;esi,&nbsp;edi,&nbsp;esp</span></span></span></div></pre>
<ol start="5">
<li>Try to come up with a grammar for Portuguese:</li>
</ol>
<p>Example:</p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&lt;sentenca&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;::=&nbsp;&lt;expr_nominal&gt;&nbsp;&lt;predicado&gt;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&lt;expr_nominal&gt;&nbsp;::=&nbsp;&lt;artigo&gt;&nbsp;&lt;nome&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;&#39;o&nbsp;menino</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>|&nbsp;&nbsp;&lt;artigo&gt;&nbsp;&lt;nome&gt;&nbsp;&lt;expr_prepos&gt;&nbsp;&nbsp;&nbsp;&nbsp;&#39;&#39;o&nbsp;filho&nbsp;de&nbsp;Maria</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&lt;predicado&gt;&nbsp;&nbsp;&nbsp;&nbsp;::=&nbsp;&lt;verbo&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;&#39;caminha</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>|&nbsp;&nbsp;&lt;verbo&gt;&nbsp;&lt;expr_nominal&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;&#39;eh&nbsp;bonito</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&lt;verbo&gt;&nbsp;&lt;expr_nominal&gt;&nbsp;&lt;expr_prepos&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;&#39;gosta&nbsp;de&nbsp;Maria</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&lt;expr_prepos&gt;&nbsp;&nbsp;::=&nbsp;&lt;preposicao&gt;&nbsp;&lt;expr_nominal&gt;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&lt;nome&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;::=&nbsp;&quot;menino&quot;&nbsp;|&nbsp;&quot;menina&quot;&nbsp;|&nbsp;&quot;pato&quot;&nbsp;|&nbsp;&quot;telescopio&quot;&nbsp;|&nbsp;&quot;musica&quot;</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>|&nbsp;&quot;pena&quot;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&lt;preposicao&gt;&nbsp;&nbsp;&nbsp;::=&nbsp;&quot;com&quot;&nbsp;|&nbsp;&quot;ate&quot;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&lt;verbo&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;::=&nbsp;&quot;viu&quot;&nbsp;|&nbsp;&quot;esta&quot;&nbsp;|&nbsp;&quot;e&quot;&nbsp;|&nbsp;&quot;canta&quot;&nbsp;|&nbsp;&quot;surpreende&quot;&nbsp;|&nbsp;&quot;toca&quot;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&lt;artigo&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;::=&nbsp;&quot;um&quot;&nbsp;|&nbsp;&quot;uma&quot;&nbsp;|&nbsp;&quot;o&quot;&nbsp;|&nbsp;&quot;a&quot;</span></span></span></div></pre>
<p>A grammar is ambiguous if some phrase in the language gener-
ated by the grammar has two distinct derivation trees.</p>
<ol start="6">
<li>Can you find any ambiguity in the original grammar?</li>
</ol>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&lt;exp&gt;&nbsp;&nbsp;&nbsp;::=&nbsp;&lt;exp&gt;&nbsp;&quot;+&quot;&nbsp;&lt;exp&gt;</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>|&nbsp;&nbsp;&lt;exp&gt;&nbsp;&quot;*&quot;&nbsp;&lt;exp&gt;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&quot;(&quot;&nbsp;&lt;exp&gt;&nbsp;&quot;)&quot;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&quot;a&quot;&nbsp;|&nbsp;&quot;b&quot;&nbsp;|&nbsp;&quot;c&quot;</span></span></span></div></pre>
<p>Ex.: A menina toca o pato com a pena.<br>
Does pena belongs to pato, or is it the tool used by menina?</p>
<ol start="7">
<li>How can this grammar produce an infinite string?</li>
</ol>
<h4>Ambiguity:</h4>
<ol start="8">
<li>Does anybody see the ambiguity in this grammar?</li>
</ol>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&lt;cmd&gt;&nbsp;::=&nbsp;if&nbsp;&lt;bool_expr&gt;&nbsp;then&nbsp;&lt;cmd&gt;</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>|&nbsp;&nbsp;if&nbsp;&lt;bool_expr&gt;&nbsp;then&nbsp;&lt;cmd&gt;&nbsp;else&nbsp;&lt;cmd&gt;</span></span></span></div></pre>
<p>How to read:</p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>if&nbsp;(a&nbsp;&gt;&nbsp;b)&nbsp;then</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span><span class="meta paragraph text"><span>if&nbsp;(c&nbsp;&gt;&nbsp;d)&nbsp;then</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>print(1)</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span><span class="meta paragraph text"><span>else</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>print(2)</span></span></span></div></pre>
<hr>
<p>We recognize languages using programs called parsers.
Prolog is particularly good for writing parsers.</p>
<ol start="9">
<li>
<p>Write the parser for the Portuguese grammar in Prolog.</p>
<ul>
<li><a href="http://portug.pl">portug.pl</a></li>
</ul>
</li>
<li>
<p>Show that <code>a,menina,toca,o,pato,com,a,pena</code> has two derivations, whereas
<code>a,menina,toca,o,pato</code> has only one.</p>
</li>
<li>
<p>Play a little bit with the grammar, specifying different variables in some
productions, e.g:</p>
</li>
</ol>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>sentenca([a,Sujeito,toca,o,pato],[]).</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>sentenca&nbsp;--&gt;&nbsp;expr_nominal,&nbsp;predicado.</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>expr_nominal&nbsp;--&gt;&nbsp;artigo,&nbsp;nome.</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>expr_nominal&nbsp;--&gt;&nbsp;artigo,&nbsp;nome,&nbsp;expr_preposicional.</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>predicado&nbsp;--&gt;&nbsp;verbo.</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>predicado&nbsp;--&gt;&nbsp;verbo,&nbsp;expr_nominal.</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>predicado&nbsp;--&gt;&nbsp;verbo,&nbsp;expr_nominal,&nbsp;expr_preposicional.</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>expr_preposicional&nbsp;--&gt;&nbsp;preposicao,&nbsp;expr_nominal.</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>nome&nbsp;--&gt;&nbsp;[menino];&nbsp;[menina];&nbsp;[pato];&nbsp;[telescopio];&nbsp;[musica];&nbsp;[pena].</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>preposicao&nbsp;--&gt;&nbsp;[ate];&nbsp;[com].</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>verbo&nbsp;--&gt;&nbsp;[e];&nbsp;[viu];&nbsp;[esta];&nbsp;[toca];&nbsp;[canta];&nbsp;[surpreende].</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>artigo&nbsp;--&gt;&nbsp;[a];&nbsp;[o];&nbsp;[uma];&nbsp;[um].</span></span></span></div></pre>
<hr>
<ol start="12">
<li>Let’s write a grammar for numbers in Prolog?
<ul>
<li><a href="http://number.pl">number.pl</a></li>
</ul>
</li>
</ol>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&lt;number&gt;&nbsp;::=&nbsp;&lt;digit&gt;&nbsp;&lt;number&gt;</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>|&nbsp;&nbsp;&lt;digit&gt;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&lt;digit&gt;&nbsp;&nbsp;::=&nbsp;&quot;0&quot;,&nbsp;&quot;1&quot;,&nbsp;&quot;2&quot;,&nbsp;&quot;3&quot;,&nbsp;&quot;4&quot;,&nbsp;&quot;5&quot;,&nbsp;&quot;6&quot;,&nbsp;&quot;7&quot;,&nbsp;&quot;8&quot;,&nbsp;&quot;9&quot;</span></span></span></div></pre>
<p>In prolog, this grammar looks like:</p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>number&nbsp;--&gt;&nbsp;digit,&nbsp;number.</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>number&nbsp;--&gt;&nbsp;digit.</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>digit&nbsp;--&gt;&nbsp;[0]&nbsp;;&nbsp;[1]&nbsp;;&nbsp;[2]&nbsp;;&nbsp;[3]&nbsp;;&nbsp;[4]&nbsp;;&nbsp;[5]&nbsp;;&nbsp;[6]&nbsp;;&nbsp;[7]&nbsp;;&nbsp;[8]&nbsp;;&nbsp;[9].</span></span></span></div></pre>
<p>In prolog,<br>
’,’ means AND, and ‘;’ means OR.<br>
non-terminals are enclosed in []'s.</p>
<ol start="13">
<li>How to add signal to these numbers?<br>
E.g: <code>sigNum([-, 3, 4, 5], [])</code>.</li>
</ol>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>sigNum&nbsp;--&gt;&nbsp;signal,&nbsp;number.</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>sigNum&nbsp;--&gt;&nbsp;number.</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>signal&nbsp;--&gt;&nbsp;[-];&nbsp;[+].</span></span></span></div></pre>
<ol start="14">
<li>How to add a decimal dot to the signed numbers?<br>
E.g: <code>decNum([-, 2, 3, 4, ., 4, 5], [])</code></li>
</ol>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>decNum&nbsp;--&gt;&nbsp;sigNum,&nbsp;dot,&nbsp;number.</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>decNum&nbsp;--&gt;&nbsp;sigNum.</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>dot&nbsp;--&gt;&nbsp;[.].</span></span></span></div></pre>
<hr>
<p>If every production of a grammar is in the form
<code>&lt;p&gt; ::= t &lt;p'&gt;, or &lt;p&gt; ::= t, or &lt;p&gt; ::= \epsilon</code>, then the grammar is said to
be regular. Tokens are normally described by regular grammars.</p>
<p>Phrasal structure<br>
Lexical structure<br>
A compiler: scanner and parser.</p>
<hr>
<p>There is a hierarchy of grammars.</p>
<ol start="15">
<li>Example:<br>
Could you come up with a grammar to recognize strings having equal
numbers of a’s, b’s, and c’s in that order? Namely, the set  <code>{ abc, aabbcc, aaabbbccc, ... }</code>?</li>
</ol>
<ul>
<li>
<p>regular grammars.</p>
<ul>
<li>Finite state automaton.</li>
</ul>
</li>
<li>
<p>context-free grammars.</p>
<ul>
<li>Non-deterministic Pushdown automaton.</li>
</ul>
</li>
<li>
<p>context-sensitive grammars.</p>
<ul>
<li>Linear bounded automaton: Non-deterministic Turing machine with bounded tape</li>
</ul>
</li>
<li>
<p>Unrestricted grammars.</p>
<ul>
<li>Turing machine</li>
</ul>
<h1>Delving Deeper on the Kingdom of Syntax (Aula 03)</h1>
<p>Administrative stuff:</p>
<ol>
<li>Before sending me code for the project Euler, what makes a good program?</li>
</ol>
<ul>
<li>Indent the code.</li>
<li>Be consistent with formating: use only tabs (or spaces) for indentation.</li>
<li>Be consistent with naming conventions: bean_count, BeanCount, beanCoun, etc.</li>
<li>Use good, informative names.</li>
<li>Add comments (sensible comments).
<ul>
<li>Header file comments: purpose of file, author, date, etc</li>
<li>Function comments: purpose of function, usage example</li>
<li>Line comments: why it is done in that way.</li>
</ul>
</li>
</ul>
<ol start="2">
<li>
<p>Has anyone taken a look into the slides?</p>
</li>
<li>
<p>Review of last class:</p>
</li>
</ol>
<ul>
<li>How I would describe a programming language?
<ul>
<li>syntax <code>&lt;T, N, P, S&gt;</code></li>
<li>semantics</li>
</ul>
</li>
</ul>
<hr>
<ol>
<li>What is the role of grammars in compilers?</li>
</ol>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>scanner(a)&nbsp;--&gt;&nbsp;parser(b)&nbsp;--&gt;&nbsp;optimizer(c)&nbsp;--&gt;&nbsp;code&nbsp;generator(d)</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>a:&nbsp;separates&nbsp;strings&nbsp;into&nbsp;tokens</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>b:&nbsp;builds&nbsp;syntax&nbsp;tree</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>c:&nbsp;optimizes&nbsp;the&nbsp;program</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>d:&nbsp;generates&nbsp;machine&nbsp;code</span></span></span></div></pre>
<ol start="3">
<li>Grammars don’t define the whole meaning of the language, but they define
some meaning. Which meaning is defined by grammars?</li>
</ol>
<ul>
<li>Associativity</li>
<li>precedence</li>
</ul>
<ol start="4">
<li>What is an operator?</li>
</ol>
<ul>
<li>
<p>How many types of operators are there?</p>
<ul>
<li>unary</li>
<li>binary</li>
<li>ternary</li>
</ul>
</li>
<li>
<p>What defines associativity and precedence of operators?</p>
<ul>
<li>the structure of the parsing tree:</li>
</ul>
</li>
<li>
<p>What is the meaning of this expression in C?<br>
<code>a = b &lt; c ? * p + b * c : 1 &lt;&lt; d ()</code></p>
</li>
<li>
<p>Can you build a parsing tree for this expression?</p>
</li>
</ul>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>___ass___</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>a&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;&nbsp;&nbsp;&nbsp;____ternary_____</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>_/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\_</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>cp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sft</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>/&nbsp;|&nbsp;\&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/&nbsp;&nbsp;|&nbsp;&nbsp;\&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/&nbsp;&nbsp;|&nbsp;&nbsp;\</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>b&nbsp;&nbsp;&lt;&nbsp;&nbsp;c&nbsp;&nbsp;&nbsp;pt&nbsp;&nbsp;+&nbsp;&nbsp;&nbsp;mul&nbsp;&nbsp;1&nbsp;&nbsp;&lt;&lt;&nbsp;&nbsp;&nbsp;func</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>/&nbsp;\&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/&nbsp;|&nbsp;\&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/&nbsp;\</span></span></span></div><div class="line"><span class="text plain"><span class="meta bullet-point star text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="punctuation definition item text"><span>*</span></span><span>&nbsp;&nbsp;&nbsp;p&nbsp;&nbsp;&nbsp;b&nbsp;&nbsp;*&nbsp;&nbsp;c&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d&nbsp;&nbsp;()</span></span></span></div></pre>
<ol start="5">
<li>What is the value of <code>2 + 3 * 4</code> in the grammar below?</li>
</ol>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&lt;exp&gt;&nbsp;::=&nbsp;&lt;exp&gt;&nbsp;+&nbsp;&lt;exp&gt;</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>|&nbsp;&lt;exp&gt;&nbsp;*&nbsp;&lt;exp&gt;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;(&lt;exp&gt;)</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&lt;number&gt;</span></span></span></div></pre>
<p>We can evaluate the parse tree to get the value of the arithmetic expression.</p>
<ul>
<li>How to evaluate a parse tree?</li>
<li>What is the precedence of addition and multiplication in the grammar above?</li>
<li>How to modify this grammar so that multiplication has higher precedence?</li>
</ul>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&lt;exp&gt;&nbsp;::=&nbsp;&lt;exp&gt;&nbsp;+&nbsp;&lt;exp&gt;&nbsp;|&nbsp;&lt;mulexp&gt;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&lt;mulexp&gt;&nbsp;::=&nbsp;&lt;mulexp&gt;&nbsp;*&nbsp;&lt;mulexp&gt;</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>|&nbsp;(&lt;exp&gt;)</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&lt;number&gt;</span></span></span></div></pre>
<ol start="6">
<li>What is the associativity of ‘+’? Does it associate to the left, or to the
right?</li>
</ol>
<ul>
<li>
<p>What does it mean to say that something associates to the left or right?</p>
</li>
<li>
<p>Can anyone give an example of an operator that is right associative in C?</p>
<ul>
<li>assignment.</li>
</ul>
</li>
<li>
<p>An example where associativity could change the meaning of the
expression?<br>
<code>1 - 2 - 3</code></p>
</li>
<li>
<p>How to modify the grammar, so that the operations associate to the right?</p>
</li>
</ul>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&lt;exp&gt;&nbsp;::=&nbsp;&lt;mulexp&gt;&nbsp;+&nbsp;&lt;exp&gt;</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>|&nbsp;&lt;mulexp&gt;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&lt;mulexp&gt;&nbsp;::=&nbsp;&lt;rootexp&gt;&nbsp;*&nbsp;&lt;mulexp&gt;</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>|&nbsp;&lt;rootexp&gt;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&lt;rootexp&gt;&nbsp;::=&nbsp;(&nbsp;&lt;exp&gt;&nbsp;)</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>|&nbsp;&lt;number&gt;</span></span></span></div></pre>
<ul>
<li>
<p>What if I want them to associate to the left?</p>
</li>
<li>
<p>How to write this grammar in Prolog?</p>
</li>
</ul>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>/*&nbsp;num0.pl&nbsp;*/</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>expr&nbsp;--&gt;&nbsp;mulexp,&nbsp;[+],&nbsp;expr.</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>expr&nbsp;--&gt;&nbsp;mulexp.</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>mulexp&nbsp;--&gt;&nbsp;rootexp,&nbsp;[*],&nbsp;mulexp.</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>mulexp&nbsp;--&gt;&nbsp;rootexp.</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>rootexp&nbsp;--&gt;&nbsp;[&#39;(&#39;],&nbsp;expr,&nbsp;[&#39;)&#39;].</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>rootexp&nbsp;--&gt;&nbsp;number.</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>number&nbsp;--&gt;&nbsp;digit.</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>number&nbsp;--&gt;&nbsp;digit,&nbsp;number.</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>digit&nbsp;--&gt;&nbsp;[0]&nbsp;;&nbsp;[1]&nbsp;;&nbsp;[2]&nbsp;;&nbsp;[3]&nbsp;;&nbsp;[4]&nbsp;;&nbsp;[5]&nbsp;;&nbsp;[6]&nbsp;;&nbsp;[7]&nbsp;;&nbsp;[8]&nbsp;;&nbsp;[9].</span></span></span></div></pre>
<ul>
<li>Is this grammar right or left associative?</li>
</ul>
<ol start="7">
<li>Starting with this grammar:</li>
</ol>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&lt;exp&gt;&nbsp;::=&nbsp;&lt;mulexp&gt;&nbsp;+&nbsp;&lt;exp&gt;</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>|&nbsp;&lt;mulexp&gt;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&lt;mulexp&gt;&nbsp;::=&nbsp;&lt;rootexp&gt;&nbsp;*&nbsp;&lt;mulexp&gt;</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>|&nbsp;&lt;rootexp&gt;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&lt;rootexp&gt;&nbsp;::=&nbsp;(&nbsp;&lt;exp&gt;&nbsp;)</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>|&nbsp;&lt;number&gt;</span></span></span></div></pre>
<ul>
<li>
<p>Add a right-associative <code>&amp;</code> operator, at lower precedence than any of the
others, e.g:<br>
<code>expr([2,3,+,4,5,&amp;,1,2,*,3,4], []).</code></p>
</li>
<li>
<p>Then add a right-associative unary <code>**</code> operator, at higher
precedence than any of the others, e.g:<br>
<code>expr([2,3,+,4,5,&amp;,3,4,*,**,3,4], []).</code></p>
</li>
</ul>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>/*&nbsp;num1.pl&nbsp;*/</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>expr&nbsp;--&gt;&nbsp;ampexp,&nbsp;[&amp;],&nbsp;expr.</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>expr&nbsp;--&gt;&nbsp;ampexp.</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>ampexp&nbsp;--&gt;&nbsp;mulexp,&nbsp;[+],&nbsp;expr.</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>ampexp&nbsp;--&gt;&nbsp;mulexp.</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>mulexp&nbsp;--&gt;&nbsp;rootexp,&nbsp;[*],&nbsp;mulexp.</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>mulexp&nbsp;--&gt;&nbsp;rootexp.</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>rootexp&nbsp;--&gt;&nbsp;[&#39;(&#39;],&nbsp;expr,&nbsp;[&#39;)&#39;].</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>rootexp&nbsp;--&gt;&nbsp;[**],&nbsp;rootexp.</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>rootexp&nbsp;--&gt;&nbsp;number.</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>number&nbsp;--&gt;&nbsp;digit.</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>number&nbsp;--&gt;&nbsp;digit,&nbsp;number.</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>digit&nbsp;--&gt;&nbsp;[0]&nbsp;;&nbsp;[1]&nbsp;;&nbsp;[2]&nbsp;;&nbsp;[3]&nbsp;;&nbsp;[4]&nbsp;;&nbsp;[5]&nbsp;;&nbsp;[6]&nbsp;;&nbsp;[7]&nbsp;;&nbsp;[8]&nbsp;;&nbsp;[9].</span></span></span></div></pre>
<p>Ex.:  <code>expr([**,1,2,*,'(',1,+,2,')'],[]).</code></p>
<ol start="8">
<li>Let’s revisit our Portuguese grammar. Do you remember how was it?</li>
</ol>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>sentenca&nbsp;--&gt;&nbsp;expr_nominal,&nbsp;predicado.</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>expr_nominal&nbsp;--&gt;&nbsp;artigo,&nbsp;nome.</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>expr_nominal&nbsp;--&gt;&nbsp;artigo,&nbsp;nome,&nbsp;expr_preposicional.</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>predicado&nbsp;--&gt;&nbsp;verbo.</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>predicado&nbsp;--&gt;&nbsp;verbo,&nbsp;expr_nominal.</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>predicado&nbsp;--&gt;&nbsp;verbo,&nbsp;expr_nominal,&nbsp;expr_preposicional.</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>expr_preposicional&nbsp;--&gt;&nbsp;preposicao,&nbsp;expr_nominal.</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>nome&nbsp;--&gt;&nbsp;[menino]&nbsp;;&nbsp;[menina]&nbsp;;&nbsp;[pato]&nbsp;;&nbsp;[telescopio]&nbsp;;&nbsp;[musica]&nbsp;;&nbsp;[pena].</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>preposicao&nbsp;--&gt;&nbsp;[ate]&nbsp;;&nbsp;[com].</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>verbo&nbsp;--&gt;&nbsp;[e]&nbsp;;&nbsp;[viu]&nbsp;;&nbsp;[esta]&nbsp;;&nbsp;[toca]&nbsp;;&nbsp;[conta]&nbsp;;&nbsp;[surpreende].</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>artigo&nbsp;--&gt;&nbsp;[o]&nbsp;;&nbsp;[a]&nbsp;;&nbsp;[um]&nbsp;;&nbsp;[uma].</span></span></span></div></pre>
<ol start="9">
<li>We can embed computation in the grammar clauses. Can you code a grammar that
counts the words in the sentences?</li>
</ol>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>sentenca(W)&nbsp;--&gt;&nbsp;expr_nominal(W1),&nbsp;predicado(W2),&nbsp;{W&nbsp;is&nbsp;W1&nbsp;+&nbsp;W2}.</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>expr_nominal(W)&nbsp;--&gt;&nbsp;artigo,&nbsp;nome,&nbsp;{W&nbsp;is&nbsp;2}.</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>expr_nominal(W)&nbsp;--&gt;&nbsp;artigo,&nbsp;nome,&nbsp;expr_preposicional(WP),&nbsp;{W&nbsp;is&nbsp;WP&nbsp;+&nbsp;2}.</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>predicado(W)&nbsp;--&gt;&nbsp;verbo,&nbsp;{W&nbsp;is&nbsp;1}.</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>predicado(W)&nbsp;--&gt;&nbsp;verbo,&nbsp;expr_nominal(WN),&nbsp;{W&nbsp;is&nbsp;WN&nbsp;+&nbsp;1}.</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>predicado(W)&nbsp;--&gt;&nbsp;verbo,&nbsp;expr_nominal(WN),&nbsp;expr_preposicional(WP),&nbsp;{W&nbsp;is&nbsp;1&nbsp;+&nbsp;WN&nbsp;+&nbsp;WP}.</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>expr_preposicional(W)&nbsp;--&gt;&nbsp;preposicao,&nbsp;expr_nominal(WN),&nbsp;{W&nbsp;is&nbsp;1&nbsp;+&nbsp;WN}.</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>nome&nbsp;--&gt;&nbsp;[menino],&nbsp;[menina],&nbsp;[pato],&nbsp;[telescopio],&nbsp;[musica],&nbsp;[pena].</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>preposicao&nbsp;--&gt;&nbsp;[ate],&nbsp;[com].</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>verbo&nbsp;--&gt;&nbsp;[e],&nbsp;[viu],&nbsp;[esta],&nbsp;[toca],&nbsp;[conta],&nbsp;[surpreende].</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>artigo&nbsp;--&gt;&nbsp;[o],&nbsp;[a],&nbsp;[um],&nbsp;[uma].</span></span></span></div></pre>
<p>Example: <code>sentenca(W, [a, menina, toca, o, pato], []).</code></p>
<p><code>W = 5 ? ;</code></p>
<ol start="10">
<li>Can you use a similar technique to develop an interpreter to our grammar
of arithmetic expressions?</li>
</ol>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>expr(N)&nbsp;--&gt;&nbsp;mulexp(N1),&nbsp;[+],&nbsp;expr(N2),&nbsp;{N&nbsp;is&nbsp;N1&nbsp;+&nbsp;N2}.</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>expr(N)&nbsp;--&gt;&nbsp;mulexp(N).</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>mulexp(N)&nbsp;--&gt;&nbsp;rootexp(N1),&nbsp;[*],&nbsp;mulexp(N2),&nbsp;{N&nbsp;is&nbsp;N1&nbsp;*&nbsp;N2}.</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>mulexp(N)&nbsp;--&gt;&nbsp;rootexp(N).</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>rootexp(N)&nbsp;--&gt;&nbsp;[&#39;(&#39;],&nbsp;expr(N),&nbsp;[&#39;)&#39;].</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>rootexp(N)&nbsp;--&gt;&nbsp;number(N,&nbsp;_).</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>number(N,&nbsp;1)&nbsp;--&gt;&nbsp;digit(N).</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>number(N,&nbsp;C)&nbsp;--&gt;&nbsp;digit(ND),&nbsp;number(NN,&nbsp;C1),&nbsp;{</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>C&nbsp;is&nbsp;C1&nbsp;*&nbsp;10,</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;N&nbsp;is&nbsp;ND&nbsp;*&nbsp;C&nbsp;+&nbsp;NN</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>}.</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>digit(N)&nbsp;--&gt;&nbsp;[0],&nbsp;{N&nbsp;is&nbsp;0}</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>;&nbsp;[1],&nbsp;{N&nbsp;is&nbsp;1}</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;&nbsp;[2],&nbsp;{N&nbsp;is&nbsp;2}</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;&nbsp;[3],&nbsp;{N&nbsp;is&nbsp;3}</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;&nbsp;[4],&nbsp;{N&nbsp;is&nbsp;4}</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;&nbsp;[5],&nbsp;{N&nbsp;is&nbsp;5}</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;&nbsp;[6],&nbsp;{N&nbsp;is&nbsp;6}</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;&nbsp;[7],&nbsp;{N&nbsp;is&nbsp;7}</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;&nbsp;[8],&nbsp;{N&nbsp;is&nbsp;8}</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;&nbsp;[9],&nbsp;{N&nbsp;is&nbsp;9}.</span></span></span></div></pre>
<p>Ex.:  <code>expr(N, [2,*,'(',3,+,4,')'], []).</code></p>
<ol start="11">
<li>Normally we can encode precedence and associativity as a tree. Let’s call
this tree the “abstract syntax tree”. What is the tree for this expression:<br>
<code>10 * (15 + 2)?</code></li>
</ol>
<ul>
<li>The meaning of the parenthesis is implicit in the structure of the tree.</li>
<li>A compiler does not have to represent the whole tree internally:</li>
</ul>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta bullet-point star text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="punctuation definition item text"><span>*</span></span><span>&nbsp;</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>/&nbsp;&nbsp;&nbsp;\</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>10&nbsp;&nbsp;&nbsp;&nbsp;+</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>/&nbsp;&nbsp;&nbsp;\</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>15&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2</span></span></span></div></pre>
<ol start="11">
<li>Can you create an abstract syntax tree for the portuguese grammar?</li>
</ol>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>sentenca(sTN(E,P))&nbsp;--&gt;&nbsp;expr_nominal(E),&nbsp;predicado(P).</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>expr_nominal(eNL(A,N))&nbsp;--&gt;&nbsp;artigo(A),&nbsp;nome(N).</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>expr_nominal(eNL(A,N,EP))&nbsp;--&gt;&nbsp;artigo(A),&nbsp;nome(N),&nbsp;expr_preposicional(EP).</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>predicado(pRD(V))&nbsp;--&gt;&nbsp;verbo(V).</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>predicado(pRD(V,EN))&nbsp;--&gt;&nbsp;verbo(V),&nbsp;expr_nominal(EN).</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>predicado(pRD(V,EN,EP))&nbsp;--&gt;&nbsp;verbo(V),&nbsp;expr_nominal(EN),&nbsp;expr_preposicional(EP).</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>expr_preposicional(ePP(P,EN))&nbsp;--&gt;&nbsp;preposicao(P),&nbsp;expr_nominal(EN).</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>nome(nOM)&nbsp;--&gt;&nbsp;[menino]&nbsp;;&nbsp;[menina]&nbsp;;&nbsp;[pato]&nbsp;;&nbsp;[telescopio]&nbsp;;&nbsp;[musica]&nbsp;;&nbsp;[pena].</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>preposicao(pRP)&nbsp;--&gt;&nbsp;[ate]&nbsp;;&nbsp;[com].</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>verbo(vRB)&nbsp;--&gt;&nbsp;[e]&nbsp;;&nbsp;[viu]&nbsp;;&nbsp;[esta]&nbsp;;&nbsp;[toca]&nbsp;;&nbsp;[conta]&nbsp;;&nbsp;[surpreende].</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>artigo(aRT)&nbsp;--&gt;&nbsp;[o]&nbsp;;&nbsp;[a]&nbsp;;&nbsp;[um]&nbsp;;&nbsp;[uma].</span></span></span></div></pre>
<p>Example: <code>sentenca(T, [a, menina, toca, o, pato, com, a, pena], []).</code></p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>T&nbsp;=&nbsp;sTN(eNL(aRT,nOM),pRD(vRB,eNL(aRT,nOM,ePP(pRP,eNL(aRT,nOM)))))&nbsp;?&nbsp;;</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>T&nbsp;=&nbsp;sTN(eNL(aRT,nOM),pRD(vRB,eNL(aRT,nOM),ePP(pRP,eNL(aRT,nOM))))&nbsp;?&nbsp;;</span></span></span></div></pre>
<ul>
<li>
<p>This AST has a problem, the leaf nodes have no names. How to add the
names?</p>
</li>
<li>
<p>What are the two syntaxe trees produced for:
<code>sentenca(W, T, [a, menina, toca, o, pato, com, a, pena], []).</code></p>
</li>
</ul>
<ol start="12">
<li>
<p>Is the grammar <span class="math"><script type="math/tex">a^n b^n</script></span> regular?</p>
</li>
<li>
<p>Specify a prolog grammar that recognizes this language.</p>
</li>
</ol>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>/*&nbsp;ab.pl&nbsp;*/</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>ab&nbsp;--&gt;&nbsp;[a]&nbsp;,&nbsp;ab&nbsp;,&nbsp;[b].</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>ab&nbsp;--&gt;&nbsp;[].</span></span></span></div></pre>
<ol start="14">
<li>Specify a prolog grammar that recognizes this <span class="math"><script type="math/tex">a^n b^n c^n</script></span>:</li>
</ol>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>/*&nbsp;abc.pl&nbsp;*/</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>abc&nbsp;--&gt;&nbsp;as(N),&nbsp;bs(N),&nbsp;cs(N).</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>as(0)&nbsp;--&gt;&nbsp;[].</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>as(M)&nbsp;--&gt;&nbsp;[a],&nbsp;as(N),&nbsp;{M&nbsp;is&nbsp;N&nbsp;+&nbsp;1}.</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>bs(0)&nbsp;--&gt;&nbsp;[].</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>bs(M)&nbsp;--&gt;&nbsp;[b],&nbsp;bs(N),&nbsp;{M&nbsp;is&nbsp;N&nbsp;+&nbsp;1}.</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>cs(0)&nbsp;--&gt;&nbsp;[].</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>cs(M)&nbsp;--&gt;&nbsp;[c],&nbsp;cs(N),&nbsp;{M&nbsp;is&nbsp;N&nbsp;+&nbsp;1}.</span></span></span></div></pre>
<ol start="15">
<li>Specify a prolog grammar that recognizes <span class="math"><script type="math/tex">a^n b^m a^n b^m</script></span></li>
</ol>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>abab&nbsp;--&gt;&nbsp;an(N),&nbsp;bm(M),&nbsp;an(N),&nbsp;bm(M).</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>an(0)&nbsp;--&gt;&nbsp;[].</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>an(NN)&nbsp;--&gt;&nbsp;[a],&nbsp;an(N),&nbsp;{NN&nbsp;is&nbsp;N&nbsp;+&nbsp;1}.</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>bm(0)&nbsp;--&gt;&nbsp;[].</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>bm(MM)&nbsp;--&gt;&nbsp;[b],&nbsp;bm(M),&nbsp;{MM&nbsp;is&nbsp;M&nbsp;+&nbsp;1}.</span></span></span></div></pre>
<ol start="16">
<li>The compiler/interpreter uses the parsing tree for many things. Examples?</li>
</ol>
<ul>
<li>Syntactic verification;</li>
<li>Type checking;</li>
<li>Interpretation.</li>
<li>Code generation.</li>
<li>Program analysis.</li>
</ul>
<ol start="17">
<li>Which kinds of static verifications can a compiler do on an input program?</li>
</ol>
<ul>
<li>
<p>Which of them can be done directly via context-free grammars?</p>
</li>
<li>
<p>Which cannot?</p>
</li>
</ul>
</li>
</ul>
<h1>Language systems (Aula 04)</h1>
<ol>
<li>What is the life cycle of a program?</li>
</ol>
<ul>
<li>Write the program using a text editor.</li>
<li>Compile the program to machine code:
<ul>
<li>Compile the program to assembly.</li>
<li>Translate assembly to machine code.</li>
<li>Link with libraries.</li>
<li>Load program in memory, and replace names with addresses.</li>
</ul>
</li>
<li>Debug the program.</li>
</ul>
<p>The classical Sequence:
[editor] --&gt; source file --&gt; [preprocessor] --&gt; preprocessed source file
–&gt; [compiler] --&gt; assembly language file --&gt; [assembler] --&gt;
object file --&gt; [linker] --&gt; executable file --&gt;
[loader] --&gt; running program in memory</p>
<p>1.1) What is assembly code?</p>
<p>1.2) What is machine code?</p>
<p>1.3) What is really the command gcc?</p>
<p>In the example below, let’s consider the following C file:
/* cube.c */</p>
<h1>include &lt;stdio.h&gt;</h1>
<h1>define CUBE(x) (x)<em>(x)</em>(x)</h1>
<p>int main() {
int i = 0;
int x = 2;
int sum = 0;
while (i++ &lt; 100) {
sum += CUBE(x);
}
printf(“The sum is %d\n”, sum);
}
1.3) How to produce the preprocessed code from a c file?
gcc -E cube.c &gt; cube.p.c</p>
<p>1.3.1) Why does it have so many lines?</p>
<p>1.3.2) Which declarations will be in these lines?</p>
<p>1.3.3) What if I remove the #include from the program?</p>
<p>1.4) How to produce an assembly program from a c file?
gcc -S cube.p.c</p>
<ul>
<li>or in cpp -
/usr/libexec/gcc/i686-pc-linux-gnu/4.1.2/cc1 cube.p.c -o cube.p.s</li>
<li>or in rhyme or doce.grad -
/usr/lib/gcc/i486-linux-gnu/4.4.3/cc1 cube.p.c -o cube.p.s</li>
</ul>
<p>1.4.1) Where is “The sum is %d”?</p>
<p>1.4.2) Where is the loop?</p>
<p>1.4.3) Is this program efficient?</p>
<p>1.5) How to produce an object file?
as cube.p.s -o cube.o</p>
<p>1.5.1) Where is “The sum is %d”?</p>
<p>1.5.2) Where is printf?</p>
<p>1.6) How to link with the external libraries?
/* In cpp: */
/usr/libexec/gcc/i686-pc-linux-gnu/4.1.2/collect2 --eh-frame-hdr -m elf_i386
-dynamic-linker /lib/ld-linux.so.2
/usr/lib/gcc/i686-pc-linux-gnu/4.1.2/…/…/…/crt1.o
/usr/lib/gcc/i686-pc-linux-gnu/4.1.2/…/…/…/crti.o
/usr/lib/gcc/i686-pc-linux-gnu/4.1.2/crtbegin.o
-L/usr/lib/gcc/i686-pc-linux-gnu/4.1.2
-L/usr/lib/gcc/i686-pc-linux-gnu/4.1.2
-L/usr/lib/gcc/i686-pc-linux-gnu/4.1.2/…/…/…/…/i686-pc-linux-gnu/lib
-L/usr/lib/gcc/i686-pc-linux-gnu/4.1.2/…/…/… -lgcc --as-needed -lgcc_s
–no-as-needed -lc -lgcc --as-needed -lgcc_s --no-as-needed
/usr/lib/gcc/i686-pc-linux-gnu/4.1.2/crtend.o
/usr/lib/gcc/i686-pc-linux-gnu/4.1.2/…/…/…/crtn.o cube.o -o cube.exe</p>
<p>/* In rhyme */
/usr/lib/gcc/i486-linux-gnu/4.4.3/collect2 --build-id --eh-frame-hdr
-m elf_i386 --hash-style=both -dynamic-linker /lib/ld-linux.so.2 -z relro
/usr/lib/gcc/i486-linux-gnu/4.4.3/…/…/…/…/lib/crt1.o
/usr/lib/gcc/i486-linux-gnu/4.4.3/…/…/…/…/lib/crti.o
/usr/lib/gcc/i486-linux-gnu/4.4.3/crtbegin.o
-L/usr/lib/gcc/i486-linux-gnu/4.4.3 -L/usr/lib/gcc/i486-linux-gnu/4.4.3
-L/usr/lib/gcc/i486-linux-gnu/4.4.3/…/…/…/…/lib
-L/lib/…/lib -L/usr/lib/…/lib -L/usr/lib/gcc/i486-linux-gnu/4.4.3/…/…/…
-L/usr/lib/i486-linux-gnu -lgcc --as-needed -lgcc_s --no-as-needed -lc -lgcc
–as-needed -lgcc_s --no-as-needed /usr/lib/gcc/i486-linux-gnu/4.4.3/crtend.o
/usr/lib/gcc/i486-linux-gnu/4.4.3/…/…/…/…/lib/crtn.o cube.o -o cube.exe</p>
<p>1.6.1) Why is the executable so much larger than the object?</p>
<p>1.6.2) what are the differences between the object and the executable?</p>
<ol start="2">
<li>Compilers do some optimizations. How to optimize the code below?
int i = 0;
while (i &lt; 100) {
a[i++] = x<em>x</em>x;
}</li>
</ol>
<p>/* In cpp */
$&gt; /usr/libexec/gcc/i686-pc-linux-gnu/4.1.2/cc1 cube.p.c -o cube.p.s -O1</p>
<p>/* In rhyme */
/usr/lib/gcc/i486-linux-gnu/4.4.3/cc1 cube.p.c -o cube.p.s -O1</p>
<p>2.1) What is this new program doing?</p>
<p>2.2) Is there any disadvantage in doing some optimization?</p>
<ul>
<li>It makes it harder to see what assembly is produced for each statement.</li>
</ul>
<p>2.3) Are there many levels of optimization. What are the differences between
these levels?</p>
<p>Example:
2.2) What will be produced by gcc for the program below?</p>
<h1>include &lt;stdio.h&gt;</h1>
<p>int main() {
int i = 7;
int* p = &amp;i;
*p = 13;
printf(“The value of i = %d\n”, i);
}
Compare it with what gcc does for:</p>
<h1>include &lt;stdio.h&gt;</h1>
<p>int main() {
printf(“The value of i = %d\n”, 13);
}</p>
<p>E.g: compile both with -s, and then -s -O1</p>
<ol start="3">
<li>Are all the assembly programs the same?
3.1) A program written in C compiles to the same assembly as a program
written in SML?
3.2) When are assembly programs different?</li>
</ol>
<ul>
<li>When we compile to different computer architectures.
3.3) What is a computer architecture?</li>
<li>Hardware specification</li>
<li>Instruction set.
3.4) Give examples of computer architectures.</li>
</ul>
<p>/* In rhyme, at /work/fpereira/classes/lesson4 $ */
$&gt; clang cube.p.c -o cube.p.bc -c -emit-llvm
$&gt; llc cube.p.bc -march=arm -o cube.p.arm.s
$&gt; llc cube.p.bc -march=ppc32 -o cube.p.ppc32.s
$&gt; llc cube.bc -march=mips -o cube.mips.s</p>
<ol start="4">
<li>What is the way to execute a program other than compiling?</li>
</ol>
<ul>
<li>With an interpreter.</li>
</ul>
<p>4.1) Can you write a bash script to list all the files in a director?</p>
<h1>!/bin/bash</h1>
<p>for f in <code>ls</code>; do
echo &quot;File -&gt; $f&quot;
done</p>
<ol start="5">
<li>Any other way?</li>
</ol>
<ul>
<li>With a virtual machine.</li>
</ul>
<p>5.1) What is the difference between an interpreter and a virtual machine?</p>
<p>5.2) What are the advantages of virtual machines?</p>
<ul>
<li>portability.</li>
<li>security.</li>
<li>profiling.</li>
</ul>
<p>5.3) What is a famous virtual machine that you know?</p>
<ul>
<li>The java virtual machine, which exists in any browser.</li>
</ul>
<p>5.3.1) How to compile a simple Java program?</p>
<p>5.3.2) What is a ‘.class’?</p>
<p>To sum it up:
Interpreters &lt;-- high-level language
Virtual machines &lt;-- intermediate language
Hardware &lt;-- machine code produced by a compiler</p>
<ol start="6">
<li>After linking, the size of a program grows considerably. How to avoid this
problem?</li>
</ol>
<ul>
<li>Use dynamic linking.
6.1) How does dynamic linking work?
6.2) What is the name of dynamic link libraries in windows? .dll
6.3) What about in unix? .so
6.4) How is dynamic linking in Java?
6.5) What are the advantages of dynamic libraries?</li>
<li>multiple programs can share code in memory.</li>
<li>library code can be updated in separate.</li>
<li>avoids loading code that is never used.</li>
</ul>
<ol start="7">
<li>What is a just-in-time compiler?</li>
</ol>
<ul>
<li>compiles while interprets.</li>
</ul>
<ol start="8">
<li>Where is the implementation of printf in the executable of cube.c?</li>
</ol>
<ul>
<li>
<p>Dynamic linking:
$&gt; gcc cube.c -o dyn.exe
$&gt; objdump -x dyn.exe
$&gt; objdump -d dyn.exe</p>
</li>
<li>
<p>Static linking
$&gt; gcc -static cube.c -o static.exe
$&gt; objdump -x static.exe
$&gt; objdump -d static.exe</p>
</li>
</ul>
<p>$&gt; ls *.exe
7140 dyn.exe
577945 static.exe</p>
<p>BINDING</p>
<ol start="8">
<li>In our example program:
int i;
void main() {
for (i=1; i&lt;=100; i++)
fred(i);
}</li>
</ol>
<p>What set of values is associated with int?</p>
<ul>
<li>language implementation time as in C, or language specification time
as in Java.</li>
</ul>
<p>What is the type of fred?</p>
<ul>
<li>compile time.</li>
</ul>
<p>What is the address of the object code for main?</p>
<ul>
<li>load time.</li>
</ul>
<p>What is the implementation of fred?</p>
<ul>
<li>link time.</li>
</ul>
<p>What is the value of i?</p>
<ul>
<li>Runtime.</li>
</ul>
<p>The binding times are:
Language definition time
Language implementation time
Compile time
Link time
Load time
Runtime</p>
<p>8.1) What is defined during language definition time?</p>
<ul>
<li>meaning of key words.</li>
</ul>
<p>8.2) What is defined during language implementation?</p>
<ul>
<li>range of values of int in C (but not in Java)</li>
</ul>
<p>8.3) What is defined during compilation time?</p>
<ul>
<li>type of variables.</li>
</ul>
<p>8.4) What is defined during link time?</p>
<ul>
<li>code of external functions.</li>
</ul>
<p>8.5) What is defined during load time?</p>
<ul>
<li>Memory location of code, data, etc</li>
</ul>
<p>8.6) What is defined during run time?</p>
<ul>
<li>Value of variables.</li>
<li>Type of variables in Perl, JavaScript, Lisp, etc.</li>
</ul>
<ol start="9">
<li>What is a debugger?
9.1) What are good debugging informations?</li>
</ol>
<ul>
<li>where is the program executing,</li>
<li>the trace of execution,</li>
<li>the value of variables.</li>
</ul>
<p>Gdb Tutorial:
g++ -g <a href="http://buggy.cc">buggy.cc</a>
gdb a.out
$&gt; run
$&gt; where</p>
<h1>0  0x08048a32 in Node<int>::next (this=0x0) at <a href="http://buggy.cc:28">buggy.cc:28</a></int></h1>
<h1>1  0x08048d27 in LinkedList<int>::remove (this=0x804c008,</int></h1>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>item_to_remove=@0xbfc51450)&nbsp;at&nbsp;buggy.cc:77</span></span></span></div></pre>
<h1>2  0x08048969 in main () at <a href="http://buggy.cc:120">buggy.cc:120</a></h1>
<p>$&gt; x 0xbfc51450 // shows whats’up on item_to_remove</p>
<p>10.1) Why can’t I simply do
$&gt; p item_to_remove ?</p>
<p>$&gt; bt
$&gt; break LinkedList<int>::remove
$&gt; condition 1 item_to_remove==1</int></p>
<p>The role of operating system:</p>
<ul>
<li>giving memory to the linker,</li>
<li>taking care of memory management,</li>
<li>interface with the world: I/O</li>
</ul>
<p>To sum it up:
Interpreter: swipl
Compiler: gcc
Assembler: as
Linker: ld
Loader: operating system.
Virtual Machine: JVM
JIT compiler: browser compiling applets.</p>
<h1>Introduction to ML (Aula 05)</h1>
<p>The last class:
Interpreter: swipl
Compiler: gcc
Assembler: as
Linker: ld
Loader: operating system.
Virtual Machine: JVM
JIT compiler: Firefox’s traceMonkey.</p>
<p>ML was designed by Robin Milner and others on the early seventies.</p>
<p>ML has many dialects, we will be using SML, which stands for Standard ML.</p>
<p>We will be using mostly interpreted ML.
The interpreter gives us an interactive programming environment.</p>
<ul>
<li>4 + 3;
val it = 7: int</li>
</ul>
<ol>
<li>What we notice here?</li>
</ol>
<ul>
<li>
<p>type inference.</p>
</li>
<li>
<p>variable it.</p>
</li>
<li>
<p>The ending semi-collon</p>
</li>
<li>
<p>1.4;
val it = 1.4 : real</p>
</li>
</ul>
<ol start="2">
<li>In ML, the unary minus is ~, like ~1.4. Why not to use the simple hyphen?</li>
</ol>
<p>Examples of int, real and boolean expression:</p>
<ul>
<li>true;
val it = true : bool</li>
<li>1.4;
val it = 1.4 : real</li>
<li>14;
val it = 14 : int</li>
</ul>
<ol start="3">
<li>What are primitive types?
In ML strings are primitive:</li>
</ol>
<ul>
<li>“dcc024”;</li>
</ul>
<p>To make characters, we use #:</p>
<ul>
<li>
<h1>“a”;</h1>
</li>
</ul>
<p>There are many arithmetic operators in ML:</p>
<ul>
<li>~ 1 + 2 - 3 * 4 div 5 mod 6;
val it = ~1: int</li>
<li>~ 1.0 + 2.0 - 3.0 * 4.0 / 5.0;</li>
</ul>
<ol start="4">
<li>What is the relative precedence between +, -, *, /, div, mod, ~?</li>
</ol>
<p>Other operators:</p>
<ul>
<li>“bibity” ^ “bobity” ^ “boo”;
val it = “bibitybobityboo” : string</li>
<li>2 &lt; 3;
val it = true : bool</li>
<li>1.0 &lt;= 1.0;
val it = true : bool</li>
<li>
<h1>“d” &gt; #“c”;</h1>
</li>
</ul>
<p>val it = true : bool</p>
<ul>
<li>“abce” &gt;= “abd”;
val it = false : bool</li>
</ul>
<ol start="5">
<li>What is the value of:</li>
</ol>
<ul>
<li>1.3 = 1.3;
5.1) What about - 1.3 &lt;&gt; 1.3;</li>
</ul>
<p>Some more operands:</p>
<ul>
<li>1 &lt; 2 orelse 3 &gt; 4;
val it = true : bool</li>
<li>1 &lt; 2 andalso not (3 &lt; 4);
val it = false : bool</li>
</ul>
<ol start="6">
<li>How to compare two real numbers?</li>
</ol>
<ul>
<li>fun rcomp a (b:real) = not (a &lt; b orelse a &gt; b);
val rcomp = fn : real -&gt; real -&gt; bool</li>
<li>rcomp 3.0 3.0;
val it = true : bool</li>
</ul>
<ol start="7">
<li>
<p>How is our precedence table so far?
{orelse} &lt; {andalso} &lt; {=,&lt;&gt;,&lt;,&gt;,&lt;=,&gt;=} &lt; {+,-,^} &lt; {*,/,div,mod} &lt; {~,not}</p>
</li>
<li>
<p>What is the value of 1 div 0;?
8.1) What is the value of: - true orelse 1 div 0 = 0; ?</p>
</li>
</ol>
<p>SML has conditional expressions:</p>
<ul>
<li>if 1 &lt; 2 then #“x” else #“y”;
val it = #“x” : char</li>
<li>if 1 &gt; 2 then 34 else 56;
val it = 56 : int</li>
<li>(if 1 &lt; 2 then 34 else 56) + 1;
val it = 35 : int</li>
</ul>
<ol start="9">
<li>
<p>In SML, every if has a then and an else. Why the designers of the
language prefer not to have a if without an else?</p>
</li>
<li>
<p>What is the difference between an expression and a command?</p>
</li>
<li>
<p>What is the type and the value of each of these expressions?</p>
</li>
</ol>
<p>1 * 2 + 3 * 4;
“abc” ^ “def”;
if (1 &lt; 2) then 3.0 else 4.0;
1 &lt; 2 orelse (1 div 0) = 0;</p>
<ol start="12">
<li>What is wrong with each of these expressions?
10 / 5;</li>
</ol>
<h1>“a” = #“b” or 1 = 2;</h1>
<p>1.0 = 1.0;
if (1&lt;2) then 3</p>
<p>SML has overloading:</p>
<ul>
<li>1 * 2;
val it = 2 : int</li>
<li>1.0 * 2.0;
val it = 2.0 : real</li>
</ul>
<ol start="11">
<li>What is the value of:</li>
</ol>
<ul>
<li>1.0 * 2;</li>
</ul>
<p>There are built-in conversion functions:</p>
<ul>
<li>real(123);
val it = 123.0 : real</li>
<li>floor(3.6);
val it = 3 : int</li>
<li>floor 3.6;
val it = 3 : int</li>
<li>str #“a”;
val it = “a” : string</li>
</ul>
<ol start="12">
<li>What is the value of:</li>
</ol>
<ul>
<li>fun square x = x * x;</li>
<li>square 2+1;
12.1) What is the associativity of function application?</li>
</ul>
<ol start="13">
<li>What is wrong with the functions below?
trunc 5
ord &quot;a&quot;
if 0 then 1 else 2
if true then 1 else 2.0
chr trunc 97.0, but notice “chr(trunc(97.0)); chr(trunc 97.0)”</li>
</ol>
<p>We can bind values to names in SML:</p>
<ul>
<li>val x = 1+2*3;
val x = 7 : int</li>
<li>x;
val it = 7 : int</li>
</ul>
<ol start="14">
<li>What is the difference between variables in SML and C?</li>
</ol>
<ul>
<li>See, for instance, this program:
int main() {
int x = 1;
int* p = &amp;x;
*p = 2;
printf(&quot;%d\n&quot;, x);
}</li>
</ul>
<ol start="15">
<li>What is the value and type of each of these declarations?
val a = “123”;
val b = “456”;
val c = a ^ b ^ “789”;
val a = 3 + 4;</li>
</ol>
<ul>
<li>a;</li>
<li>b;</li>
<li>c;</li>
</ul>
<ol start="16">
<li>What is ‘it’ here?</li>
</ol>
<ul>
<li>2 + 3;
val it = 5</li>
</ul>
<p>ML has tuples:</p>
<ul>
<li>val barney = (1+2, 3.0*4.0, “brown”);
val barney = (3,12.0,“brown”) : int * real * string</li>
</ul>
<ol start="17">
<li>What is the ‘*’?</li>
</ol>
<ul>
<li>val point1 = (“red”, (300,200));
val point1 = (“red”,(300,200)) : string * (int * int)</li>
<li>
<h1>2 barney;</h1>
</li>
</ul>
<p>val it = 12.0 : real</p>
<p>17.1) How to get the first element of the tuple inside point1?</p>
<ul>
<li>
<h1>1 (#2 point1);</h1>
</li>
</ul>
<p>val it = 300 : int</p>
<p>17.2) What is the value of:</p>
<ul>
<li>
<h1>1 (1, 2);</h1>
</li>
</ul>
<p>val it = 1 : int
17.3) What is the value of:</p>
<ul>
<li>
<h1>1 (1);</h1>
</li>
</ul>
<ol start="18">
<li>What is the difference between:
int * (int * bool) and (int * int) * bool?</li>
</ol>
<p>One of the most important data structures is the list, e.g:</p>
<ul>
<li>[1,2,3];
val it = [1,2,3] : int list</li>
<li>[1.0,2.0];
val it = [1.0,2.0] : real list</li>
</ul>
<ol start="19">
<li>What is the type of the declarations below?</li>
</ol>
<ul>
<li>[true];
val it = [true] : bool list</li>
<li>[(1,2),(1,3)];
val it = [(1,2),(1,3)] : (int * int) list</li>
<li>[[1,2,3],[1,2]];
val it = [[1,2,3],[1,2]] : int list list</li>
</ul>
<ol start="20">
<li>What is the difference between lists and tuples?</li>
</ol>
<p>There is an empty list:</p>
<ul>
<li>[];
val it = [] : 'a list</li>
<li>nil;
val it = [] : 'a list</li>
</ul>
<ol start="21">
<li>
<p>What is the type of nil?</p>
</li>
<li>
<p>What is the type constructor for lists?</p>
</li>
</ol>
<p>There is a function to test if a list is null:</p>
<ul>
<li>null [];
val it = true : bool</li>
<li>null [1,2,3];
val it = false : bool</li>
</ul>
<p>There is a function to concatenate lists:</p>
<ul>
<li>[1,2,3]@[4,5,6];
val it = [1,2,3,4,5,6] : int list</li>
</ul>
<ol start="23">
<li>What is the complexity of ‘@’?</li>
</ol>
<p>There is a constructor for lists:</p>
<ul>
<li>val x = #“c”::[];
val x = [#“c”] : char list</li>
<li>val y = #“b”::x;
val y = [#“b”,#“c”] : char list</li>
<li>val z = #“a”::y;
val z = [#“a”,#“b”,#“c”] : char list</li>
</ul>
<ol start="24">
<li>
<p>What is the complexity of ::?</p>
</li>
<li>
<p>Consider: - val z = 1::2::3::[];
What is the associativity of ::?</p>
</li>
</ol>
<p>There are special functions to manipulate lists of characters:</p>
<ul>
<li>explode “hello”;
val it = [#“h”,#“e”,#“l”,#“l”,#“o”] : char list</li>
<li>implode [#“h”,#“i”];
val it = “hi” : string</li>
</ul>
<p>There are two important functions to manipulate lists:
hd and tl:</p>
<ul>
<li>hd;
val it = fn : 'a list -&gt; 'a</li>
<li>tl;
val it = fn : 'a list -&gt; 'a list</li>
</ul>
<ol start="26">
<li>
<p>What is the type of hd?
26.1) What is the type of tl?</p>
</li>
<li>
<p>What are the values of these expressions?</p>
</li>
</ol>
<h1>2(3,4,5)</h1>
<p>hd(1::2::nil)
hd(tl(#2([1,2],[3,4])));</p>
<ol start="28">
<li>What is wrong with the following expressions?
1@2
hd(tl(tl [1,2]))
[1]::[2,3]</li>
</ol>
<p>We build programs in ML using functions:</p>
<ol start="29">
<li>How to get the first character of a list?</li>
</ol>
<ul>
<li>fun firstChar s = hd (explode s);
val firstChar = fn : string -&gt; char</li>
</ul>
<ol start="30">
<li>How does ML finds the type of the function?
30.1) What is the type constructor of functions?</li>
</ol>
<ul>
<li>firstChar “abc”;
val it = #“a” : char</li>
</ul>
<p>Every function in SML takes exactly one parameter:</p>
<ul>
<li>fun quot(a,b) = a div b;
val quot = fn : int * int -&gt; int</li>
<li>quot (6,2);
val it = 3 : int</li>
<li>val pair = (6,2);
val pair = (6,2) : int * int</li>
<li>quot pair;
val it = 3 : int</li>
</ul>
<ol start="31">
<li>
<p>Can you define a factorial function?
fun fact n = if n &lt; 2 then 1 else n * fact(n-1);</p>
</li>
<li>
<p>Can you define a function to sum all the elements of a list?
fun listsum x = if null x then 0 else hd x + listsum(tl x);
32.1) What is the type of this function?</p>
</li>
<li>
<p>Define a function to compute the length of a list:
fun length x = if null x then 0 else 1 + length (tl x);</p>
</li>
</ol>
<p>Consider this function:
fun badlength x = if x=[] then 0 else 1 + badlength (tl x);</p>
<ol start="34">
<li>What is the value of badlength [1.0, 2.0]?</li>
</ol>
<p>How to fix badlength? With null x.</p>
<ol start="35">
<li>
<p>Produce a function to reverse a list:
fun reverse L = if null L then nil else reverse(tl L) @ [hd L];</p>
</li>
<li>
<p>Which primitive types have we seen so far?
int, real, bool, char and string.</p>
</li>
<li>
<p>Which type constructors? *, list and -&gt;</p>
</li>
<li>
<p>What is the precedence in:
int * bool list -&gt; real
Ans: same as (int * (bool list)) -&gt; real</p>
</li>
<li>
<p>What is the type of fun prod(a,b) = a * b;?
39.1) Why int instead of real?
39.2) How to force real?</p>
</li>
</ol>
<p>fun prod(a,b):real = a * b;
fun prod(a:real,b) = a * b;
fun prod(a,b:real) = a * b;
fun prod(a,b) = (a:real) * b;
fun prod(a,b) = a * b:real;
fun prod(a,b) = (a<em>b):real;
fun prod((a,b):real * real) = a</em>b;</p>
<p>(*
Escreva uma funcao max, que retorne o maior elemento de uma lista.
Exemplo: max [2, 3, 1, 0];
val it = 3
*)
fun max l =
if null l
then 0
else
if hd l &gt; max (tl l)
then hd l
else max (tl l)</p>
<p>(*
fun max2 nil = 0
| max2 (a::al) =
let
val vmax = max2 al
in
if a &gt; vmax then a else vmax
end
*)</p>
<p>(*
Escreva uma funcao zip, que receba duas listas l1 e l2, e retorne uma lista de
pares, onde o primeiro elemento provem de l1, e o segundo de l2. Por exemplo:
zip [1, 2, 3] [“a”, “b”, “c”];
val it =  [(1, “a”), (2, “b”), (3, “c”)]
*)
fun zip l1 l2 =
if null l1
then nil
else
if null l2
then nil
else (hd l1, hd l2) :: zip (tl l1) (tl l2)</p>
<p>(*
fun zip2 nil l = nil
| zip2 l nil = nil
| zip2 (a::al) (b::bl) = (a,b) :: zip2 al bl
*)</p>
<p>(*
Escreva uma funcao fib n, que retorne o n-esimo numero da sequencia de
Fibonacci.
*)</p>
<p>fun fib n =
if n = 0
then 0
else
if n = 1
then 1
else fib (n - 1) + fib (n - 2)</p>
<p>(*
fun fib 0 = 0
| fib 1 = 1
| fib n = (fib (n-1)) + (fib (n-2)) ;</p>
<p>fun fibsFrom 0 = [0]
| fibsFrom 1 = [1, 0]
| fibsFrom n =
let
val a::b::l = fibsFrom (n-1)
in
( a + b ) :: (a::b::l)
end ;</p>
<p>fun fastFib n = hd (fibsFrom n) ;
*)</p>
<h1>Pattern machining (Aula 06)</h1>
<ul>
<li>
<p>A pattern is a syntactical expression that can be matched against other
syntactical expressions.
Ex.: fun f n = n * n
fun f (a, b) = a * b;</p>
</li>
<li>
<p>We can use wild-cards:</p>
</li>
</ul>
<ol>
<li>What is the problem with fun first a b = a;</li>
</ol>
<ul>
<li>Constants can be patterns:
Ex.: fun f 0 = 2;</li>
</ul>
<ol start="2">
<li>What happens if I try f 4?
2.1) What is the problem with fun f 0.0 = 2; ?</li>
</ol>
<p>*) Tuples can be patterns:</p>
<ol start="3">
<li>What are the values of x and y in each case?
val (x, y) = (4, “asdf”);
val (x, y) = ([2,3,4], (“dcc024”, 3.14));</li>
</ol>
<ul>
<li>We can use lists as patterns too:
fun f [a, _] = a;</li>
</ul>
<ol start="4">
<li>What is the type of this function?</li>
</ol>
<ul>
<li>Also, we can use cons as a pattern.
fun f (x::xs) = x;</li>
</ul>
<ol start="5">
<li>How to implement the hd function?</li>
</ol>
<ul>
<li>fun hd (h::t) = h;
(* Using a wildcard: *)</li>
<li>fun hd (h::_) = h;
5.1) How to implement a function that returns the second element of a list?</li>
</ul>
<ol start="5">
<li>Which patterns have we seen so far?</li>
</ol>
<ul>
<li>A variable is a pattern that matches anything, and binds to it.</li>
<li>A _ is a pattern that matches anything.</li>
<li>A constant (of an equality type) is a pattern that matches
only that constant.</li>
<li>A tuple of patterns is a pattern that matches any tuple of the
right size, whose contents match the sub-patterns.</li>
<li>A list of patterns is a pattern that matches any list of the
right size, whose contents match the sub-patterns.</li>
<li>A cons (::) of patterns is a pattern that matches any nonempty
list whose head and tail match the sub-patterns.</li>
</ul>
<ul>
<li>A function may have many patterns:
fun f 0 = “zero”
| f 1 = “one”</li>
</ul>
<ol start="6">
<li>How to code a function that prints zero if the only argument is 0, and
prints non-zero otherwise?
fun f 0 = “zero”
| f _ = “non-zero”</li>
</ol>
<p>6.1) How to write this function using if-then-else?
fun f n = if n = 0 then “zero” else “non-zero”;</p>
<ol start="7">
<li>
<p>How to write the factorial function using pattern matching?</p>
</li>
<li>
<p>How to write the reverse function?
fun rev nil = nil
| rev (h::t) = rev t @ [h]</p>
</li>
<li>
<p>A function to sum up the elements of a list</p>
</li>
<li>
<p>A function to count the number of true elements in a list of bools:
fun f nil = 0
| f (true::rest) = 1 + f rest
| f (false::rest) = f rest;</p>
</li>
<li>
<p>A function to increment all the elements of a list:</p>
</li>
<li>
<p>A function that takes a pair of elements, and returns true if they are
the same:
12.1) What is the problem with fun f(a, a) = true | f(a, _) = false ?</p>
</li>
</ol>
<ul>
<li>
<p>We can also use patterns in val declarations:
val (a, b) = (1, 2.3)
val a::b = [1,2,3,4,5]</p>
</li>
<li>
<p>We can create local variables with the ‘let’ block:
let val x = 1 val y = 2 in x + y end;</p>
</li>
</ul>
<ol start="13">
<li>
<p>What is the value of x ?</p>
</li>
<li>
<p>How to write a function that converts days to miliseconds?</p>
</li>
</ol>
<p>fun days2ms days =
let
val hours = days * 24.0
val minutes = hours * 60.0
val seconds = minuts* 60.0
in
seconds * 1000.0
end;</p>
<ol start="15">
<li>How to code a function that splits a list in two pairs, e.g:
halve [1,2,3,4] = ([1,3], [2,4])</li>
</ol>
<ul>
<li>We can load files in the interpreter, using the “use” command.</li>
</ul>
<p>fun halve nil = (nil, nil)
| halve [a] = ([a], nil)
| halve (a::b::cs) =
let
val (x, y) = halve cs
in
(a::x, b::y)
end;</p>
<p>15.1) Can you prove that the lists are ballanced? Hint: use induction.</p>
<ol start="16">
<li>Let’s write a merge-sort? First, we need a way to merge two sorted lists of
integers:
fun merge (nil, ys) = ys
| merge (xs, nil) = xs
| merge (x::xs, y::ys) =
if (x &lt; y) then x :: merge(xs, y::ys)
else y :: merge (x::xs, ys);</li>
</ol>
<p>16.1) What if the elements are not sorted?</p>
<ol start="17">
<li>
<p>How do I conclude, and build the merge-sort?
fun mergeSort nil = nil
| mergeSort [a] = [a]  (* 17.1 What happens if I delete this line?  *)
| mergeSort theList =
let
val (x, y) = halve theList
in
merge(mergeSort x, mergeSort y)
end;</p>
</li>
<li>
<p>How do I write comments in ML? What about other languages?</p>
</li>
<li>
<p>Write a function to compute the Fibonacci numbers:
fun fib 0 = 0
| fib 1 = 1
| fib n = (fib (n-1)) + (fib (n-2)) ;</p>
</li>
<li>
<p>Can it be made more efficient?
fun fastFib n =
let
fun fibsFrom 0 = [0]
| fibsFrom 1 = [1, 0]
| fibsFrom n =
let
val a::b::l = fibsFrom (n-1)
in
( a + b ) :: (a::b::l)
end
in
hd (fibsFrom n)
end</p>
</li>
</ol>
<p>20.1) Can you do this fast fib with tuples, instead of lists?
fun fastFib n =
let
fun fibsFrom 0 = (0, 0)
| fibsFrom 1 = (1, 0)
| fibsFrom n =
let
val (a, b) = fibsFrom (n-1)
in
( a + b , a)
end
in
#1 (fibsFrom n)
end</p>
<ol start="21">
<li>Quicksort?
fun partition (pivot, nil) = (nil,nil)
| partition (pivot, first :: others) =
let
val (smalls, bigs) =
partition(pivot, others)
in
if first &lt; pivot
then (first::smalls, bigs)
else (smalls, first::bigs)
end;</li>
</ol>
<p>fun qsort nil = nil
| qsort (first::rest) =
let
val (smalls, bigs) = partition(first,rest)
in
qsort(smalls) @ [first] @ qsort(bigs)
end;</p>
<h1>Types (Aula 07)</h1>
<ol>
<li>What is a type?</li>
</ol>
<ul>
<li>A type is a set of values</li>
<li>plus an intention:</li>
</ul>
<ul>
<li>a low-level representation</li>
<li>a collection of operations that can be applied to those values</li>
</ul>
<p>1.1) Do you know any language that does not have types?</p>
<ol start="2">
<li>What are the uses of types?</li>
</ol>
<ul>
<li>Documentation</li>
<li>Safety</li>
<li>Efficiency</li>
<li>Correctness</li>
</ul>
<ul>
<li>We have two kinds of types: primitive and constructed.</li>
</ul>
<ol start="3">
<li>What is the difference between them?</li>
</ol>
<ul>
<li>Some languages, like Java, define primitive types exactly. Others, like
ML or C, don’t.</li>
</ul>
<ol start="4">
<li>What are the primitive types of Java?
byte (1-byte signed)
char (2-byte unsigned)
short (2-byte signed)
int (4-byte signed)
long (8-byte signed)
float (4-byte floating point)
double (8-byte floating point)</li>
</ol>
<p>4.1) What about C?
char
unsigned char
short int
unsigned short int
int
unsigned int
long int
unsigned long int</p>
<p>4.2) How to discover the maximum integer in C?</p>
<h1>include &lt;stdio.h&gt;</h1>
<h1>include &lt;limits.h&gt;</h1>
<p>int main() {
printf(&quot;%d\n&quot;, INT_MAX);
}</p>
<ul>
<li>or -</li>
</ul>
<h1>include&lt;stdio.h&gt;</h1>
<p>int main(int argc, char** argv) {
unsigned int i = ~0U;
printf(&quot;%d\n&quot;, i);
i = i &gt;&gt; 1;
printf(&quot;%d\n&quot;, i);
}
$&gt; a.out
-1
2147483647</p>
<p>4.3) What about SML?</p>
<ul>
<li>Int.maxInt;
val it = SOME 1073741823 : int option</li>
<li>or - E.g: use “fun sum a b = a + b  handle Overflow =&gt; 0;” as an example.
fun maxInt current inc = maxInt (current + inc) (inc * 2)
handle Overflow =&gt; if inc = 1 then current else maxInt current 1</li>
</ul>
<ul>
<li>Constructed types are just sets built from other sets.</li>
</ul>
<ol start="5">
<li>What is the simplest constructed set? Or, what is the simplest way to
build a set from another set?
5.1) How to declare enumerations in C?
// enum.c</li>
</ol>
<h1>include &lt;stdio.h&gt;</h1>
<p>enum coin { penny = 1, nickel = 5, dime = 10, quarter = 25 };
int main() {
printf(&quot;%d\n&quot;, penny);
printf(&quot;%d\n&quot;, penny + 1);
printf(&quot;%d\n&quot;, penny + 4 == nickel);
}</p>
<p>5.2) What about SML?</p>
<ul>
<li>datatype day = M | Tu | W | Th | F | Sa | Su;</li>
<li>fun isWeekend x = (x = Sa orelse x = Su);</li>
</ul>
<ol start="6">
<li>What is another way to build sets?</li>
</ol>
<ul>
<li>Some languages support true tuple types:
fun get1 (x : real * real) = #1 x;</li>
</ul>
<ul>
<li>get1 (3.4, 4.3);
val it = 3.4 : real</li>
</ul>
<ol start="7">
<li>How to implement tuples in C?
// complex.c</li>
</ol>
<h1>include &lt;stdio.h&gt;</h1>
<p>struct complex {
double rp;
double ip;
};
int main() {
struct complex c1;
c1.rp = 0;
printf(&quot;%d\n&quot;, c1.rp);
printf(&quot;%d\n&quot;, c1.ip);
}</p>
<ul>
<li>
<p>named record types are tuples indexed by names, instead of numeric indices.
SML has those too:
type complex = {
rp:real,
ip:real
};
fun getip (x : complex) = #ip x;</p>
</li>
<li>
<p>Types have an internal representation. Some languages hide it from
programmers, others don’t.</p>
</li>
</ul>
<ol start="8">
<li>How are tuples arranged in memory in C?
8.1) How to iterate on the fields of a tuple of integers in C?</li>
</ol>
<h1>include &lt;stdio.h&gt;</h1>
<p>struct mySt {
int i1, i2, i3, i4, sentinel;
};</p>
<p>int main(int argc, char** argv) {
struct mySt s;
int *p1, *p4;
s.i1 = 1;
s.i2 = 2;
s.i3 = 3;
s.i4 = 4;</p>
<p>p1 = ( (int*) &amp;s);
p4 = &amp;(s.sentinel);
do {
printf(“field = %d\n”, *p1);
p1++;
} while (p1 != p4);
}</p>
<ol start="9">
<li>Which other sets can we talk about?</li>
</ol>
<ul>
<li>Vectors are a multidimensional cartesian product of the same set.
9.1) Which types do we derive from vectors?</li>
<li>arrays, lists, strings.</li>
</ul>
<p>9.2) What is an array?</p>
<ul>
<li>indices vary: Java starts from 0, Pascal is more flexible.</li>
</ul>
<ol start="10">
<li>How does the implementation of vectors change from one language to the
other?</li>
</ol>
<ul>
<li>What are the index values?</li>
<li>Is array size fixed at compile time (part of static type)?</li>
<li>Which operations are supported?</li>
<li>Is redimensioning possible at runtime?</li>
<li>Are multiple dimensions allowed?</li>
<li>Is a higher-dimensional array the same as an array of arrays?</li>
<li>What is the order of elements in memory?</li>
<li>Is there a separate type for strings (not just array of characters)?</li>
<li>Is there a separate type for lists?</li>
</ul>
<ol start="11">
<li>Which other way to build a set are we missing?
11.1) What is the difference between union and cartesian product?
11.2) How to represent union in C?
// element.c</li>
</ol>
<h1>include &lt;stdio.h&gt;</h1>
<p>union element {
int i;
float f;
};
int main() {
union element e;
e.f = 177689982.02993F;
printf(“Int = %d\n”, e.i);
printf(“Float = %f\n”, e.f);
e.f = 0.0F;
e.i = 177689982;
printf(“Int = %d\n”, e.i);
printf(“Float = %f\n”, e.f);
}
11.3) How are unions implemented in C?</p>
<ul>
<li>In ML we represent unions via datatypes:
datatype element =
I of int | F of real;
fun getReal (F x) = x
| getReal (I x) = real x;</li>
</ul>
<ol start="12">
<li>Which type is missing now?</li>
</ol>
<ul>
<li>Functions map a given set, the domain, into another set, the range.</li>
</ul>
<ol start="13">
<li>How would be this function below in SML?
int f(char a, char b) {
return a==b;
}</li>
</ol>
<ul>
<li>fun f (a:char, b) = a = b;</li>
</ul>
<p>13.1) Which operations can we perform on functions?
fun comp c a b = c (a, b);</p>
<p>fun ci (a:real, b) = not (a &gt; b orelse a &lt; b);</p>
<p>comp ci 2.3 4.5</p>
<ol start="14">
<li>When to check the types used in a program?</li>
</ol>
<ul>
<li>At compilation time.</li>
<li>At execution time.</li>
</ul>
<p>14.1) Examples of statically typed language?
14.2) Examples of dynamically typed languages?
14.3) Examples of a type error in C?
14.4) Examples of a type error in ML?</p>
<ol start="15">
<li>How to determine the types of values in a program during compilation?</li>
</ol>
<ul>
<li>Type annotations.</li>
<li>Naming conventions: e.g: I for integer in Fortran, and S$ for strings
in Basic.</li>
<li>Type inference: Haskell, ML, Scala, Ocaml, C#3.0</li>
</ul>
<p>15.1) Can anyone give me examples of type inference in Java?
double a; sysout(a*0);</p>
<ol start="16">
<li>What is the advantage of dynamically typed languages?
16.1) Can someone give me an example?
// Consider the program below, written in Ruby. It handles big numbers.
// However, the dynamic type of the factorial of a small number is integer,
// and the dynamic type of the factorial of a big number is long.
fact = 1;
(1…100).each do |i|
fact = fact * i;
end
puts fact</li>
</ol>
<ul>
<li>or -</li>
</ul>
<?php
$c = 1;
if ($c == 1) {
  $var = true;
} else if ($c == 2) {
  $var = 42;
} else if ($c == 3) {
  $var = 3.14;
} else {
  $var = "dcc024";
}
echo "Is int? " . is_int($var) . "<br>";
echo "Is bool? " . is_bool($var) . "<br>";
echo "Is float? " . is_float($var) . "<br>";
echo "Is string? " . is_string($var) . "<br>";
?>
<p>See: <a href="http://homepages.dcc.ufmg.br/~fpereira/coisas/test.php">http://homepages.dcc.ufmg.br/~fpereira/coisas/test.php</a></p>
<ol start="17">
<li>How a dynamically typed language would be implemented?</li>
</ol>
<ul>
<li>It is not black and white:</li>
</ul>
<ul>
<li>Statically typed languages do some dynamic checks.</li>
</ul>
<ol start="18">
<li>Examples in Java?
class Pencil {
public int p;
}
class Battleship {
public int p;
public static void main () {
Object p = new Pencil();
p.p = 11;
Battleship b = (Battleship)p; // Check happens here!!!
System.out.println(p.p + &quot;, &quot; + b.p);
}
}</li>
</ol>
<ul>
<li>Dynamically typed languages use a bit of type inference.</li>
</ul>
<ul>
<li>Some languages allow runtime type tests.</li>
</ul>
<ol start="19">
<li>Can anyone give me an example?</li>
</ol>
<ul>
<li>There exists languages which are strongly typed, and languages which
are weakly typed.</li>
</ul>
<ul>
<li>A strongly typed language guarantees that a type will be always used
as declared.</li>
</ul>
<ol start="20">
<li>Can anyone give me an example?</li>
</ol>
<ul>
<li>A weakly typed language allows a value to be used as if it had a type
different from its declaration type.
20.1) Examples?</li>
</ul>
<p>20.2) Examples of unsafe type usage in C?
union element {
int i;
float f;
};
int main() {
union element e;
e.f = 17.0;
printf(&quot;%lf\n&quot;, e.i);
}</p>
<ul>
<li>or -
int main() {
int a[3] = {1, 2, 3};
printf(&quot;%d\n&quot;, a[3]);
}</li>
</ul>
<ol start="21">
<li>Can anyone give me an example of unsafe C++ code?
21.1) What is the code below going to print?</li>
</ol>
<h1>include &lt;stdio.h&gt;</h1>
<h1>include &lt;string.h&gt;</h1>
<p>class Pencil {
public:
int p;
};
class Battleship {
public:
int b;
};
int main () {
Pencil *p = new Pencil();
p-&gt;p = 17;
Battleship <em>b = new Battleship();
b-&gt;b = 11;
printf(“p-&gt;p = %d, b-&gt;b = %d\n”, p-&gt;p, b-&gt;b);
b = (Battleship</em>)p;
printf(“p-&gt;p = %d, b-&gt;b = %d\n”, p-&gt;p, b-&gt;b);
}</p>
<ol start="22">
<li>
<p>Can anyone give me an example of unsafe memory protection in C?
// iterStruct2.c
int main() {
char* s = “Hello!”;
char* s1 = “Fernando!”;
char* s2 = “Magno!”;
char* s3 = “Quintao!”;
char* s4 = “Pereira!”;
char* c = s;
int i;
for (i = 0; i &lt; 41; i++) {
printf(&quot;%c&quot;, *c);
c++;
}
printf(&quot;\n&quot;);
}
22.1) What would happen if I had replaced the loop by:
for (i = 0; i &lt; 41; i++) {
printf(&quot;%c&quot;, *c);
*c = ‘a’;
c++;
}</p>
</li>
<li>
<p>When are two types equivalent?</p>
</li>
</ol>
<ul>
<li>There are two ways to decide: name equivalence and structural equivalence:</li>
</ul>
<p>Ex.: SML</p>
<ul>
<li>type irpair1 = int * real;
type irpair1 = int * real</li>
<li>type irpair2 = int * real;
type irpair2 = int * real</li>
<li>fun f(x:irpair1) = #1 x;
val f = fn : irpair1 -&gt; int</li>
<li>val (y:irpair2) = (3, 3.14);
val y = (3,3.14) : irpair2</li>
<li>f y;
val it = 3 : int</li>
</ul>
<p>23.1) What about C++?
// See also UnsafeCoerc.cpp</p>
<h1>include &lt;stdio.h&gt;</h1>
<h1>include &lt;string.h&gt;</h1>
<p>class Pencil {
public:
int p;
};
class Battleship {
public:
int p;
};
int main () {
Pencil *p = new Pencil();
Battleship *b = p;
printf(“p-&gt;p = %d, b-&gt;b = %d\n”, p-&gt;p, b-&gt;p);
}</p>
<h1>Quick review about Types (Aula 08)</h1>
<h3>Types can be checked at two different moments:</h3>
<ul>
<li>Dynamically: during the program execution. E.g: php, python, ruby, bash.</li>
<li>Statically: during the compilation of the program. E.g: Java, C, C++, SML.</li>
</ul>
<h3>There exists languages which are strongly typed, and languages which are weakly typed.</h3>
<ul>
<li>A strongly typed language guarantees that a type will be always used
as declared.</li>
<li>A weakly typed language allows a value to be used as if it had a type
different than its declared type.</li>
</ul>
<h3>There are two ways to decide when two types are equivalente:</h3>
<ul>
<li>name equivalence: two types are the same, if, and only if, they have the
same name: C, Java, C++, etc.</li>
<li>structural equivalence: two types are the same if they have the same
structure. Example: SML.</li>
</ul>
<p>Ex. in C:</p>
<pre class="editor-colors lang-c"><div class="line"><span class="source c"><span class="storage type c"><span>typedef</span></span><span>&nbsp;</span><span class="storage type c"><span>struct</span></span><span>&nbsp;</span><span class="meta block c"><span class="punctuation section block begin c"><span>{</span></span><span>&nbsp;</span><span class="storage type c"><span>int</span></span><span>&nbsp;a;&nbsp;</span><span class="storage type c"><span>float</span></span><span>&nbsp;b;&nbsp;</span><span class="punctuation section block end c"><span>}</span></span></span><span>&nbsp;T0;</span></span></div><div class="line"><span class="source c"><span class="storage type c"><span>typedef</span></span><span>&nbsp;</span><span class="storage type c"><span>struct</span></span><span>&nbsp;</span><span class="meta block c"><span class="punctuation section block begin c"><span>{</span></span><span>&nbsp;</span><span class="storage type c"><span>int</span></span><span>&nbsp;a;&nbsp;</span><span class="storage type c"><span>float</span></span><span>&nbsp;b;&nbsp;</span><span class="punctuation section block end c"><span>}</span></span></span><span>&nbsp;T1;</span></span></div><div class="line"><span class="source c"><span class="storage type c"><span>int</span></span><span class="meta function c"><span class="punctuation whitespace function leading c"><span>&nbsp;</span></span><span class="entity name function c"><span>foo</span></span><span class="meta parens c"><span class="punctuation section parens begin c"><span>(</span></span><span>T1&nbsp;s</span><span class="punctuation section parens end c"><span>)</span></span></span><span>&nbsp;</span><span class="meta block c"><span class="punctuation section block begin c"><span>{</span></span><span class="punctuation whitespace support function leading c"><span>&nbsp;</span></span><span class="support function C99 c"><span>printf</span></span><span>(</span><span class="string quoted double c"><span class="punctuation definition string begin c"><span>&quot;</span></span><span class="constant other placeholder c"><span>%d</span></span><span>,&nbsp;</span><span class="constant other placeholder c"><span>%f</span></span><span class="constant character escape c"><span>\n</span></span><span class="punctuation definition string end c"><span>&quot;</span></span></span><span>,&nbsp;s</span><span class="punctuation separator dot-access c"><span>.</span></span><span class="variable other member c"><span>a</span></span><span>,&nbsp;s</span><span class="punctuation separator dot-access c"><span>.</span></span><span class="variable other member c"><span>b</span></span><span>);&nbsp;</span><span class="punctuation section block end c"><span>}</span></span></span></span></span></div><div class="line"><span class="source c"><span class="storage type c"><span>int</span></span><span class="meta function c"><span class="punctuation whitespace function leading c"><span>&nbsp;</span></span><span class="entity name function c"><span>main</span></span><span class="meta parens c"><span class="punctuation section parens begin c"><span>(</span></span><span class="punctuation section parens end c"><span>)</span></span></span><span>&nbsp;</span><span class="meta block c"><span class="punctuation section block begin c"><span>{</span></span></span></span></span></div><div class="line"><span class="source c"><span class="meta function c"><span class="meta block c"><span>&nbsp;&nbsp;T0&nbsp;x;</span></span></span></span></div><div class="line"><span class="source c"><span class="meta function c"><span class="meta block c"><span>&nbsp;&nbsp;T1&nbsp;y;</span></span></span></span></div><div class="line"><span class="source c"><span class="meta function c"><span class="meta block c"><span class="meta function-call c"><span class="punctuation whitespace function-call leading c"><span>&nbsp;&nbsp;</span></span><span class="support function any-method c"><span>foo</span></span><span class="punctuation definition parameters c"><span>(</span></span></span><span>y);</span></span></span></span></div><div class="line"><span class="source c"><span class="meta function c"><span class="meta block c"><span class="meta function-call c"><span class="punctuation whitespace function-call leading c"><span>&nbsp;&nbsp;</span></span><span class="support function any-method c"><span>foo</span></span><span class="punctuation definition parameters c"><span>(</span></span></span><span>x);&nbsp;</span><span class="comment line double-slash cpp"><span class="punctuation definition comment cpp"><span>//</span></span><span>&nbsp;Does&nbsp;not&nbsp;compile</span><span>&nbsp;</span></span></span></span></span></div><div class="line"><span class="source c"><span class="meta function c"><span class="meta block c"><span class="punctuation section block end c"><span>}</span></span></span></span></span></div></pre>
<p>Ex. in SML:</p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>-&nbsp;type&nbsp;T0&nbsp;=&nbsp;int&nbsp;*&nbsp;real;</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>type&nbsp;T0&nbsp;=&nbsp;int&nbsp;*&nbsp;real</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>-&nbsp;type&nbsp;T1&nbsp;=&nbsp;int&nbsp;*&nbsp;real;</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>type&nbsp;T1&nbsp;=&nbsp;int&nbsp;*&nbsp;real</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>-&nbsp;fun&nbsp;foo&nbsp;(s:T1)&nbsp;=&nbsp;#1&nbsp;s;</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>val&nbsp;foo&nbsp;=&nbsp;fn&nbsp;:&nbsp;T1&nbsp;-&gt;&nbsp;int</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>-&nbsp;val&nbsp;x:T0&nbsp;=&nbsp;(1,&nbsp;3.14);</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>val&nbsp;x&nbsp;=&nbsp;(1,3.14)&nbsp;:&nbsp;T0</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>-&nbsp;foo&nbsp;x;</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>val&nbsp;it&nbsp;=&nbsp;1&nbsp;:&nbsp;int</span></span></span></div></pre>
<p>C tem tipagem nominal
ML tem tipagem estrututal</p>
<h3>Compilers use three different strategies to statically discover the types of symbols:</h3>
<ul>
<li>
<p>Annotations: the programmer must explicitly write the type of a symbol
next to it. Examples: Java, C, C++.</p>
</li>
<li>
<p>Inference: the compiler uses an algorithm that finds the correct type of
each value. Examples: Haskell, Scala, SML.</p>
</li>
<li>
<p>Special names: In some old languages, the name of the variable gives away
its type. Example: in old Fortran, integer variables should start with ‘I’.</p>
</li>
</ul>
<h3>Some languages allow runtime type tests.</h3>
<ol>
<li>Can anyone give me an example?</li>
</ol>
<pre class="editor-colors lang-php"><div class="line"><span class="text html php"><span class="meta embedded block php"><span class="punctuation section embedded begin php"><span>&lt;?php</span></span></span></span></div><div class="line"><span class="text html php"><span class="meta embedded block php"><span class="source php"><span class="variable other php"><span class="punctuation definition variable php"><span>$</span></span><span>c</span></span><span>&nbsp;</span><span class="keyword operator assignment php"><span>=</span></span><span>&nbsp;</span><span class="constant numeric php"><span>1</span></span><span class="punctuation terminator expression php"><span>;</span></span></span></span></span></div><div class="line"><span class="text html php"><span class="meta embedded block php"><span class="source php"><span class="keyword control php"><span>if</span></span><span>&nbsp;(</span><span class="variable other php"><span class="punctuation definition variable php"><span>$</span></span><span>c</span></span><span>&nbsp;</span><span class="keyword operator comparison php"><span>==</span></span><span>&nbsp;</span><span class="constant numeric php"><span>1</span></span><span>)&nbsp;</span><span class="punctuation section scope begin php"><span>{</span></span></span></span></span></div><div class="line"><span class="text html php"><span class="meta embedded block php"><span class="source php"><span>&nbsp;&nbsp;</span><span class="variable other php"><span class="punctuation definition variable php"><span>$</span></span><span>var</span></span><span>&nbsp;</span><span class="keyword operator assignment php"><span>=</span></span><span>&nbsp;</span><span class="constant language php"><span>true</span></span><span class="punctuation terminator expression php"><span>;</span></span></span></span></span></div><div class="line"><span class="text html php"><span class="meta embedded block php"><span class="source php"><span class="punctuation section scope end php"><span>}</span></span><span>&nbsp;</span><span class="keyword control php"><span>else</span></span><span>&nbsp;</span><span class="keyword control php"><span>if</span></span><span>&nbsp;(</span><span class="variable other php"><span class="punctuation definition variable php"><span>$</span></span><span>c</span></span><span>&nbsp;</span><span class="keyword operator comparison php"><span>==</span></span><span>&nbsp;</span><span class="constant numeric php"><span>2</span></span><span>)&nbsp;</span><span class="punctuation section scope begin php"><span>{</span></span></span></span></span></div><div class="line"><span class="text html php"><span class="meta embedded block php"><span class="source php"><span>&nbsp;&nbsp;</span><span class="variable other php"><span class="punctuation definition variable php"><span>$</span></span><span>var</span></span><span>&nbsp;</span><span class="keyword operator assignment php"><span>=</span></span><span>&nbsp;</span><span class="constant numeric php"><span>42</span></span><span class="punctuation terminator expression php"><span>;</span></span></span></span></span></div><div class="line"><span class="text html php"><span class="meta embedded block php"><span class="source php"><span class="punctuation section scope end php"><span>}</span></span><span>&nbsp;</span><span class="keyword control php"><span>else</span></span><span>&nbsp;</span><span class="keyword control php"><span>if</span></span><span>&nbsp;(</span><span class="variable other php"><span class="punctuation definition variable php"><span>$</span></span><span>c</span></span><span>&nbsp;</span><span class="keyword operator comparison php"><span>==</span></span><span>&nbsp;</span><span class="constant numeric php"><span>3</span></span><span>)&nbsp;</span><span class="punctuation section scope begin php"><span>{</span></span></span></span></span></div><div class="line"><span class="text html php"><span class="meta embedded block php"><span class="source php"><span>&nbsp;&nbsp;</span><span class="variable other php"><span class="punctuation definition variable php"><span>$</span></span><span>var</span></span><span>&nbsp;</span><span class="keyword operator assignment php"><span>=</span></span><span>&nbsp;</span><span class="constant numeric php"><span>3.14</span></span><span class="punctuation terminator expression php"><span>;</span></span></span></span></span></div><div class="line"><span class="text html php"><span class="meta embedded block php"><span class="source php"><span class="punctuation section scope end php"><span>}</span></span><span>&nbsp;</span><span class="keyword control php"><span>else</span></span><span>&nbsp;</span><span class="punctuation section scope begin php"><span>{</span></span></span></span></span></div><div class="line"><span class="text html php"><span class="meta embedded block php"><span class="source php"><span>&nbsp;&nbsp;</span><span class="variable other php"><span class="punctuation definition variable php"><span>$</span></span><span>var</span></span><span>&nbsp;</span><span class="keyword operator assignment php"><span>=</span></span><span>&nbsp;</span><span class="string quoted double php"><span class="punctuation definition string begin php"><span>&quot;</span></span><span class="meta string-contents quoted double php"><span>dcc024</span></span><span class="punctuation definition string end php"><span>&quot;</span></span></span><span class="punctuation terminator expression php"><span>;</span></span></span></span></span></div><div class="line"><span class="text html php"><span class="meta embedded block php"><span class="source php"><span class="punctuation section scope end php"><span>}</span></span></span></span></span></div><div class="line"><span class="text html php"><span class="meta embedded block php"><span class="source php"><span class="support function construct output php"><span>echo</span></span><span>&nbsp;</span><span class="string quoted double php"><span class="punctuation definition string begin php"><span>&quot;</span></span><span class="meta string-contents quoted double php"><span>Is&nbsp;int?&nbsp;</span></span><span class="punctuation definition string end php"><span>&quot;</span></span></span><span>&nbsp;</span><span class="keyword operator string php"><span>.</span></span><span>&nbsp;</span><span class="support function var php"><span>is_int</span></span><span>(</span><span class="variable other php"><span class="punctuation definition variable php"><span>$</span></span><span>var</span></span><span>)&nbsp;</span><span class="keyword operator string php"><span>.</span></span><span>&nbsp;</span><span class="string quoted double php"><span class="punctuation definition string begin php"><span>&quot;</span></span><span class="meta string-contents quoted double php"><span>&lt;br&gt;</span></span><span class="punctuation definition string end php"><span>&quot;</span></span></span><span class="punctuation terminator expression php"><span>;</span></span></span></span></span></div><div class="line"><span class="text html php"><span class="meta embedded block php"><span class="source php"><span class="support function construct output php"><span>echo</span></span><span>&nbsp;</span><span class="string quoted double php"><span class="punctuation definition string begin php"><span>&quot;</span></span><span class="meta string-contents quoted double php"><span>Is&nbsp;bool?&nbsp;</span></span><span class="punctuation definition string end php"><span>&quot;</span></span></span><span>&nbsp;</span><span class="keyword operator string php"><span>.</span></span><span>&nbsp;</span><span class="support function var php"><span>is_bool</span></span><span>(</span><span class="variable other php"><span class="punctuation definition variable php"><span>$</span></span><span>var</span></span><span>)&nbsp;</span><span class="keyword operator string php"><span>.</span></span><span>&nbsp;</span><span class="string quoted double php"><span class="punctuation definition string begin php"><span>&quot;</span></span><span class="meta string-contents quoted double php"><span>&lt;br&gt;</span></span><span class="punctuation definition string end php"><span>&quot;</span></span></span><span class="punctuation terminator expression php"><span>;</span></span></span></span></span></div><div class="line"><span class="text html php"><span class="meta embedded block php"><span class="source php"><span class="support function construct output php"><span>echo</span></span><span>&nbsp;</span><span class="string quoted double php"><span class="punctuation definition string begin php"><span>&quot;</span></span><span class="meta string-contents quoted double php"><span>Is&nbsp;float?&nbsp;</span></span><span class="punctuation definition string end php"><span>&quot;</span></span></span><span>&nbsp;</span><span class="keyword operator string php"><span>.</span></span><span>&nbsp;</span><span class="support function var php"><span>is_float</span></span><span>(</span><span class="variable other php"><span class="punctuation definition variable php"><span>$</span></span><span>var</span></span><span>)&nbsp;</span><span class="keyword operator string php"><span>.</span></span><span>&nbsp;</span><span class="string quoted double php"><span class="punctuation definition string begin php"><span>&quot;</span></span><span class="meta string-contents quoted double php"><span>&lt;br&gt;</span></span><span class="punctuation definition string end php"><span>&quot;</span></span></span><span class="punctuation terminator expression php"><span>;</span></span></span></span></span></div><div class="line"><span class="text html php"><span class="meta embedded block php"><span class="source php"><span class="support function construct output php"><span>echo</span></span><span>&nbsp;</span><span class="string quoted double php"><span class="punctuation definition string begin php"><span>&quot;</span></span><span class="meta string-contents quoted double php"><span>Is&nbsp;string?&nbsp;</span></span><span class="punctuation definition string end php"><span>&quot;</span></span></span><span>&nbsp;</span><span class="keyword operator string php"><span>.</span></span><span>&nbsp;</span><span class="support function var php"><span>is_string</span></span><span>(</span><span class="variable other php"><span class="punctuation definition variable php"><span>$</span></span><span>var</span></span><span>)&nbsp;</span><span class="keyword operator string php"><span>.</span></span><span>&nbsp;</span><span class="string quoted double php"><span class="punctuation definition string begin php"><span>&quot;</span></span><span class="meta string-contents quoted double php"><span>&lt;br&gt;</span></span><span class="punctuation definition string end php"><span>&quot;</span></span></span><span class="punctuation terminator expression php"><span>;</span></span></span></span></span></div><div class="line"><span class="text html php"><span class="meta embedded block php"><span class="punctuation section embedded end php"><span class="source php"><span>?</span></span><span>&gt;</span></span></span><span class="punctuation whitespace embedded trailing php"><span>&nbsp;</span></span></span></div></pre>
<h1>Polymorphism</h1>
<ol>
<li>What is the type of this C function?</li>
</ol>
<pre class="editor-colors lang-c"><div class="line"><span class="source c"><span class="storage type c"><span>int</span></span><span class="meta function c"><span class="punctuation whitespace function leading c"><span>&nbsp;</span></span><span class="entity name function c"><span>f</span></span><span>&nbsp;</span><span class="meta parens c"><span class="punctuation section parens begin c"><span>(</span></span><span class="storage type c"><span>int</span></span><span>&nbsp;selector,&nbsp;</span><span class="storage type c"><span>char</span></span><span>&nbsp;a,&nbsp;</span><span class="storage type c"><span>char</span></span><span>&nbsp;b</span><span class="punctuation section parens end c"><span>)</span></span></span><span>&nbsp;</span><span class="meta block c"><span class="punctuation section block begin c"><span>{</span></span></span></span></span></div><div class="line"><span class="source c"><span class="meta function c"><span class="meta block c"><span>&nbsp;&nbsp;</span><span class="keyword control c"><span>return</span></span><span>&nbsp;selector&nbsp;?&nbsp;a&nbsp;:&nbsp;b;</span></span></span></span></div><div class="line"><span class="source c"><span class="meta function c"><span class="meta block c"><span class="punctuation section block end c"><span>}</span></span></span></span></span></div></pre>
<p>1.1) What about this ML function?</p>
<pre class="editor-colors lang-ml"><div class="line"><span class="text plain null-grammar"><span>fun&nbsp;f&nbsp;(selector,&nbsp;a,&nbsp;b)&nbsp;=&nbsp;if&nbsp;selector&nbsp;then&nbsp;a&nbsp;else&nbsp;b;</span></span></div></pre>
<h3>A function or operator is polymorphic if it has at least two possible types</h3>
<ul>
<li>It exhibits ad hoc polymorphism if it has at least two but only finitely many possible types
<ul>
<li>Overloading</li>
<li>Coercion</li>
</ul>
</li>
<li>It exhibits universal polymorphism if it has infinitely many possible types.
<ul>
<li>Subtyping</li>
<li>Parametric</li>
</ul>
</li>
</ul>
<ol start="2">
<li>What is overloading?</li>
</ol>
<p>2.1) Can anyone give me an example?</p>
<pre class="editor-colors lang-c"><div class="line"><span class="source c"><span class="comment line double-slash cpp"><span class="punctuation definition comment cpp"><span>//</span></span><span>&nbsp;over.cpp</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source c"><span class="meta preprocessor include c"><span class="keyword control directive include c"><span class="punctuation definition directive c"><span>#</span></span><span>include</span></span><span>&nbsp;</span><span class="string quoted other lt-gt include c"><span class="punctuation definition string begin c"><span>&lt;</span></span><span>iostream</span><span class="punctuation definition string end c"><span>&gt;</span></span></span></span></span></div><div class="line"><span class="source c"><span class="storage type c"><span>int</span></span><span class="meta function c"><span class="punctuation whitespace function leading c"><span>&nbsp;</span></span><span class="entity name function c"><span>sum</span></span><span class="meta parens c"><span class="punctuation section parens begin c"><span>(</span></span><span class="storage type c"><span>int</span></span><span>&nbsp;a,&nbsp;</span><span class="storage type c"><span>int</span></span><span>&nbsp;b</span><span class="punctuation section parens end c"><span>)</span></span></span><span>&nbsp;</span><span class="meta block c"><span class="punctuation section block begin c"><span>{</span></span></span></span></span></div><div class="line"><span class="source c"><span class="meta function c"><span class="meta block c"><span>&nbsp;&nbsp;std::cout&nbsp;&lt;&lt;&nbsp;</span><span class="string quoted double c"><span class="punctuation definition string begin c"><span>&quot;</span></span><span>Sum&nbsp;of&nbsp;ints</span><span class="constant character escape c"><span>\n</span></span><span class="punctuation definition string end c"><span>&quot;</span></span></span><span>;</span></span></span></span></div><div class="line"><span class="source c"><span class="meta function c"><span class="meta block c"><span>&nbsp;&nbsp;</span><span class="keyword control c"><span>return</span></span><span>&nbsp;a&nbsp;+&nbsp;b;</span></span></span></span></div><div class="line"><span class="source c"><span class="meta function c"><span class="meta block c"><span class="punctuation section block end c"><span>}</span></span></span></span></span></div><div class="line"><span class="source c"><span class="storage type c"><span>double</span></span><span class="meta function c"><span class="punctuation whitespace function leading c"><span>&nbsp;</span></span><span class="entity name function c"><span>sum</span></span><span class="meta parens c"><span class="punctuation section parens begin c"><span>(</span></span><span class="storage type c"><span>double</span></span><span>&nbsp;a,&nbsp;</span><span class="storage type c"><span>double</span></span><span>&nbsp;b</span><span class="punctuation section parens end c"><span>)</span></span></span><span>&nbsp;</span><span class="meta block c"><span class="punctuation section block begin c"><span>{</span></span></span></span></span></div><div class="line"><span class="source c"><span class="meta function c"><span class="meta block c"><span>&nbsp;&nbsp;std::cout&nbsp;&lt;&lt;&nbsp;</span><span class="string quoted double c"><span class="punctuation definition string begin c"><span>&quot;</span></span><span>Sum&nbsp;of&nbsp;doubles</span><span class="constant character escape c"><span>\n</span></span><span class="punctuation definition string end c"><span>&quot;</span></span></span><span>;</span></span></span></span></div><div class="line"><span class="source c"><span class="meta function c"><span class="meta block c"><span>&nbsp;&nbsp;</span><span class="keyword control c"><span>return</span></span><span>&nbsp;a&nbsp;+&nbsp;b;</span></span></span></span></div><div class="line"><span class="source c"><span class="meta function c"><span class="meta block c"><span class="punctuation section block end c"><span>}</span></span></span></span></span></div><div class="line"><span class="source c"><span class="storage type c"><span>int</span></span><span class="meta function c"><span class="punctuation whitespace function leading c"><span>&nbsp;</span></span><span class="entity name function c"><span>main</span></span><span class="meta parens c"><span class="punctuation section parens begin c"><span>(</span></span><span class="punctuation section parens end c"><span>)</span></span></span><span>&nbsp;</span><span class="meta block c"><span class="punctuation section block begin c"><span>{</span></span></span></span></span></div><div class="line"><span class="source c"><span class="meta function c"><span class="meta block c"><span>&nbsp;&nbsp;std::cout&nbsp;&lt;&lt;&nbsp;</span><span class="string quoted double c"><span class="punctuation definition string begin c"><span>&quot;</span></span><span>The&nbsp;sum&nbsp;is&nbsp;</span><span class="punctuation definition string end c"><span>&quot;</span></span></span><span>&nbsp;&lt;&lt;</span><span class="meta function-call c"><span class="punctuation whitespace function-call leading c"><span>&nbsp;</span></span><span class="support function any-method c"><span>sum</span></span><span class="punctuation definition parameters c"><span>(</span></span></span><span class="constant numeric c"><span>1</span></span><span>,&nbsp;</span><span class="constant numeric c"><span>2</span></span><span>)&nbsp;&lt;&lt;&nbsp;std::endl;</span></span></span></span></div><div class="line"><span class="source c"><span class="meta function c"><span class="meta block c"><span>&nbsp;&nbsp;std::cout&nbsp;&lt;&lt;&nbsp;</span><span class="string quoted double c"><span class="punctuation definition string begin c"><span>&quot;</span></span><span>The&nbsp;sum&nbsp;is&nbsp;</span><span class="punctuation definition string end c"><span>&quot;</span></span></span><span>&nbsp;&lt;&lt;</span><span class="meta function-call c"><span class="punctuation whitespace function-call leading c"><span>&nbsp;</span></span><span class="support function any-method c"><span>sum</span></span><span class="punctuation definition parameters c"><span>(</span></span></span><span class="constant numeric c"><span>1.2</span></span><span>,&nbsp;</span><span class="constant numeric c"><span>2.1</span></span><span>)&nbsp;&lt;&lt;&nbsp;std::endl;</span></span></span></span></div><div class="line"><span class="source c"><span class="meta function c"><span class="meta block c"><span class="punctuation section block end c"><span>}</span></span></span></span></span></div></pre>
<p>2.2) What if I change the doubles to ints?</p>
<ol start="3">
<li>How to implement overloading? E.g, what the program above would look like
in assembly?</li>
</ol>
<pre class="editor-colors lang-sh"><div class="line"><span class="source shell"><span>$&nbsp;g++&nbsp;-S&nbsp;over.cpp</span></span></div></pre>
<h3>Many languages have overloaded operators.</h3>
<p><strong>There are languages that allow the programmer to change the meaning of operators:</strong></p>
<p>3.1) Consider the class <strong>MyString</strong> below:</p>
<pre class="editor-colors lang-cpp"><div class="line"><span class="source cpp"><span class="comment line double-slash cpp"><span class="punctuation definition comment cpp"><span>//</span></span><span>&nbsp;opOver.cpp</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source cpp"><span class="meta class-struct-block cpp"><span class="storage type cpp"><span>class</span></span><span>&nbsp;</span><span class="entity name type cpp"><span>MyString</span></span><span>&nbsp;</span><span class="punctuation section block begin cpp"><span>{</span></span></span></span></div><div class="line"><span class="source cpp"><span class="meta class-struct-block cpp"><span>&nbsp;&nbsp;</span><span class="storage modifier cpp"><span>public:</span></span></span></span></div><div class="line"><span class="source cpp"><span class="meta class-struct-block cpp"><span>&nbsp;&nbsp;</span><span class="storage modifier c"><span>static</span></span><span>&nbsp;</span><span class="storage modifier c"><span>const</span></span><span>&nbsp;</span><span class="storage type c"><span>int</span></span><span>&nbsp;CAP&nbsp;=&nbsp;</span><span class="constant numeric c"><span>100</span></span><span>;</span></span></span></div><div class="line"><span class="source cpp"><span class="meta class-struct-block cpp"><span class="meta function constructor cpp"><span>&nbsp;&nbsp;</span><span class="entity name function cpp"><span>MyString</span></span><span>&nbsp;</span><span class="punctuation definition parameters begin c"><span>(</span></span><span class="storage modifier c"><span>const</span></span><span>&nbsp;</span><span class="storage type c"><span>char</span></span><span>*&nbsp;arg</span><span class="punctuation definition parameters end c"><span>)</span></span></span><span>&nbsp;</span><span class="meta block c"><span class="punctuation section block begin c"><span>{</span></span></span></span></span></div><div class="line"><span class="source cpp"><span class="meta class-struct-block cpp"><span class="meta block c"><span class="punctuation whitespace support function leading c"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="support function C99 c"><span>strncpy</span></span><span>(member1,&nbsp;arg,&nbsp;CAP);</span></span></span></span></div><div class="line"><span class="source cpp"><span class="meta class-struct-block cpp"><span class="meta block c"><span>&nbsp;&nbsp;</span><span class="punctuation section block end c"><span>}</span></span></span></span></span></div><div class="line"><span class="source cpp"><span class="meta class-struct-block cpp"><span>&nbsp;&nbsp;</span><span class="storage modifier cpp"><span>private:</span></span></span></span></div><div class="line"><span class="source cpp"><span class="meta class-struct-block cpp"><span>&nbsp;&nbsp;</span><span class="storage type c"><span>char</span></span><span>&nbsp;member1[CAP];</span></span></span></div><div class="line"><span class="source cpp"><span class="meta class-struct-block cpp"><span class="punctuation section block end cpp"><span>}</span></span></span><span>;</span></span></div></pre>
<p>3.1) How to add a <em>‘+’</em> operator to this class so that <em>s1 + s2</em> has the effect
of appending the contents of <em>s2</em> into <em>s1</em>, and storing the result into s1?</p>
<pre class="editor-colors lang-c"><div class="line"><span class="source c"><span class="storage type c"><span>void</span></span><span>&nbsp;operator&nbsp;+(MyString&nbsp;val)&nbsp;</span><span class="meta block c"><span class="punctuation section block begin c"><span>{</span></span></span></span></div><div class="line"><span class="source c"><span class="meta block c"><span class="punctuation whitespace support function leading c"><span>&nbsp;&nbsp;</span></span><span class="support function C99 c"><span>strcat</span></span><span>(member1,&nbsp;val</span><span class="punctuation separator dot-access c"><span>.</span></span><span class="variable other member c"><span>member1</span></span><span>);</span></span></span></div><div class="line"><span class="source c"><span class="meta block c"><span class="punctuation section block end c"><span>}</span></span></span></span></div></pre>
<p>3.2) How to add a <em>&lt;&lt;</em> operator to this class, so that it prints the object?</p>
<pre class="editor-colors lang-c"><div class="line"><span class="source c"><span>friend&nbsp;std::ostream&nbsp;&amp;&nbsp;operator&lt;&lt;(std::ostream&nbsp;&amp;&nbsp;os,&nbsp;</span><span class="storage modifier c"><span>const</span></span><span>&nbsp;MyString&nbsp;&amp;&nbsp;a)&nbsp;</span><span class="meta block c"><span class="punctuation section block begin c"><span>{</span></span></span></span></div><div class="line"><span class="source c"><span class="meta block c"><span>&nbsp;&nbsp;os&nbsp;&lt;&lt;&nbsp;a</span><span class="punctuation separator dot-access c"><span>.</span></span><span class="variable other member c"><span>member1</span></span><span>;</span></span></span></div><div class="line"><span class="source c"><span class="meta block c"><span class="punctuation section block end c"><span>}</span></span></span></span></div></pre>
<p><strong>Example of usage:</strong></p>
<pre class="editor-colors lang-cpp"><div class="line"><span class="source cpp"><span class="storage type c"><span>int</span></span><span class="meta function c"><span class="punctuation whitespace function leading c"><span>&nbsp;</span></span><span class="entity name function c"><span>main</span></span><span>&nbsp;</span><span class="meta parens c"><span class="punctuation section parens begin c"><span>(</span></span><span class="punctuation section parens end c"><span>)</span></span></span><span>&nbsp;</span><span class="meta block c"><span class="punctuation section block begin c"><span>{</span></span></span></span></span></div><div class="line"><span class="source cpp"><span class="meta function c"><span class="meta block c"><span>&nbsp;&nbsp;MyString</span><span class="meta initialization c"><span>&nbsp;</span><span class="variable other c"><span>s1</span></span><span class="punctuation definition parameters c"><span>(</span></span></span><span class="string quoted double c"><span class="punctuation definition string begin c"><span>&quot;</span></span><span>UF</span><span class="punctuation definition string end c"><span>&quot;</span></span></span><span>);</span></span></span></span></div><div class="line"><span class="source cpp"><span class="meta function c"><span class="meta block c"><span>&nbsp;&nbsp;MyString</span><span class="meta initialization c"><span>&nbsp;</span><span class="variable other c"><span>s2</span></span><span class="punctuation definition parameters c"><span>(</span></span></span><span class="string quoted double c"><span class="punctuation definition string begin c"><span>&quot;</span></span><span>MG</span><span class="punctuation definition string end c"><span>&quot;</span></span></span><span>);</span></span></span></span></div><div class="line"><span class="source cpp"><span class="meta function c"><span class="meta block c"><span>&nbsp;&nbsp;s1&nbsp;+&nbsp;s2;</span></span></span></span></div><div class="line"><span class="source cpp"><span class="meta function c"><span class="meta block c"><span>&nbsp;&nbsp;std::cout&nbsp;&lt;&lt;&nbsp;s1&nbsp;&lt;&lt;&nbsp;std::endl;</span></span></span></span></div><div class="line"><span class="source cpp"><span class="meta function c"><span class="meta block c"><span class="punctuation section block end c"><span>}</span></span></span></span></span></div></pre>
<p>In <strong>sml</strong> we can overwrite a symbol or a name, but we cannot have two user
defined implementations with the same name:</p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>-&nbsp;infix&nbsp;3&nbsp;+;</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>infix&nbsp;3&nbsp;+</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>-&nbsp;fun&nbsp;op&nbsp;+&nbsp;(a,&nbsp;b)&nbsp;=&nbsp;a&nbsp;-&nbsp;b;</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>val&nbsp;+&nbsp;=&nbsp;fn&nbsp;:&nbsp;int&nbsp;*&nbsp;int&nbsp;-&gt;&nbsp;int</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>-&nbsp;3&nbsp;+&nbsp;2;</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>val&nbsp;it&nbsp;=&nbsp;1&nbsp;:&nbsp;int</span></span></span></div></pre>
<ol start="4">
<li>Oops: how to recover the original meaning of the plus symbol?</li>
</ol>
<pre class="editor-colors lang-ml"><div class="line"><span class="text plain null-grammar"><span>fun&nbsp;op&nbsp;+&nbsp;(a,&nbsp;b)&nbsp;=&nbsp;a&nbsp;-&nbsp;(~b);</span></span></div></pre>
<ol start="4">
<li>What is a type coercion?</li>
</ol>
<p>4.1) Can anyone give me one example?</p>
<pre class="editor-colors lang-cpp"><div class="line"><span class="source cpp"><span class="storage type c"><span>double</span></span><span class="meta function c"><span class="punctuation whitespace function leading c"><span>&nbsp;</span></span><span class="entity name function c"><span>sumX</span></span><span class="meta parens c"><span class="punctuation section parens begin c"><span>(</span></span><span class="storage type c"><span>double</span></span><span>&nbsp;a,&nbsp;</span><span class="storage type c"><span>double</span></span><span>&nbsp;b</span><span class="punctuation section parens end c"><span>)</span></span></span><span>&nbsp;</span><span class="meta block c"><span class="punctuation section block begin c"><span>{</span></span></span></span></span></div><div class="line"><span class="source cpp"><span class="meta function c"><span class="meta block c"><span>&nbsp;&nbsp;</span><span class="keyword control c"><span>return</span></span><span>&nbsp;a&nbsp;+&nbsp;b;</span></span></span></span></div><div class="line"><span class="source cpp"><span class="meta function c"><span class="meta block c"><span class="punctuation section block end c"><span>}</span></span></span></span></span></div><div class="line"><span class="source cpp"><span class="storage type c"><span>int</span></span><span class="meta function c"><span class="punctuation whitespace function leading c"><span>&nbsp;</span></span><span class="entity name function c"><span>main</span></span><span class="meta parens c"><span class="punctuation section parens begin c"><span>(</span></span><span class="punctuation section parens end c"><span>)</span></span></span><span>&nbsp;</span><span class="meta block c"><span class="punctuation section block begin c"><span>{</span></span></span></span></span></div><div class="line"><span class="source cpp"><span class="meta function c"><span class="meta block c"><span>&nbsp;&nbsp;std::cout&nbsp;&lt;&lt;&nbsp;</span><span class="string quoted double c"><span class="punctuation definition string begin c"><span>&quot;</span></span><span>The&nbsp;sum&nbsp;is&nbsp;</span><span class="punctuation definition string end c"><span>&quot;</span></span></span><span>&nbsp;&lt;&lt;</span><span class="meta function-call c"><span class="punctuation whitespace function-call leading c"><span>&nbsp;</span></span><span class="support function any-method c"><span>sumX</span></span><span class="punctuation definition parameters c"><span>(</span></span></span><span class="constant numeric c"><span>1</span></span><span>,&nbsp;</span><span class="constant numeric c"><span>2.0</span></span><span>)&nbsp;&lt;&lt;&nbsp;std::endl;</span></span></span></span></div><div class="line"><span class="source cpp"><span class="meta function c"><span class="meta block c"><span class="punctuation section block end c"><span>}</span></span></span></span></span></div></pre>
<ol start="5">
<li>Which calls are legal?</li>
</ol>
<pre class="editor-colors lang-java"><div class="line"><span class="source java"><span class="meta class java"><span class="storage modifier java"><span>public</span></span><span>&nbsp;</span><span class="meta class identifier java"><span class="storage modifier java"><span>class</span></span><span>&nbsp;</span><span class="entity name type class java"><span>Coercion</span></span></span><span>&nbsp;</span><span class="punctuation section class begin bracket curly java"><span>{</span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span>&nbsp;&nbsp;</span><span class="meta method java"><span class="storage modifier java"><span>public</span></span><span>&nbsp;</span><span class="storage modifier java"><span>static</span></span><span>&nbsp;</span><span class="meta method return-type java"><span class="storage type primitive java"><span>void</span></span></span><span>&nbsp;</span><span class="meta method identifier java"><span class="entity name function java"><span>f</span></span><span class="punctuation definition parameters begin bracket round java"><span>(</span></span><span class="storage type primitive java"><span>double</span></span><span>&nbsp;</span><span class="variable parameter java"><span>x</span></span><span class="punctuation definition parameters end bracket round java"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation section method begin bracket curly java"><span>{</span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="variable other object java"><span>System</span></span><span class="punctuation separator period java"><span>.</span></span><span class="variable other object property java"><span>out</span></span><span class="meta method-call java"><span class="punctuation separator period java"><span>.</span></span><span class="entity name function java"><span>println</span></span><span class="punctuation definition parameters begin bracket round java"><span>(</span></span><span>x</span><span class="punctuation definition parameters end bracket round java"><span>)</span></span></span><span class="punctuation terminator java"><span>;</span></span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span>&nbsp;&nbsp;</span></span><span class="punctuation section method end bracket curly java"><span>}</span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span>&nbsp;&nbsp;</span><span class="meta method java"><span class="storage modifier java"><span>public</span></span><span>&nbsp;</span><span class="storage modifier java"><span>static</span></span><span>&nbsp;</span><span class="meta method return-type java"><span class="storage type primitive java"><span>void</span></span></span><span>&nbsp;</span><span class="meta method identifier java"><span class="entity name function java"><span>main</span></span><span class="punctuation definition parameters begin bracket round java"><span>(</span></span><span class="storage type java"><span>String</span></span><span>&nbsp;</span><span class="variable parameter java"><span>args</span></span><span>[]</span><span class="punctuation definition parameters end bracket round java"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation section method begin bracket curly java"><span>{</span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta function-call java"><span class="entity name function java"><span>f</span></span><span class="punctuation definition parameters begin bracket round java"><span>(</span></span><span class="punctuation bracket round java"><span>(</span></span><span class="storage type primitive java"><span>byte</span></span><span class="punctuation bracket round java"><span>)</span></span><span class="constant numeric java"><span>1</span></span><span class="punctuation definition parameters end bracket round java"><span>)</span></span></span><span class="punctuation terminator java"><span>;</span></span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta function-call java"><span class="entity name function java"><span>f</span></span><span class="punctuation definition parameters begin bracket round java"><span>(</span></span><span class="punctuation bracket round java"><span>(</span></span><span class="storage type primitive java"><span>short</span></span><span class="punctuation bracket round java"><span>)</span></span><span class="constant numeric java"><span>2</span></span><span class="punctuation definition parameters end bracket round java"><span>)</span></span></span><span class="punctuation terminator java"><span>;</span></span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta function-call java"><span class="entity name function java"><span>f</span></span><span class="punctuation definition parameters begin bracket round java"><span>(</span></span><span class="string quoted single java"><span class="punctuation definition string begin java"><span>&#39;</span></span><span>a</span><span class="punctuation definition string end java"><span>&#39;</span></span></span><span class="punctuation definition parameters end bracket round java"><span>)</span></span></span><span class="punctuation terminator java"><span>;</span></span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta function-call java"><span class="entity name function java"><span>f</span></span><span class="punctuation definition parameters begin bracket round java"><span>(</span></span><span class="constant numeric java"><span>3</span></span><span class="punctuation definition parameters end bracket round java"><span>)</span></span></span><span class="punctuation terminator java"><span>;</span></span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta function-call java"><span class="entity name function java"><span>f</span></span><span class="punctuation definition parameters begin bracket round java"><span>(</span></span><span class="constant numeric java"><span>4L</span></span><span class="punctuation definition parameters end bracket round java"><span>)</span></span></span><span class="punctuation terminator java"><span>;</span></span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta function-call java"><span class="entity name function java"><span>f</span></span><span class="punctuation definition parameters begin bracket round java"><span>(</span></span><span class="constant numeric java"><span>5.6F</span></span><span class="punctuation definition parameters end bracket round java"><span>)</span></span></span><span class="punctuation terminator java"><span>;</span></span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta function-call java"><span class="entity name function java"><span>f</span></span><span class="punctuation definition parameters begin bracket round java"><span>(</span></span><span class="constant numeric java"><span>5.6</span></span><span class="punctuation definition parameters end bracket round java"><span>)</span></span></span><span class="punctuation terminator java"><span>;</span></span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span>&nbsp;&nbsp;</span></span><span class="punctuation section method end bracket curly java"><span>}</span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="punctuation section class end bracket curly java"><span>}</span></span></span></span></div></pre>
<p>5.1) Why we get 5.599999904632568 when we try to print 5.6F?</p>
<h3>Tricky iterations:</h3>
<ul>
<li>overloading uses the types to choose the definition.</li>
<li>Coercion uses the definition to choose a type conversion.</li>
</ul>
<ol start="6">
<li>Which functions get called?</li>
</ol>
<pre class="editor-colors lang-cpp"><div class="line"><span class="source cpp"><span class="comment line double-slash cpp"><span class="punctuation definition comment cpp"><span>//</span></span><span>&nbsp;square.cpp</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source cpp"><span class="meta preprocessor include c"><span class="keyword control directive include c"><span class="punctuation definition directive c"><span>#</span></span><span>include</span></span><span>&nbsp;</span><span class="string quoted other lt-gt include c"><span class="punctuation definition string begin c"><span>&lt;</span></span><span>iostream</span><span class="punctuation definition string end c"><span>&gt;</span></span></span></span></span></div><div class="line"><span class="source cpp"><span class="storage type c"><span>int</span></span><span class="meta function c"><span class="punctuation whitespace function leading c"><span>&nbsp;</span></span><span class="entity name function c"><span>square</span></span><span class="meta parens c"><span class="punctuation section parens begin c"><span>(</span></span><span class="storage type c"><span>int</span></span><span>&nbsp;a</span><span class="punctuation section parens end c"><span>)</span></span></span><span>&nbsp;</span><span class="meta block c"><span class="punctuation section block begin c"><span>{</span></span></span></span></span></div><div class="line"><span class="source cpp"><span class="meta function c"><span class="meta block c"><span>&nbsp;&nbsp;std::cout&nbsp;&lt;&lt;&nbsp;</span><span class="string quoted double c"><span class="punctuation definition string begin c"><span>&quot;</span></span><span>Square&nbsp;of&nbsp;ints</span><span class="constant character escape c"><span>\n</span></span><span class="punctuation definition string end c"><span>&quot;</span></span></span><span>;</span></span></span></span></div><div class="line"><span class="source cpp"><span class="meta function c"><span class="meta block c"><span>&nbsp;&nbsp;</span><span class="keyword control c"><span>return</span></span><span>&nbsp;a&nbsp;*&nbsp;a;</span></span></span></span></div><div class="line"><span class="source cpp"><span class="meta function c"><span class="meta block c"><span class="punctuation section block end c"><span>}</span></span></span></span></span></div><div class="line"><span class="source cpp"><span class="storage type c"><span>double</span></span><span class="meta function c"><span class="punctuation whitespace function leading c"><span>&nbsp;</span></span><span class="entity name function c"><span>square</span></span><span class="meta parens c"><span class="punctuation section parens begin c"><span>(</span></span><span class="storage type c"><span>double</span></span><span>&nbsp;a</span><span class="punctuation section parens end c"><span>)</span></span></span><span>&nbsp;</span><span class="meta block c"><span class="punctuation section block begin c"><span>{</span></span></span></span></span></div><div class="line"><span class="source cpp"><span class="meta function c"><span class="meta block c"><span>&nbsp;&nbsp;std::cout&nbsp;&lt;&lt;&nbsp;</span><span class="string quoted double c"><span class="punctuation definition string begin c"><span>&quot;</span></span><span>Square&nbsp;of&nbsp;doubles</span><span class="constant character escape c"><span>\n</span></span><span class="punctuation definition string end c"><span>&quot;</span></span></span><span>;</span></span></span></span></div><div class="line"><span class="source cpp"><span class="meta function c"><span class="meta block c"><span>&nbsp;&nbsp;</span><span class="keyword control c"><span>return</span></span><span>&nbsp;a&nbsp;*&nbsp;a;</span></span></span></span></div><div class="line"><span class="source cpp"><span class="meta function c"><span class="meta block c"><span class="punctuation section block end c"><span>}</span></span></span></span></span></div><div class="line"><span class="source cpp"><span class="storage type c"><span>int</span></span><span class="meta function c"><span class="punctuation whitespace function leading c"><span>&nbsp;</span></span><span class="entity name function c"><span>main</span></span><span class="meta parens c"><span class="punctuation section parens begin c"><span>(</span></span><span class="punctuation section parens end c"><span>)</span></span></span><span>&nbsp;</span><span class="meta block c"><span class="punctuation section block begin c"><span>{</span></span></span></span></span></div><div class="line"><span class="source cpp"><span class="meta function c"><span class="meta block c"><span>&nbsp;&nbsp;</span><span class="storage type c"><span>double</span></span><span>&nbsp;b&nbsp;=&nbsp;</span><span class="string quoted single c"><span class="punctuation definition string begin c"><span>&#39;</span></span><span>a</span><span class="punctuation definition string end c"><span>&#39;</span></span></span><span>;</span></span></span></span></div><div class="line"><span class="source cpp"><span class="meta function c"><span class="meta block c"><span>&nbsp;&nbsp;</span><span class="storage type c"><span>int</span></span><span>&nbsp;i&nbsp;=&nbsp;</span><span class="string quoted single c"><span class="punctuation definition string begin c"><span>&#39;</span></span><span>a</span><span class="punctuation definition string end c"><span>&#39;</span></span></span><span>;</span></span></span></span></div><div class="line"><span class="source cpp"><span class="meta function c"><span class="meta block c"><span>&nbsp;&nbsp;std::cout&nbsp;&lt;&lt;</span><span class="meta function-call c"><span class="punctuation whitespace function-call leading c"><span>&nbsp;</span></span><span class="support function any-method c"><span>square</span></span><span class="punctuation definition parameters c"><span>(</span></span></span><span>b)&nbsp;&lt;&lt;&nbsp;std::endl;</span></span></span></span></div><div class="line"><span class="source cpp"><span class="meta function c"><span class="meta block c"><span>&nbsp;&nbsp;std::cout&nbsp;&lt;&lt;</span><span class="meta function-call c"><span class="punctuation whitespace function-call leading c"><span>&nbsp;</span></span><span class="support function any-method c"><span>square</span></span><span class="punctuation definition parameters c"><span>(</span></span></span><span>i)&nbsp;&lt;&lt;&nbsp;std::endl;</span></span></span></span></div><div class="line"><span class="source cpp"><span class="meta function c"><span class="meta block c"><span>&nbsp;&nbsp;std::cout&nbsp;&lt;&lt;</span><span class="meta function-call c"><span class="punctuation whitespace function-call leading c"><span>&nbsp;</span></span><span class="support function any-method c"><span>square</span></span><span class="punctuation definition parameters c"><span>(</span></span></span><span class="string quoted single c"><span class="punctuation definition string begin c"><span>&#39;</span></span><span>a</span><span class="punctuation definition string end c"><span>&#39;</span></span></span><span>)&nbsp;&lt;&lt;&nbsp;std::endl;</span></span></span></span></div><div class="line"><span class="source cpp"><span class="meta function c"><span class="meta block c"><span class="punctuation section block end c"><span>}</span></span></span></span></span></div></pre>
<ol start="7">
<li>Which sum is called in the file over.cpp?</li>
</ol>
<pre class="editor-colors lang-cpp"><div class="line"><span class="source cpp"><span>std::cout&nbsp;&lt;&lt;&nbsp;</span><span class="string quoted double c"><span class="punctuation definition string begin c"><span>&quot;</span></span><span>The&nbsp;sum&nbsp;is&nbsp;</span><span class="punctuation definition string end c"><span>&quot;</span></span></span><span>&nbsp;&lt;&lt;&nbsp;sum(</span><span class="constant numeric c"><span>1</span></span><span>,&nbsp;</span><span class="constant numeric c"><span>2.0</span></span><span>)&nbsp;&lt;&lt;&nbsp;std::endl;</span></span></div></pre>
<ol start="8">
<li>What is the type of:</li>
</ol>
<pre class="editor-colors lang-ml"><div class="line"><span class="text plain null-grammar"><span>List&lt;String&gt;&nbsp;l</span></span></div><div class="line"><span class="text plain null-grammar"><span>fun&nbsp;f&nbsp;a&nbsp;b&nbsp;=&nbsp;a</span></span></div></pre>
<ol start="9">
<li>Why does parametric polymorphism has this name?</li>
</ol>
<p>9.1) Code a function <strong>getMax</strong> in <strong>C++</strong> that returns the maximum of two elements:</p>
<pre class="editor-colors lang-cpp"><div class="line"><span class="source cpp"><span class="storage type template cpp"><span>template&nbsp;</span></span><span>&lt;</span><span class="meta class-struct-block cpp"><span class="storage type cpp"><span>class</span></span><span>&nbsp;</span><span class="entity name type cpp"><span>T</span></span></span><span>&gt;</span></span></div><div class="line"><span class="source cpp"><span>T</span><span class="meta function c"><span class="punctuation whitespace function leading c"><span>&nbsp;</span></span><span class="entity name function c"><span>GetMax</span></span><span>&nbsp;</span><span class="meta parens c"><span class="punctuation section parens begin c"><span>(</span></span><span>T&nbsp;a,&nbsp;T&nbsp;b</span><span class="punctuation section parens end c"><span>)</span></span></span><span>&nbsp;</span><span class="meta block c"><span class="punctuation section block begin c"><span>{</span></span></span></span></span></div><div class="line"><span class="source cpp"><span class="meta function c"><span class="meta block c"><span>&nbsp;&nbsp;T&nbsp;result;</span></span></span></span></div><div class="line"><span class="source cpp"><span class="meta function c"><span class="meta block c"><span>&nbsp;&nbsp;result&nbsp;=&nbsp;(a&nbsp;&gt;&nbsp;b)?&nbsp;a&nbsp;:&nbsp;b;</span></span></span></span></div><div class="line"><span class="source cpp"><span class="meta function c"><span class="meta block c"><span>&nbsp;&nbsp;</span><span class="keyword control c"><span>return</span></span><span>&nbsp;(result);</span></span></span></span></div><div class="line"><span class="source cpp"><span class="meta function c"><span class="meta block c"><span class="punctuation section block end c"><span>}</span></span></span></span></span></div></pre>
<p>9.2) How to call this function?</p>
<pre class="editor-colors lang-cpp"><div class="line"><span class="source cpp"><span class="comment line double-slash cpp"><span class="punctuation definition comment cpp"><span>//</span></span><span>&nbsp;template.cpp:</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source cpp"><span class="storage type c"><span>int</span></span><span class="meta function c"><span class="punctuation whitespace function leading c"><span>&nbsp;</span></span><span class="entity name function c"><span>main</span></span><span>&nbsp;</span><span class="meta parens c"><span class="punctuation section parens begin c"><span>(</span></span><span class="punctuation section parens end c"><span>)</span></span></span><span>&nbsp;</span><span class="meta block c"><span class="punctuation section block begin c"><span>{</span></span></span></span></span></div><div class="line"><span class="source cpp"><span class="meta function c"><span class="meta block c"><span>&nbsp;&nbsp;</span><span class="storage type c"><span>int</span></span><span>&nbsp;i&nbsp;=&nbsp;</span><span class="constant numeric c"><span>5</span></span><span>,&nbsp;j&nbsp;=&nbsp;</span><span class="constant numeric c"><span>6</span></span><span>,&nbsp;k;</span></span></span></span></div><div class="line"><span class="source cpp"><span class="meta function c"><span class="meta block c"><span>&nbsp;&nbsp;</span><span class="storage type c"><span>long</span></span><span>&nbsp;l&nbsp;=&nbsp;</span><span class="constant numeric c"><span>10</span></span><span>,&nbsp;m&nbsp;=&nbsp;</span><span class="constant numeric c"><span>5</span></span><span>,&nbsp;n;</span></span></span></span></div><div class="line"><span class="source cpp"><span class="meta function c"><span class="meta block c"><span>&nbsp;&nbsp;k&nbsp;=&nbsp;GetMax&nbsp;&lt;</span><span class="storage type c"><span>int</span></span><span>&gt;&nbsp;(i,j);&nbsp;</span><span class="comment line double-slash cpp"><span class="punctuation definition comment cpp"><span>//</span></span><span>&nbsp;see&nbsp;the&nbsp;type&nbsp;parameter!</span><span>&nbsp;</span></span></span></span></span></div><div class="line"><span class="source cpp"><span class="meta function c"><span class="meta block c"><span>&nbsp;&nbsp;n&nbsp;=&nbsp;GetMax&nbsp;&lt;</span><span class="storage type c"><span>long</span></span><span>&gt;&nbsp;(l,m);</span></span></span></span></div><div class="line"><span class="source cpp"><span class="meta function c"><span class="meta block c"><span>&nbsp;&nbsp;cout&nbsp;&lt;&lt;&nbsp;k&nbsp;&lt;&lt;&nbsp;endl;</span></span></span></span></div><div class="line"><span class="source cpp"><span class="meta function c"><span class="meta block c"><span>&nbsp;&nbsp;cout&nbsp;&lt;&lt;&nbsp;n&nbsp;&lt;&lt;&nbsp;endl;</span></span></span></span></div><div class="line"><span class="source cpp"><span class="meta function c"><span class="meta block c"><span>&nbsp;&nbsp;</span><span class="keyword control c"><span>return</span></span><span>&nbsp;</span><span class="constant numeric c"><span>0</span></span><span>;</span></span></span></span></div><div class="line"><span class="source cpp"><span class="meta function c"><span class="meta block c"><span class="punctuation section block end c"><span>}</span></span></span></span></span></div></pre>
<p>9.3) How to implement the function <strong>getMax</strong> in <strong>SML</strong>? Is this implementation
polymorphic? Why?</p>
<p>9.4) The <strong>GetMax</strong> function could be implemented as a macro. How?</p>
<pre class="editor-colors lang-c"><div class="line"><span class="source c"><span class="meta preprocessor macro c"><span class="keyword control directive define c"><span class="punctuation definition directive c"><span>#</span></span><span>define</span></span><span>&nbsp;</span><span class="entity name function preprocessor c"><span>GetMax</span></span><span class="punctuation definition parameters begin c"><span>(</span></span><span class="variable parameter preprocessor c"><span>a</span><span class="punctuation separator parameters c"><span>,</span></span><span>b</span></span><span class="punctuation definition parameters end c"><span>)</span></span><span>&nbsp;((a)&nbsp;&lt;&nbsp;(b)&nbsp;?&nbsp;(b)&nbsp;:&nbsp;(a))</span></span></span></div></pre>
<p>9.5) What are the advantages and disadvantages of using macros over templates?</p>
<p>9.6) How to create a <strong>C++</strong> class <strong>MyInt</strong>, with the operator <em>&gt;</em>, so that we can
apply <strong>getMax</strong> on it?</p>
<pre class="editor-colors lang-cpp"><div class="line"><span class="source cpp"><span class="meta class-struct-block cpp"><span class="storage type cpp"><span>class</span></span><span>&nbsp;</span><span class="entity name type cpp"><span>MyInt</span></span><span>&nbsp;</span><span class="punctuation section block begin cpp"><span>{</span></span></span></span></div><div class="line"><span class="source cpp"><span class="meta class-struct-block cpp"><span>&nbsp;&nbsp;</span><span class="storage modifier cpp"><span>friend</span></span><span>&nbsp;std::ostream&nbsp;&amp;&nbsp;</span><span class="keyword control cpp"><span>operator</span></span><span>&lt;&lt;(std::ostream&amp;&nbsp;os,&nbsp;</span><span class="storage modifier c"><span>const</span></span><span>&nbsp;MyInt&amp;&nbsp;m)&nbsp;</span><span class="meta block c"><span class="punctuation section block begin c"><span>{</span></span></span></span></span></div><div class="line"><span class="source cpp"><span class="meta class-struct-block cpp"><span class="meta block c"><span>&nbsp;&nbsp;&nbsp;&nbsp;os&nbsp;&lt;&lt;&nbsp;m</span><span class="punctuation separator dot-access c"><span>.</span></span><span class="variable other member c"><span>data</span></span><span>;</span></span></span></span></div><div class="line"><span class="source cpp"><span class="meta class-struct-block cpp"><span class="meta block c"><span>&nbsp;&nbsp;</span><span class="punctuation section block end c"><span>}</span></span></span></span></span></div><div class="line"><span class="source cpp"><span class="meta class-struct-block cpp"><span>&nbsp;&nbsp;</span><span class="storage modifier cpp"><span>friend</span></span><span>&nbsp;</span><span class="storage type c"><span>bool</span></span><span>&nbsp;</span><span class="keyword control cpp"><span>operator</span></span><span>&nbsp;&gt;(MyInt&amp;&nbsp;mi1,&nbsp;MyInt&amp;&nbsp;mi2)&nbsp;</span><span class="meta block c"><span class="punctuation section block begin c"><span>{</span></span></span></span></span></div><div class="line"><span class="source cpp"><span class="meta class-struct-block cpp"><span class="meta block c"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control c"><span>return</span></span><span>&nbsp;mi1</span><span class="punctuation separator dot-access c"><span>.</span></span><span class="variable other member c"><span>data</span></span><span>&nbsp;&gt;&nbsp;mi2</span><span class="punctuation separator dot-access c"><span>.</span></span><span class="variable other member c"><span>data</span></span><span>;</span></span></span></span></div><div class="line"><span class="source cpp"><span class="meta class-struct-block cpp"><span class="meta block c"><span>&nbsp;&nbsp;</span><span class="punctuation section block end c"><span>}</span></span></span></span></span></div><div class="line"><span class="source cpp"><span class="meta class-struct-block cpp"><span>&nbsp;&nbsp;</span><span class="storage modifier cpp"><span>public:</span></span></span></span></div><div class="line"><span class="source cpp"><span class="meta class-struct-block cpp"><span class="meta function constructor cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="entity name function cpp"><span>MyInt</span></span><span class="punctuation definition parameters begin c"><span>(</span></span><span class="storage type c"><span>int</span></span><span>&nbsp;i</span><span class="punctuation definition parameters end c"><span>)</span></span></span><span>&nbsp;</span><span class="meta function constructor initializer-list cpp"><span class="punctuation definition parameters c"><span>:</span></span><span>&nbsp;data(i)&nbsp;</span></span><span class="meta block c"><span class="punctuation section block begin c"><span>{</span></span><span class="punctuation section block end c"><span>}</span></span></span></span></span></div><div class="line"><span class="source cpp"><span class="meta class-struct-block cpp"><span>&nbsp;&nbsp;</span><span class="storage modifier cpp"><span>private:</span></span></span></span></div><div class="line"><span class="source cpp"><span class="meta class-struct-block cpp"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="storage modifier c"><span>const</span></span><span>&nbsp;</span><span class="storage type c"><span>int</span></span><span>&nbsp;data;</span></span></span></div><div class="line"><span class="source cpp"><span class="meta class-struct-block cpp"><span class="punctuation section block end cpp"><span>}</span></span></span><span>;</span></span></div></pre>
<p>9.7) And how to use it?</p>
<pre class="editor-colors lang-cpp"><div class="line"><span class="source cpp"><span>&nbsp;&nbsp;MyInt</span><span class="meta function c"><span class="punctuation whitespace function leading c"><span>&nbsp;</span></span><span class="entity name function c"><span>m1</span></span><span class="meta parens c"><span class="punctuation section parens begin c"><span>(</span></span><span class="constant numeric c"><span>50</span></span><span class="punctuation section parens end c"><span>)</span></span></span><span>,&nbsp;m2</span><span class="meta parens c"><span class="punctuation section parens begin c"><span>(</span></span><span class="constant numeric c"><span>56</span></span><span class="punctuation section parens end c"><span>)</span></span></span><span>;</span></span></span></div><div class="line"><span class="source cpp"><span>&nbsp;&nbsp;MyInt&nbsp;mi&nbsp;=&nbsp;GetMax&lt;MyInt&gt;(m1,&nbsp;m2);</span></span></div><div class="line"><span class="source cpp"><span>&nbsp;&nbsp;cout&nbsp;&lt;&lt;&nbsp;mi&nbsp;&lt;&lt;&nbsp;endl;</span></span></div></pre>
<p>What would happen if <strong>MyInt</strong> did not have the operator <em>‘&lt;’</em> defined?</p>
<ol start="10">
<li>
<p>What is a type constructor?</p>
</li>
<li>
<p>How is parametric polymorphism implemented in C++?
11.1) How is it implemented in Java?</p>
</li>
<li>
<p>What is the type of <code>fun comp a b = a = b;</code></p>
</li>
</ol>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>stdIn:1.18&nbsp;Warning:&nbsp;calling&nbsp;polyEqual</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>val&nbsp;comp&nbsp;=&nbsp;fn&nbsp;:&nbsp;&#39;&#39;a&nbsp;-&gt;&nbsp;&#39;&#39;a&nbsp;-&gt;&nbsp;bool</span></span></span></div></pre>
<ol start="12">
<li>Which type of polymorphism is happening here?</li>
</ol>
<pre class="editor-colors lang-java"><div class="line"><span class="source java"><span class="meta class java"><span class="storage modifier java"><span>public</span></span><span>&nbsp;</span><span class="meta class identifier java"><span class="storage modifier java"><span>class</span></span><span>&nbsp;</span><span class="entity name type class java"><span>Sub</span></span></span><span>&nbsp;</span><span class="punctuation section class begin bracket curly java"><span>{</span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span>&nbsp;&nbsp;</span><span class="meta method java"><span class="storage modifier java"><span>public</span></span><span>&nbsp;</span><span class="storage modifier java"><span>static</span></span><span>&nbsp;</span><span class="meta method return-type java"><span class="storage type primitive java"><span>void</span></span></span><span>&nbsp;</span><span class="meta method identifier java"><span class="entity name function java"><span>print</span></span><span class="punctuation definition parameters begin bracket round java"><span>(</span></span><span class="storage type java"><span>Object</span></span><span>&nbsp;</span><span class="variable parameter java"><span>o</span></span><span class="punctuation definition parameters end bracket round java"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation section method begin bracket curly java"><span>{</span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="variable other object java"><span>System</span></span><span class="punctuation separator period java"><span>.</span></span><span class="variable other object property java"><span>out</span></span><span class="meta method-call java"><span class="punctuation separator period java"><span>.</span></span><span class="entity name function java"><span>println</span></span><span class="punctuation definition parameters begin bracket round java"><span>(</span></span><span>o</span><span class="punctuation definition parameters end bracket round java"><span>)</span></span></span><span class="punctuation terminator java"><span>;</span></span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span>&nbsp;&nbsp;</span></span><span class="punctuation section method end bracket curly java"><span>}</span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span>&nbsp;&nbsp;</span><span class="meta method java"><span class="storage modifier java"><span>public</span></span><span>&nbsp;</span><span class="storage modifier java"><span>static</span></span><span>&nbsp;</span><span class="meta method return-type java"><span class="storage type primitive java"><span>void</span></span></span><span>&nbsp;</span><span class="meta method identifier java"><span class="entity name function java"><span>main</span></span><span class="punctuation definition parameters begin bracket round java"><span>(</span></span><span class="storage type object array java"><span>String</span><span class="punctuation bracket square java"><span>[</span><span>]</span></span></span><span>&nbsp;</span><span class="variable parameter java"><span>a</span></span><span class="punctuation definition parameters end bracket round java"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation section method begin bracket curly java"><span>{</span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta function-call java"><span class="entity name function java"><span>print</span></span><span class="punctuation definition parameters begin bracket round java"><span>(</span></span><span class="keyword control new java"><span>new</span></span><span>&nbsp;</span><span class="storage type java"><span>String</span></span><span class="punctuation bracket round java"><span>(</span></span><span class="string quoted double java"><span class="punctuation definition string begin java"><span>&quot;</span></span><span>dcc024</span><span class="punctuation definition string end java"><span>&quot;</span></span></span><span class="punctuation bracket round java"><span>)</span></span><span class="punctuation definition parameters end bracket round java"><span>)</span></span></span><span class="punctuation terminator java"><span>;</span></span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta function-call java"><span class="entity name function java"><span>print</span></span><span class="punctuation definition parameters begin bracket round java"><span>(</span></span><span class="keyword control new java"><span>new</span></span><span>&nbsp;</span><span class="storage type java"><span>Integer</span></span><span class="punctuation bracket round java"><span>(</span></span><span class="constant numeric java"><span>42</span></span><span class="punctuation bracket round java"><span>)</span></span><span class="punctuation definition parameters end bracket round java"><span>)</span></span></span><span class="punctuation terminator java"><span>;</span></span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta function-call java"><span class="entity name function java"><span>print</span></span><span class="punctuation definition parameters begin bracket round java"><span>(</span></span><span class="keyword control new java"><span>new</span></span><span>&nbsp;</span><span class="storage type java"><span>Character</span></span><span class="punctuation bracket round java"><span>(</span></span><span class="string quoted single java"><span class="punctuation definition string begin java"><span>&#39;</span></span><span>a</span><span class="punctuation definition string end java"><span>&#39;</span></span></span><span class="punctuation bracket round java"><span>)</span></span><span class="punctuation definition parameters end bracket round java"><span>)</span></span></span><span class="punctuation terminator java"><span>;</span></span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span>&nbsp;&nbsp;</span></span><span class="punctuation section method end bracket curly java"><span>}</span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="punctuation section class end bracket curly java"><span>}</span></span></span></span></div></pre>
<ol start="13">
<li>Has anyone heard of <strong>Ocaml</strong>?</li>
</ol>
<ul>
<li>It is a functional, object-oriented language, that came out of ML, and that
uses structural typing.</li>
</ul>
<p>13.1) How to create objects in <strong>Ocaml</strong>?</p>
<pre class="editor-colors lang-ocaml"><div class="line"><span class="text plain null-grammar"><span>let&nbsp;x&nbsp;=</span></span></div><div class="line"><span class="text plain null-grammar"><span>&nbsp;&nbsp;&nbsp;object</span></span></div><div class="line"><span class="text plain null-grammar"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;val&nbsp;mutable&nbsp;x&nbsp;=&nbsp;5</span></span></div><div class="line"><span class="text plain null-grammar"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method&nbsp;get_x&nbsp;=&nbsp;x</span></span></div><div class="line"><span class="text plain null-grammar"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method&nbsp;set_x&nbsp;y&nbsp;=&nbsp;x&nbsp;&lt;-&nbsp;y</span></span></div><div class="line"><span class="text plain null-grammar"><span>&nbsp;&nbsp;&nbsp;end;;</span></span></div><div class="line"><span class="text plain null-grammar"><span>&nbsp;</span></span></div><div class="line"><span class="text plain null-grammar"><span>let&nbsp;y&nbsp;=</span></span></div><div class="line"><span class="text plain null-grammar"><span>&nbsp;&nbsp;&nbsp;object</span></span></div><div class="line"><span class="text plain null-grammar"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method&nbsp;get_x&nbsp;=&nbsp;2</span></span></div><div class="line"><span class="text plain null-grammar"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method&nbsp;set_x&nbsp;y&nbsp;=&nbsp;Printf.printf&nbsp;&quot;%d\n&quot;&nbsp;y</span></span></div><div class="line"><span class="text plain null-grammar"><span>&nbsp;&nbsp;&nbsp;end;;</span></span></div></pre>
<p>13.2) How to run a program?</p>
<pre class="editor-colors lang-sh"><div class="line"><span class="source shell"><span>$&nbsp;ocaml</span></span></div><div class="line"><span class="source shell"><span class="comment line number-sign shell"><span class="punctuation definition comment shell"><span>#</span></span><span>&nbsp;#use&nbsp;&quot;sub.ml&quot;;;;</span></span></span></div></pre>
<p>13.3) What happens if I try: <code># x = y;;</code></p>
<p>13.4) Does this expression type-checks?</p>
<p>13.5) What does this definition do?</p>
<pre class="editor-colors lang-ocaml"><div class="line"><span class="text plain null-grammar"><span>let&nbsp;set_to_10&nbsp;a&nbsp;=&nbsp;a#set_x&nbsp;10;;</span></span></div></pre>
<p>13.6) Is it legal?
<code># set_to_10 x;;</code></p>
<ul>
<li>or -
<code># set_to_10 y;;</code></li>
</ul>
<p>13.7) Consider, now, the <strong>z</strong> object below:</p>
<pre class="editor-colors lang-ocaml"><div class="line"><span class="text plain null-grammar"><span>let&nbsp;z&nbsp;=</span></span></div><div class="line"><span class="text plain null-grammar"><span>&nbsp;&nbsp;&nbsp;object</span></span></div><div class="line"><span class="text plain null-grammar"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method&nbsp;blahblah&nbsp;=&nbsp;2.5</span></span></div><div class="line"><span class="text plain null-grammar"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method&nbsp;set_x&nbsp;y&nbsp;=&nbsp;Printf.printf&nbsp;&quot;%d\n&quot;&nbsp;y</span></span></div><div class="line"><span class="text plain null-grammar"><span>&nbsp;&nbsp;&nbsp;end;;</span></span></div></pre>
<p>Is it legal? <code>set_to_10 z;;</code></p>
<p>13.8) Consider, now, a new type definition:</p>
<pre class="editor-colors lang-ocaml"><div class="line"><span class="text plain null-grammar"><span>type&nbsp;simpler_obj&nbsp;=&nbsp;&lt;&nbsp;get_x&nbsp;:&nbsp;int&nbsp;&gt;;;</span></span></div></pre>
<p>Is it legal to convert x to simpler_obj?</p>
<pre class="editor-colors lang-ocaml"><div class="line"><span class="text plain null-grammar"><span>#&nbsp;let&nbsp;w&nbsp;=&nbsp;(x&nbsp;:&gt;&nbsp;simpler_obj);;</span></span></div><div class="line"><span class="text plain null-grammar"><span>#&nbsp;w#get_x;;</span></span></div></pre>
<p>13.9) What about converting z to simpler_obj?</p>
<pre class="editor-colors lang-ocaml"><div class="line"><span class="text plain null-grammar"><span>(z&nbsp;:&gt;&nbsp;simpler_obj);;</span></span></div></pre>
<h3>Summary:</h3>
<ul>
<li>Overloading: each different type requires a separate definition.</li>
<li>Coercion: all the conversions must be defined in the language spec.</li>
<li>Parametric: infinite as long as the universe over which type variables are instantiated is infinite.</li>
<li>Subtype: infinite, as long as there is no limit on the number of subtypes of a type.</li>
</ul>
<ol start="12">
<li>Why do programming languages have polymorphism?</li>
</ol>
<h1>The Lambda Calculus (Aula 09)</h1>
<p>Pablo Diego Jose Francisco de Paula Juan Nepomuceno Maria de los Remedios<br>
Cipriano de la Santisima Trinidad Ruiz y Picasso</p>
<ol>
<li>Which language is more powerful, SML or C?</li>
</ol>
<h3>The brief history of lambda-calculus.</h3>
<ul>
<li>Lambda expressions:</li>
</ul>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&lt;expr&gt;&nbsp;::=&nbsp;&lt;name&gt;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>|&nbsp;\lambda&nbsp;&lt;name&gt;&nbsp;.&nbsp;&lt;expr&gt;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>|&nbsp;&lt;expr&gt;&nbsp;&lt;expr&gt;</span></span></span></div></pre>
<ul>
<li>The semantics of lambda-calculus is roughly defined by a simple substitution scheme:<br>
<span class="math"><script type="math/tex">(\lambda v . E) E1 \rightarrow E</script></span> [with each occurrence of <span class="math"><script type="math/tex">v</script></span> replaced by E1]
This kind of reduction is called a betha reduction.</li>
</ul>
<h4>Example:</h4>
<p>Identity = <span class="math"><script type="math/tex">\lambda x.x</script></span><br>
<span class="math"><script type="math/tex">(\lambda x.x) y = y</script></span></p>
<ul>
<li>We have also alpha reductions: we can change all the occurrences of a name
<span class="math"><script type="math/tex">n_1</script></span> by another name <span class="math"><script type="math/tex">n_2</script></span> in an expression <span class="math"><script type="math/tex">E</script></span>, given that <span class="math"><script type="math/tex">n_2</script></span> does not already occur
in <span class="math"><script type="math/tex">E</script></span>: <span class="math"><script type="math/tex">\lambda x.x = \lambda z.z = \lambda y.y</script></span></li>
</ul>
<p>1.1) Do you remember the precedence rules in SML?</p>
<ul>
<li>Precedence:<br>
Application associates to the left:<br>
E1 E2 E3 = ((E1 E2) E3)</li>
</ul>
<p>1.1) What is the result of?<br>
<span class="math"><script type="math/tex">(\lambda x.\lambda y. x y) (\lambda z.z) w \\
  (\lambda y.(\lambda z.z) y) w \implies (\lambda z.z) w \implies w</script></span></p>
<ul>
<li>
<p>Free and Bound variables:<br>
Given <span class="math"><script type="math/tex">\lambda x.E</script></span>, the occurrence of ‘<span class="math"><script type="math/tex">x</script></span>’ in <span class="math"><script type="math/tex">E</script></span> is considered bound.<br>
Example: <span class="math"><script type="math/tex">\lambda x.xy</script></span></p>
<ul>
<li>Intuitively, a free variable is a variable that has not been declared.</li>
</ul>
</li>
<li>
<p>A substitution is only valid as long as it does not cause a free variable
to become bound:</p>
</li>
</ul>
<p>1.2) Can you give an example of an unsafe substitution?
<span class="math"><script type="math/tex">(\lambda y . (\lambda x . (\text{mul } y x))) x \implies \lambda x . \text{mul } x x</script></span><br>
The original function is multiplication by <span class="math"><script type="math/tex">y</script></span>, and the second is a square.</p>
<p>Recursive definition:<br>
<span class="math"><script type="math/tex"><name></script></span> is free in <span class="math"><script type="math/tex"><name></script></span>.
<span class="math"><script type="math/tex"><name></script></span> is free in <span class="math"><script type="math/tex">\lambda <name1 > . <exp></script></span> if the identifier <span class="math"><script type="math/tex"><name> != <name1 ></script></span>
and <span class="math"><script type="math/tex"><name></script></span> is free in <span class="math"><script type="math/tex"><exp></script></span>.
<span class="math"><script type="math/tex"><name></script></span> is free in <span class="math"><script type="math/tex">E1</script></span> <span class="math"><script type="math/tex">E2</script></span> if <span class="math"><script type="math/tex"><name></script></span> is free in <span class="math"><script type="math/tex">E1</script></span> or it is free in <span class="math"><script type="math/tex">E2</script></span>.</p>
<ul>
<li>Substitution:<br>
Be careful not to mix up bound and free variables:</li>
</ul>
<ol start="2">
<li>Solve <span class="math"><script type="math/tex">(\lambda x.(\lambda y.xy))y</script></span><br>
We can do ‘alpha-renaming’<br>
<span class="math"><script type="math/tex">(\lambda x.(\lambda t.xt))y \implies \lambda t.yt</script></span></li>
</ol>
<ul>
<li>A substitution should not change variables in the scope of other lambda
declarations: <span class="math"><script type="math/tex">(\lambda x.x(\lambda x.x))y = y(\lambda y.y)</script></span> is not wrong, but it makes the program
hard to read.
or <span class="math"><script type="math/tex">(\lambda x . (\lambda x . x + 1) (x + x)) 2</script></span><br>
<span class="math"><script type="math/tex">\rightarrow (\lambda 2 . 2 + 1) (2 + 2) \rightarrow</script></span> makes no sense to have <span class="math"><script type="math/tex">\lambda 2</script></span><br>
<span class="math"><script type="math/tex">\rightarrow (\lambda x . 2 + 1) (2 + 2) \rightarrow</script></span> this is three, which is not probably what we want<br>
<span class="math"><script type="math/tex">\rightarrow (\lambda x . x + 1) (2 + 2) \rightarrow</script></span> this is five, what is fine!</li>
</ul>
<ol start="3">
<li>
<p>How to solve <span class="math"><script type="math/tex">(\lambda x. x(\lambda x.x))y</script></span><br>
We can use alpha-renaming:<br>
<span class="math"><script type="math/tex">(\lambda x.x(\lambda x.x))y = (\lambda x.x(\lambda w.w))y = y(\lambda w.w)</script></span></p>
</li>
<li>
<p>Solve <span class="math"><script type="math/tex">(\lambda x.(\lambda y.(x(\lambda x.xy))))y</script></span><br>
renaming 1: <span class="math"><script type="math/tex">(\lambda x.(\lambda t.(x(\lambda x.xt))))y</script></span><br>
renaming 2: <span class="math"><script type="math/tex">(\lambda x.(\lambda t.(x(\lambda u.ut))))y</script></span><br>
<span class="math"><script type="math/tex">(\lambda t.(y(\lambda u.ut)))</script></span></p>
</li>
<li>
<p>How to code a function Twice, that takes a function and a parameter,
and applies the function on the parameter twice?<br>
<span class="math"><script type="math/tex">\lambda f.\lambda p.f(fp)</script></span></p>
</li>
<li>
<p>How to represent numbers using lambda-expressions?</p>
</li>
</ol>
<ul>
<li>Everything is a convention!
A number is a function that takes a function <span class="math"><script type="math/tex">s</script></span> plus a constant <span class="math"><script type="math/tex">z</script></span>. The
number <span class="math"><script type="math/tex">N</script></span> is formed by applying s <span class="math"><script type="math/tex">N</script></span> times on <span class="math"><script type="math/tex">z</script></span>.<br>
<span class="math"><script type="math/tex">Zero = \lambda s.\lambda z.z\\
One = \lambda s.\lambda z.(sz)\\
Two = \lambda s.\lambda z.s(sz)\\
Three = \lambda s.\lambda z.s(s(sz))\\
\dots</script></span></li>
</ul>
<ol start="7">
<li>
<p>How to define the successor function?<br>
<span class="math"><script type="math/tex">Succ = \lambda n.\lambda y.\lambda x.y(nyx)</script></span><br>
Example 1 - successor applied to zero:<br>
<span class="math"><script type="math/tex">(\lambda n.\lambda y.\lambda x.y(nyx))(\lambda s.\lambda z.z) =\\
\lambda y.\lambda x.y((\lambda s.\lambda z.z)yx) =\\
\lambda y.\lambda x.yx</script></span><br>
Example 2 - successor applied to one<br>
<span class="math"><script type="math/tex">(\lambda n.\lambda y.\lambda x.y(nyx))(\lambda s.\lambda z.sz) =\\
\lambda y.\lambda x.y((\lambda s.\lambda z.sz)yx) =\\
\lambda y.\lambda x.y(yx)</script></span></p>
</li>
<li>
<p>How to define addition of <span class="math"><script type="math/tex">n</script></span> and <span class="math"><script type="math/tex">m</script></span>?<br>
What about <span class="math"><script type="math/tex">ADD = \lambda m.\lambda n.\lambda x.\lambda y.m x (n x y)</script></span><br>
ex.: <span class="math"><script type="math/tex">ADD\;2\; 3 =\\
(\lambda m.\lambda n.\lambda x.\lambda y.m x (n x y))\;2\;3 =\\
\lambda x.\lambda y.2 x (3 x y) =\\
\lambda x.\lambda y.2 x (x (x (x y))) =\\
\lambda x.\lambda y.(\lambda s.\lambda z.s (s z)) x (x (x (x y))) =\\
\lambda x.\lambda y.x (x (x (x (x y))))</script></span></p>
</li>
</ol>
<p>8.1) Can I use the successor function?</p>
<ul>
<li>Apply the successor function <span class="math"><script type="math/tex">n</script></span> times on <span class="math"><script type="math/tex">m</script></span>, e.g: <span class="math"><script type="math/tex">\text{ADD} = \lambda m . \lambda n . m \text{ SUCC } n</script></span><br>
Example:<br>
<span class="math"><script type="math/tex">2 + 3 =\\
\text{Two Succ Three} =\\
(\lambda s.\lambda z.s(sz)) \text{ SUCC Three} =\\
(\lambda z. \text{ SUCC SUCC } z) \text{ Three} =\\
\text{ SUCC} (\text{ SUCC Three}) =\\
\text{ SUCC} (\text{ Four}) = \text{ Five}</script></span></li>
</ul>
<ol start="9">
<li>How to implement multiplication?<br>
<span class="math"><script type="math/tex">\text{MUL} = \lambda n_1.\lambda n_2.\lambda s. n_1 (n_2 s)</script></span></li>
</ol>
<p>9.1) How to understant this query? What would happen once we pass a number <span class="math"><script type="math/tex">n_1</script></span>
as parameter?<br>
<span class="math"><script type="math/tex">\lambda n_1 . \lambda n_2 . \lambda s . n_1 (n_2 s) (\lambda a . \lambda b . a(a(...(a(ab)))))\\
\lambda n_2 . \lambda s . (\lambda a . \lambda b . a(a(...(a(ab))))) (n_2 s)\\
\lambda n_2 . \lambda s . (\lambda b . (n_2 s) ( (n_2 s) (...( (n_2 s) ( (n_2 s) b))...)))</script></span></p>
<p>9.2) What would happen if I pass another number n2 as parameter?<br>
<span class="math"><script type="math/tex">\lambda s . (\lambda b . (n_2 s) ( (n_2 s) (...( (n_2 s) (s(s...(s b)...)))...)))\\
\lambda s . (\lambda b . (n_2 s) ( (n_2 s) (...( (s(s... s(s(s...(s b)...)...))))...)))\\
\lambda s . (\lambda b . (s(s(s(s(s...(s(sb))))))))</script></span><br>
ex.: <span class="math"><script type="math/tex">\text{MUL } 2\;3 =\\
\lambda s . 2 (3 s)=\\
\lambda s . 2 ((\lambda a . \lambda b . a(a(a b))) s)=\\
\lambda s . 2 (\lambda b . s(s(s b)))=\\
\lambda s . (\lambda c . \lambda d . c(c d)) (\lambda b . s(s(s b)))=\\
\lambda s . (\lambda d . (\lambda b . s(s(s b))) (((\lambda b . s(s(s b)))) d))=\\
\lambda s . (\lambda d . (\lambda b . s(s(s b))) (s(s(s d))) )=\\
\lambda s . (\lambda d . s(s(s(s(s(s d))))))</script></span></p>
<ol start="10">
<li>
<p>How to define conditionals:<br>
<span class="math"><script type="math/tex">T = \lambda x.\lambda y.x\\
F = \lambda x.\lambda y.y</script></span></p>
</li>
<li>
<p>How to define AND, OR and NOT?<br>
<span class="math"><script type="math/tex">AND = \lambda x.\lambda y.xyF\\
OR = \lambda x.\lambda y.xTy\\
NOT = \lambda x.xFT</script></span></p>
</li>
</ol>
<p>Ex.:<br>
11.1) <span class="math"><script type="math/tex">AND\;\;T\;F =\\
(\lambda x.\lambda y.xyF) T F =\\
T F F = (\lambda x.\lambda y.x) F F = F</script></span></p>
<p>11.2) <span class="math"><script type="math/tex">OR\;\;F\;T =\\
(\lambda x.\lambda y.xTy) F T =\\
T T F = (\lambda x.\lambda y.x) T F = T</script></span></p>
<p>11.3) <span class="math"><script type="math/tex">NOT\;\;T =\\
(\lambda x.xFT) T =\\
T F T = (\lambda x.\lambda y.x) F T = F</script></span></p>
<ol start="12">
<li>
<p>How to define a conditional?<br>
<span class="math"><script type="math/tex">IF = \lambda c . \lambda e_1 . \lambda e_2 . c e_1 e_2</script></span></p>
</li>
<li>
<p>How to define a function that is true if the argument is the number
zero, and false otherwise?<br>
<span class="math"><script type="math/tex">Z = \lambda x.x F\;NOT\;F</script></span></p>
</li>
</ol>
<p>12.1) What is <span class="math"><script type="math/tex">ZERO\;F\;NOT\;F?</script></span>  ;; remember, application associates to the left:<br>
<span class="math"><script type="math/tex">(\lambda s. \lambda z . z) F\;NOT\;F =\\
(\lambda z . z)\;NOT\;F =\\
NOT\;F = T</script></span></p>
<p>12.2) What is <span class="math"><script type="math/tex">n\;F\;NOT\;F</script></span>, <span class="math"><script type="math/tex">n > ZERO</script></span>?<br>
;; <span class="math"><script type="math/tex">F</script></span> takes two args, and returns the second.<br>
<span class="math"><script type="math/tex">(F\;(F\;(F\;... (F\;NOT)))) F\;=\\
((\lambda x.\lambda y.y) (F\;(F\;... (F\;NOT)))) F\;=\\
(\lambda y.y) F = F</script></span></p>
<p>Ex.:<br>
12.3) Evaluate <span class="math"><script type="math/tex">Z Zero =</script></span><br>
<span class="math"><script type="math/tex">(\lambda x.x F\;NOT\;F) Zero =\\
Zero F\;NOT\;F =\\
(\lambda s.\lambda z.z) F\;NOT\;F =\\
NOT\;F = T</script></span></p>
<p>12.4) Evaluate <span class="math"><script type="math/tex">Z \text{ Three} =</script></span><br>
<span class="math"><script type="math/tex">(\lambda x.x F\;NOT\;F) \text{Three} =\\
\text{Three } F\;NOT\;F =\\
(F (F (F\;NOT))) F =\\
((\lambda x.\lambda y.y) (F (F\;NOT))) F =\\
(\lambda y.y) F = F</script></span></p>
<h1>High-order functions (2016/09/16)</h1>
<h3>Currying:</h3>
<ol>
<li>
<p>How to write a function that adds two numbers in SML?<br>
a) <code>fun addp (x, y) = x + y;</code><br>
b) <code>fun add x y = x + y;</code></p>
</li>
<li>
<p>What is the difference between <code>addp</code> and <code>add</code>?</p>
</li>
<li>
<p>How is <code>b</code> in lambda-calculus?<br>
<span class="math"><script type="math/tex">\lambda x . \lambda y . x + y</script></span></p>
</li>
<li>
<p>What is <code>add 1</code>?<br>
<span class="math"><script type="math/tex">\lambda y . 1 + y</script></span></p>
</li>
<li>
<p>How to write a function that <code>adds 1</code> to a number?<br>
<code>fun x = x + 1</code><br>
or<br>
<code>val inc2 = add 1;</code></p>
</li>
</ol>
<h3>Anonymous functions in SML:</h3>
<ol start="6">
<li>What is this declaration doing?</li>
</ol>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>val&nbsp;inc&nbsp;=&nbsp;fn&nbsp;n&nbsp;=&gt;&nbsp;n&nbsp;+&nbsp;1;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>-&nbsp;inc&nbsp;3</span></span></span></div></pre>
<ol start="7">
<li>And this declaration, what is it doing?</li>
</ol>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>val&nbsp;t&nbsp;=&nbsp;(fn&nbsp;n&nbsp;=&gt;&nbsp;n&nbsp;+&nbsp;1,&nbsp;fn&nbsp;n&nbsp;=&gt;&nbsp;n&nbsp;-&nbsp;1);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>-&nbsp;#1&nbsp;t&nbsp;3</span></span></span></div></pre>
<p>In SML, we can create anonymous functions, e.g: <code>(fn x =&gt; x + 2) 3</code></p>
<ol start="8">
<li>What is the difference between:</li>
</ol>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>fun&nbsp;f&nbsp;x&nbsp;=&nbsp;x&nbsp;+&nbsp;2</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>val&nbsp;f&nbsp;=&nbsp;fn&nbsp;x&nbsp;=&gt;&nbsp;x&nbsp;+&nbsp;2</span></span></span></div></pre>
<p><code>fun</code> is just a syntactic sugar (were it not for the recursive functions)!<br>
<code>fn</code> is the equivalent of lambdas in SML, e.g:
<span class="math"><script type="math/tex">\lambda x.x</script></span> is equivalent to <code>fn x =&gt; x</code></p>
<p>8.1) Unless we need recursive functions: there is no way to define anonymous recursive functions. Why?</p>
<ol start="9">
<li>How we had defined numbers in Lambda-calculus?</li>
</ol>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>val&nbsp;ZERO&nbsp;=&nbsp;fn&nbsp;s&nbsp;=&gt;&nbsp;fn&nbsp;z&nbsp;=&gt;&nbsp;z;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>val&nbsp;ONE&nbsp;=&nbsp;fn&nbsp;s&nbsp;=&gt;&nbsp;fn&nbsp;z&nbsp;=&gt;&nbsp;s&nbsp;z;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>val&nbsp;TWO&nbsp;=&nbsp;fn&nbsp;s&nbsp;=&gt;&nbsp;fn&nbsp;z&nbsp;=&gt;&nbsp;s&nbsp;(s&nbsp;z);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>val&nbsp;THREE&nbsp;=&nbsp;fn&nbsp;s&nbsp;=&gt;&nbsp;fn&nbsp;z&nbsp;=&gt;&nbsp;s&nbsp;(s&nbsp;(s&nbsp;z));</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>...</span></span></span></div></pre>
<ol start="10">
<li>Code a function that converts a number from the functional format into an integer:</li>
</ol>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>fun&nbsp;inc&nbsp;n&nbsp;=&nbsp;n&nbsp;+&nbsp;1;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>fun&nbsp;P&nbsp;x&nbsp;=&nbsp;x&nbsp;inc&nbsp;0;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>-&nbsp;P&nbsp;ONE;</span></span></span></div></pre>
<p>10.1) How to create a function that converts a number in the functional format into a string?</p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>fun&nbsp;IS&nbsp;x&nbsp;=&nbsp;Int.toString&nbsp;(P&nbsp;x);</span></span></span></div></pre>
<ol start="11">
<li>Does anybody remember how the successor function was implemented?</li>
</ol>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>val&nbsp;SUCC&nbsp;=&nbsp;fn&nbsp;w&nbsp;=&gt;&nbsp;fn&nbsp;y&nbsp;=&gt;&nbsp;fn&nbsp;x&nbsp;=&gt;&nbsp;y(w&nbsp;y&nbsp;x);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>-&nbsp;P&nbsp;(SUCC&nbsp;TWO);</span></span></span></div></pre>
<ol start="12">
<li>Does anybody remember how to implement additions?</li>
</ol>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>val&nbsp;ADD&nbsp;=&nbsp;fn&nbsp;n1&nbsp;=&gt;&nbsp;fn&nbsp;n2&nbsp;=&gt;&nbsp;n1&nbsp;SUCC&nbsp;n2;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>-&nbsp;P&nbsp;(ADD&nbsp;ONE&nbsp;TWO);</span></span></span></div></pre>
<ol start="13">
<li>How to implement multiplication?</li>
</ol>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>val&nbsp;MUL&nbsp;=&nbsp;fn&nbsp;n1&nbsp;=&gt;&nbsp;fn&nbsp;n2&nbsp;=&gt;&nbsp;fn&nbsp;z&nbsp;=&gt;&nbsp;n1&nbsp;(n2&nbsp;z);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>-&nbsp;P&nbsp;(MUL&nbsp;TWO&nbsp;THREE);</span></span></span></div></pre>
<ol start="14">
<li>Does anybody remember how to code boolean values?</li>
</ol>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>val&nbsp;T&nbsp;=&nbsp;fn&nbsp;x&nbsp;=&gt;&nbsp;fn&nbsp;y&nbsp;=&gt;&nbsp;x;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>val&nbsp;F&nbsp;=&nbsp;fn&nbsp;x&nbsp;=&gt;&nbsp;fn&nbsp;y&nbsp;=&gt;&nbsp;y;</span></span></span></div></pre>
<ol start="15">
<li>How to code a function that converts booleans in the functional format to bool?</li>
</ol>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>fun&nbsp;PB&nbsp;x&nbsp;=&nbsp;x&nbsp;true&nbsp;false;</span></span></span></div></pre>
<p>16.1) How to code a function that converts booleans in the functional format to strings?</p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>fun&nbsp;BS&nbsp;b&nbsp;=&nbsp;Bool.toString&nbsp;(PB&nbsp;b);</span></span></span></div></pre>
<ol start="17">
<li>What about the boolean logical functions?</li>
</ol>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>val&nbsp;AND&nbsp;=&nbsp;fn&nbsp;x&nbsp;=&gt;&nbsp;fn&nbsp;y&nbsp;=&gt;&nbsp;x&nbsp;y&nbsp;F;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>-&nbsp;PB&nbsp;(AND&nbsp;T&nbsp;F);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>-&nbsp;PB&nbsp;(AND&nbsp;T&nbsp;T);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>val&nbsp;OR&nbsp;=&nbsp;fn&nbsp;x&nbsp;=&gt;&nbsp;fn&nbsp;y&nbsp;=&gt;&nbsp;x&nbsp;T&nbsp;y;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>-&nbsp;PB&nbsp;(OR&nbsp;T&nbsp;F);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>-&nbsp;PB&nbsp;(OR&nbsp;F&nbsp;F);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>val&nbsp;NOT&nbsp;=&nbsp;fn&nbsp;x&nbsp;=&gt;&nbsp;x&nbsp;F&nbsp;T;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>-&nbsp;PB&nbsp;(NOT&nbsp;T);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>-&nbsp;PB&nbsp;(NOT&nbsp;F);</span></span></span></div></pre>
<ol start="18">
<li>How to code a simple conditional test?</li>
</ol>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>val&nbsp;IF&nbsp;=&nbsp;fn&nbsp;b&nbsp;=&gt;&nbsp;fn&nbsp;x&nbsp;=&gt;&nbsp;fn&nbsp;y&nbsp;=&gt;&nbsp;b&nbsp;x&nbsp;y;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>-&nbsp;IF&nbsp;T&nbsp;1&nbsp;2;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>-&nbsp;IF&nbsp;F&nbsp;1&nbsp;2;</span></span></span></div></pre>
<h3>Higher-order functions:</h3>
<p>Each function has an order:</p>
<ul>
<li>A function that does not take other functions as parameters, and does not return a function value, has order 1</li>
<li>A function that takes a function as a parameter or returns a  function value has order n+1, where n is the order of its  highest-order parameter or returned value</li>
</ul>
<ol start="19">
<li>
<p>Is it possible to pass functions as parameters in C?</p>
</li>
<li>
<p>What is the order of functions with each of the following ML types?</p>
</li>
</ol>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>int&nbsp;*&nbsp;int&nbsp;-&gt;&nbsp;bool</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>int&nbsp;list&nbsp;*&nbsp;(int&nbsp;*&nbsp;int&nbsp;-&gt;&nbsp;bool)&nbsp;-&gt;&nbsp;int&nbsp;list</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>int&nbsp;-&gt;&nbsp;int&nbsp;-&gt;&nbsp;int</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>(int&nbsp;-&gt;&nbsp;int)&nbsp;*&nbsp;(int&nbsp;-&gt;&nbsp;int)&nbsp;-&gt;&nbsp;(int&nbsp;-&gt;&nbsp;int)</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>int&nbsp;-&gt;&nbsp;bool&nbsp;-&gt;&nbsp;real&nbsp;-&gt;&nbsp;string</span></span></span></div></pre>
<h3>Predefined Higher-Order functions: map, foldr, foldl</h3>
<p>map takes a function <code>f</code> and a <code>list l</code>, and applies <code>f</code> on every element of <code>l</code>:</p>
<ol start="21">
<li>What does the functions below do?</li>
</ol>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>map&nbsp;(fn&nbsp;x&nbsp;=&gt;&nbsp;x&nbsp;+&nbsp;1)&nbsp;[1,&nbsp;2,&nbsp;3,&nbsp;4];</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>map&nbsp;(fn&nbsp;x&nbsp;=&gt;&nbsp;x&nbsp;mod&nbsp;2&nbsp;=&nbsp;0)&nbsp;[1,&nbsp;2,&nbsp;3,&nbsp;4];</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>map&nbsp;~&nbsp;[1,2,3,4];</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>map&nbsp;(op&nbsp;+)&nbsp;[(1,2),(3,4),(5,6)];</span></span></span></div></pre>
<p>21.1) Code a function that converts a string to a list of integers
representing the ASCII values of the characters:</p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>fun&nbsp;asc&nbsp;s&nbsp;=&nbsp;map&nbsp;ord&nbsp;(explode&nbsp;s);</span></span></span></div></pre>
<ol start="22">
<li>What is the type of the map function?</li>
</ol>
<p>22.1) And what is the type of this function? <code>val map_sum = map (op +)</code>?</p>
<p>foldr takes a binary function <code>op</code>, an initial value <code>c</code>, and a <code>list</code></p>
<p><code>[x1, x2, ..., xn]</code>, and returns:<br>
<code>x1 op (x2 op (... (xn op c)))</code>, for instance:<br>
<code>foldr (op +) 0 [1, 2, 3, 4]</code>.</p>
<ol start="23">
<li>What do each of these function calls do?</li>
</ol>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>foldr&nbsp;(op&nbsp;+)&nbsp;0&nbsp;[1,2,3,4];</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>foldr&nbsp;(op&nbsp;*&nbsp;)&nbsp;1&nbsp;[1,2,3,4];</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>foldr&nbsp;(op&nbsp;^)&nbsp;&quot;&quot;&nbsp;[&quot;abc&quot;,&quot;def&quot;,&quot;ghi&quot;];</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>foldr&nbsp;(op&nbsp;::)&nbsp;[5]&nbsp;[1,2,3,4];</span></span></span></div></pre>
<ol start="24">
<li>How to write an append function using <code>foldr</code>?</li>
</ol>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>fun&nbsp;append&nbsp;l1&nbsp;l2&nbsp;=&nbsp;foldr&nbsp;(op&nbsp;::)&nbsp;l2&nbsp;l1;</span></span></span></div></pre>
<p>Example:</p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>-&nbsp;foldr&nbsp;(op&nbsp;::)&nbsp;[3,4]&nbsp;[1,2];</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>val&nbsp;it&nbsp;=&nbsp;[1,2,3,4]&nbsp;:&nbsp;int&nbsp;list</span></span></span></div></pre>
<ol start="25">
<li>What is the type of the following functions?</li>
</ol>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>foldr;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>val&nbsp;it&nbsp;=&nbsp;fn&nbsp;:&nbsp;(&#39;a&nbsp;*&nbsp;&#39;b&nbsp;-&gt;&nbsp;&#39;b)&nbsp;-&gt;&nbsp;&#39;b&nbsp;-&gt;&nbsp;&#39;a&nbsp;list&nbsp;-&gt;&nbsp;&#39;b</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>foldr&nbsp;(op&nbsp;+);</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>foldr&nbsp;(op&nbsp;+)&nbsp;0;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>val&nbsp;sumList&nbsp;=&nbsp;foldr&nbsp;(op&nbsp;+)&nbsp;0;</span></span></span></div></pre>
<p><code>foldl</code> takes a binary function <code>op</code>, an initial value <code>c</code>, and a <code>list</code></p>
<p><code>[x1, x2, ..., xn]</code>, and returns:<br>
<code>(xn op ... (x2 op (x1 op c))...)</code><br>
For instance, <code>foldl (op +) 0 [1,2,3,4]</code> evaluates as <code>4+(3+(2+(1+0)))=10</code>,<br>
but <code>foldr did 1+(2+(3+(4+0)))=10</code>.</p>
<ol start="26">
<li>Is it true of false?</li>
</ol>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>foldr&nbsp;(op&nbsp;^)&nbsp;&quot;&quot;&nbsp;[&quot;abc&quot;,&quot;def&quot;,&quot;ghi&quot;]&nbsp;=&nbsp;foldl&nbsp;(op&nbsp;^)&nbsp;&quot;&quot;&nbsp;[&quot;abc&quot;,&quot;def&quot;,&quot;ghi&quot;];</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>foldr&nbsp;(op&nbsp;+)&nbsp;0&nbsp;[1,2,3,4]&nbsp;=&nbsp;foldl&nbsp;(op&nbsp;+)&nbsp;0&nbsp;[1,2,3,4];</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>foldr&nbsp;(op&nbsp;-)&nbsp;0&nbsp;[1,2,3,4]&nbsp;=&nbsp;foldl&nbsp;(op&nbsp;-)&nbsp;0&nbsp;[1,2,3,4];</span></span></span></div></pre>
<p>E.g: <code>1 - (2 - (3 - (4 - 0))) != 4 - (3 - (2 - (1 - 0)))</code></p>
<ol start="27">
<li>When do <code>foldr</code> and <code>foldl</code> return the same value?</li>
</ol>
<p>27.1) Can you think about operations that are associative, but not commutative?<br>
What about a full table?</p>
<table>
<thead>
<tr>
<th>Assoc</th>
<th>Commut</th>
<th>Function</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>1</td>
<td><code>fn(x, y) =&gt; x + y</code></td>
</tr>
<tr>
<td>1</td>
<td>0</td>
<td><code>fn(x, y) =&gt; x ^ y</code> (* String concat *)</td>
</tr>
<tr>
<td>0</td>
<td>1</td>
<td><code>fn(x, y) =&gt; not(x andalso y)</code></td>
</tr>
<tr>
<td>0</td>
<td>0</td>
<td><code>fn(x, y) =&gt; x - y</code></td>
</tr>
</tbody>
</table>
<p>27.2) For which operations we have <code>foldr == foldl</code>?</p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>foldr&nbsp;cct&nbsp;&quot;&quot;&nbsp;[&quot;a&quot;,&nbsp;&quot;b&quot;,&nbsp;&quot;c&quot;]&nbsp;&nbsp;&lt;&gt;&nbsp;foldl&nbsp;cct&nbsp;&quot;&quot;&nbsp;[&quot;a&quot;,&nbsp;&quot;b&quot;,&nbsp;&quot;c&quot;]</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>foldr&nbsp;sub&nbsp;0&nbsp;[1,2,3,4]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;&gt;&nbsp;foldr&nbsp;sub&nbsp;0&nbsp;[1,2,3,4]</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>foldr&nbsp;nand&nbsp;true&nbsp;[true,&nbsp;false]&nbsp;&lt;&gt;&nbsp;foldl&nbsp;nand&nbsp;true&nbsp;[true,&nbsp;false]</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>foldr&nbsp;sum&nbsp;0&nbsp;[1,2,3,4]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;&nbsp;foldl&nbsp;sum&nbsp;0&nbsp;[1,2,3,4]</span></span></span></div></pre>
<p>Applications:</p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>(*</span></span></span></div><div class="line"><span class="text plain"><span class="meta bullet-point star text"><span>&nbsp;</span><span class="punctuation definition item text"><span>*</span></span><span>&nbsp;This&nbsp;program&nbsp;solves&nbsp;problem&nbsp;10&nbsp;from&nbsp;the&nbsp;Euler&nbsp;project,&nbsp;using&nbsp;the&nbsp;Sieve&nbsp;of</span></span></span></div><div class="line"><span class="text plain"><span class="meta bullet-point star text"><span>&nbsp;</span><span class="punctuation definition item text"><span>*</span></span><span>&nbsp;Erastothenes.</span></span></span></div><div class="line"><span class="text plain"><span class="meta bullet-point star text"><span>&nbsp;</span><span class="punctuation definition item text"><span>*</span></span><span>&nbsp;</span></span></span></div><div class="line"><span class="text plain"><span class="meta bullet-point star text"><span>&nbsp;</span><span class="punctuation definition item text"><span>*</span></span><span>&nbsp;val&nbsp;ans&nbsp;=&nbsp;foldr&nbsp;(op&nbsp;+)&nbsp;(sieve&nbsp;2000000)</span></span></span></div><div class="line"><span class="text plain"><span class="meta bullet-point star text"><span>&nbsp;</span><span class="punctuation definition item text"><span>*</span></span><span>)</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>fun&nbsp;filter&nbsp;_&nbsp;nil&nbsp;=&nbsp;nil</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>|&nbsp;filter&nbsp;f&nbsp;(h::t)&nbsp;=&nbsp;if&nbsp;f&nbsp;h&nbsp;then&nbsp;h&nbsp;::&nbsp;filter&nbsp;f&nbsp;t&nbsp;else&nbsp;filter&nbsp;f&nbsp;t</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>fun&nbsp;range&nbsp;1&nbsp;=&nbsp;nil</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>|&nbsp;range&nbsp;(n:IntInf.int)&nbsp;=&nbsp;n&nbsp;::&nbsp;range&nbsp;(n-1)</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>fun&nbsp;inv&nbsp;nil&nbsp;acc&nbsp;=&nbsp;acc</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>|&nbsp;inv&nbsp;(h::t)&nbsp;acc&nbsp;=&nbsp;inv&nbsp;t&nbsp;(h::acc)</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>fun&nbsp;filterNonPrimes&nbsp;_&nbsp;nil&nbsp;=&nbsp;[]</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>|&nbsp;filterNonPrimes&nbsp;limit&nbsp;(h::t)&nbsp;=</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>if&nbsp;(IntInf.toLarge&nbsp;h)&nbsp;*&nbsp;h&nbsp;&lt;=&nbsp;limit</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;then&nbsp;h&nbsp;::&nbsp;filterNonPrimes&nbsp;limit&nbsp;(filter&nbsp;(fn&nbsp;e&nbsp;=&gt;&nbsp;(e&nbsp;mod&nbsp;h)&nbsp;&lt;&gt;&nbsp;0)&nbsp;t)</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;(h::t)</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>fun&nbsp;sieve&nbsp;n&nbsp;=&nbsp;&nbsp;filterNonPrimes&nbsp;n&nbsp;(inv&nbsp;(range&nbsp;n)&nbsp;nil)</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>(*</span></span></span></div><div class="line"><span class="text plain"><span class="meta bullet-point star text"><span>&nbsp;</span><span class="punctuation definition item text"><span>*</span></span><span>&nbsp;An&nbsp;elegant&nbsp;implementation&nbsp;of&nbsp;quicksort.</span></span></span></div><div class="line"><span class="text plain"><span class="meta bullet-point star text"><span>&nbsp;</span><span class="punctuation definition item text"><span>*</span></span><span>)</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>fun&nbsp;leq&nbsp;a&nbsp;b&nbsp;=&nbsp;a&nbsp;&lt;=&nbsp;b</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>fun&nbsp;grt&nbsp;a&nbsp;b&nbsp;=&nbsp;a&nbsp;&gt;&nbsp;b</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>fun&nbsp;filter&nbsp;_&nbsp;nil&nbsp;=&nbsp;nil</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>|&nbsp;filter&nbsp;f&nbsp;(h::t)&nbsp;=&nbsp;if&nbsp;f&nbsp;h&nbsp;then&nbsp;h&nbsp;::&nbsp;filter&nbsp;f&nbsp;t&nbsp;else&nbsp;filter&nbsp;f&nbsp;t</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>fun&nbsp;qsort&nbsp;nil&nbsp;=&nbsp;nil</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>|&nbsp;qsort&nbsp;(h::t)&nbsp;=&nbsp;(qsort&nbsp;(filter&nbsp;(grt&nbsp;h)&nbsp;t))&nbsp;@&nbsp;[h]&nbsp;@&nbsp;(qsort&nbsp;(filter&nbsp;(leq&nbsp;h)&nbsp;t))</span></span></span></div></pre>
<h1>Scope (Aula 11)</h1>
<h3>How would be the world if everybody had a unique and different name?</h3>
<p>Pros/Cons?</p>
<h3>What is the definition of a variable?</h3>
<p>The definition of a variable is anything that establishes an association
between a name and a meaning.</p>
<p>Some examples:</p>
<ul>
<li>C++:</li>
</ul>
<pre class="editor-colors lang-cpp"><div class="line"><span class="source cpp"><span class="storage modifier c"><span>const</span></span><span>&nbsp;</span><span class="storage type c"><span>int</span></span><span>&nbsp;Low&nbsp;=&nbsp;</span><span class="constant numeric c"><span>1</span></span><span>;</span></span></div></pre>
<ul>
<li>C:</li>
</ul>
<pre class="editor-colors lang-c"><div class="line"><span class="source c"><span class="storage type c"><span>typedef</span></span><span>&nbsp;</span><span class="storage type c"><span>struct</span></span><span>&nbsp;</span><span class="meta block c"><span class="punctuation section block begin c"><span>{</span></span><span>&nbsp;</span><span class="storage type c"><span>int</span></span><span>&nbsp;x,&nbsp;y;</span><span class="punctuation section block end c"><span>}</span></span></span><span>&nbsp;Point;</span></span></div></pre>
<ul>
<li>Pascal:</li>
</ul>
<pre class="editor-colors lang-pascal"><div class="line"><span class="text plain null-grammar"><span>var&nbsp;X:&nbsp;Ints;</span></span></div></pre>
<h3>Is this function valid?</h3>
<p><code>fun s s = s * s;</code></p>
<h3>What happens when we have many definitions for the same name?</h3>
<ul>
<li>The scope of a definition is the region of the program where that
definition is valid.</li>
</ul>
<h3>How do we delimit the scope of variables?</h3>
<ul>
<li>Blocks, e.g:</li>
</ul>
<h4>How do we create blocks in ML?</h4>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>let&nbsp;val&nbsp;x&nbsp;=&nbsp;1;&nbsp;val&nbsp;y&nbsp;=&nbsp;2;&nbsp;in&nbsp;x&nbsp;+&nbsp;y&nbsp;end</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>fun&nbsp;cube&nbsp;x&nbsp;=&nbsp;x&nbsp;*&nbsp;x&nbsp;*&nbsp;x</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>^^^^^^^^^^^^^</span></span></span></div></pre>
<ul>
<li>A block is a program region containing definitions of variables and
that delimits the regions where these definitions apply.</li>
</ul>
<h4>How do we create blocks in C?</h4>
<h3>What is the value of n below?</h3>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>let</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>val&nbsp;n&nbsp;=&nbsp;1</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;val&nbsp;x&nbsp;=&nbsp;n&nbsp;+&nbsp;1</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>in</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>let</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>val&nbsp;n&nbsp;=&nbsp;2</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>in</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>x&nbsp;+&nbsp;n</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>end</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>end</span></span></span></div></pre>
<ul>
<li>
<p>The scope of a definition is the block containg that definition, from
the point of definition to the end of the block, minus the scopes of
any redefinitions of the same name in interior blocks.</p>
</li>
<li>
<p>Example:</p>
</li>
</ul>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>let&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>val&nbsp;n&nbsp;=&nbsp;1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;val&nbsp;x&nbsp;=&nbsp;n&nbsp;+&nbsp;1&nbsp;&nbsp;&nbsp;A</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>in&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>let&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;B</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>val&nbsp;n&nbsp;=&nbsp;2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;B</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>in&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;B</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>n&nbsp;+&nbsp;x&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;B</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>end&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;B</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>end&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A</span></span></span></div></pre>
<ul>
<li>or -</li>
</ul>
<pre class="editor-colors lang-c"><div class="line"><span class="source c"><span class="meta preprocessor include c"><span class="keyword control directive include c"><span class="punctuation definition directive c"><span>#</span></span><span>include</span></span><span>&nbsp;</span><span class="string quoted other lt-gt include c"><span class="punctuation definition string begin c"><span>&lt;</span></span><span>stdio.h</span><span class="punctuation definition string end c"><span>&gt;</span></span></span></span></span></div><div class="line"><span class="source c"><span class="storage type c"><span>int</span></span><span class="meta function c"><span class="punctuation whitespace function leading c"><span>&nbsp;</span></span><span class="entity name function c"><span>main</span></span><span class="meta parens c"><span class="punctuation section parens begin c"><span>(</span></span><span class="punctuation section parens end c"><span>)</span></span></span><span>&nbsp;</span><span class="meta block c"><span class="punctuation section block begin c"><span>{</span></span></span></span></span></div><div class="line"><span class="source c"><span class="meta function c"><span class="meta block c"><span>&nbsp;&nbsp;</span><span class="storage type c"><span>int</span></span><span>&nbsp;n&nbsp;=&nbsp;</span><span class="constant numeric c"><span>1</span></span><span>;</span></span></span></span></div><div class="line"><span class="source c"><span class="meta function c"><span class="meta block c"><span>&nbsp;&nbsp;</span><span class="meta block c"><span class="punctuation section block begin c"><span>{</span></span></span></span></span></span></div><div class="line"><span class="source c"><span class="meta function c"><span class="meta block c"><span class="meta block c"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="storage type c"><span>int</span></span><span>&nbsp;n&nbsp;=&nbsp;</span><span class="constant numeric c"><span>2</span></span><span>;</span></span></span></span></span></div><div class="line"><span class="source c"><span class="meta function c"><span class="meta block c"><span class="meta block c"><span class="punctuation whitespace support function leading c"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="support function C99 c"><span>printf</span></span><span>(</span><span class="string quoted double c"><span class="punctuation definition string begin c"><span>&quot;</span></span><span class="constant other placeholder c"><span>%d</span></span><span class="constant character escape c"><span>\n</span></span><span class="punctuation definition string end c"><span>&quot;</span></span></span><span>,&nbsp;n);</span></span></span></span></span></div><div class="line"><span class="source c"><span class="meta function c"><span class="meta block c"><span class="meta block c"><span>&nbsp;&nbsp;</span><span class="punctuation section block end c"><span>}</span></span></span></span></span></span></div><div class="line"><span class="source c"><span class="meta function c"><span class="meta block c"><span class="punctuation section block end c"><span>}</span></span></span></span></span></div></pre>
<ul>
<li><strong>Namespaces</strong>: named program regions used to limit the scope of variables
inside the program.</li>
</ul>
<ul>
<li>Example: structures in ML:</li>
</ul>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>structure&nbsp;Fred&nbsp;=&nbsp;struct&nbsp;val&nbsp;a&nbsp;=&nbsp;1;&nbsp;fun&nbsp;f&nbsp;x&nbsp;=&nbsp;x&nbsp;+&nbsp;a;&nbsp;end;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Fred.a;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Fred.f&nbsp;2;</span></span></span></div></pre>
<h3>What are namespaces in Java (package, class) and C++</h3>
<p>(namescape, class, struct)?</p>
<ol>
<li>What is the difference between class and struct in C++?
<ul>
<li>There is no difference between a class and a struct except that by
default, the members of a struct are public, and the members of a class
are private. Also structs are by default inherited publicly and classes
by default are inherited privately. Other than that, whatever you can
do in a class, you can do in a struct.</li>
</ul>
</li>
<li>What is the advantage of namespaces?
<ul>
<li>Information hiding: abstract data type.</li>
</ul>
</li>
</ol>
<ul>
<li>
<p>There are two ways to specify visibility:</p>
<ul>
<li>Constructs to define visibility info in the namespace.<br>
e.g: Java: public, protected, private.</li>
<li>Separate namespace and interface,<br>
e.g: PASCAL: UNITS = Interface + Implementation.</li>
</ul>
</li>
<li>
<p>Orthogonal namespaces.</p>
</li>
</ul>
<h3>What would happen if I had this construction in ML?</h3>
<p><code>val int = 3;</code></p>
<ol>
<li>What about:</li>
</ol>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>fun&nbsp;square&nbsp;square&nbsp;=&nbsp;square&nbsp;*&nbsp;square;</span></span></span></div></pre>
<ul>
<li>In ML we have a namespace for values, and another for types.</li>
<li>In Java, packages, types, methods, fields and statement labels are in separate namespaces. Example:<br>
a) What is the meaning of each occurrence of the name Reuse in the
program below?</li>
</ul>
<pre class="editor-colors lang-java"><div class="line"><span class="source java"><span class="meta class java"><span class="meta class identifier java"><span class="storage modifier java"><span>class</span></span><span>&nbsp;</span><span class="entity name type class java"><span>Reuse</span></span></span><span>&nbsp;</span><span class="punctuation section class begin bracket curly java"><span>{</span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span>&nbsp;&nbsp;</span><span class="meta method java"><span class="meta method return-type java"><span class="storage type java"><span>Reuse</span></span></span><span>&nbsp;</span><span class="meta method identifier java"><span class="entity name function java"><span>Reuse</span></span><span>&nbsp;</span><span class="punctuation definition parameters begin bracket round java"><span>(</span></span><span class="storage type java"><span>Reuse</span></span><span>&nbsp;</span><span class="storage type java"><span>Reuse</span></span><span class="punctuation definition parameters end bracket round java"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation section method begin bracket curly java"><span>{</span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="storage type java"><span>Reuse</span></span><span class="keyword control ternary java"><span>:</span></span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control java"><span>for</span></span><span>&nbsp;</span><span class="punctuation bracket round java"><span>(</span></span><span class="punctuation terminator java"><span>;</span><span>;</span></span><span class="punctuation bracket round java"><span>)</span></span><span>&nbsp;</span><span class="punctuation section block begin bracket curly java"><span>{</span></span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control java"><span>if</span></span><span>&nbsp;</span><span class="punctuation bracket round java"><span>(</span></span><span class="variable other object java"><span>Reuse</span></span><span class="meta method-call java"><span class="punctuation separator period java"><span>.</span></span><span class="entity name function java"><span>Reuse</span></span><span class="punctuation definition parameters begin bracket round java"><span>(</span></span><span class="storage type java"><span>Reuse</span></span><span class="punctuation definition parameters end bracket round java"><span>)</span></span></span><span>&nbsp;</span><span class="keyword operator comparison java"><span>==</span></span><span>&nbsp;</span><span class="storage type java"><span>Reuse</span></span><span class="punctuation bracket round java"><span>)</span></span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control java"><span>break</span></span><span>&nbsp;</span><span class="storage type java"><span>Reuse</span></span><span class="punctuation terminator java"><span>;</span></span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="punctuation section block end bracket curly java"><span>}</span></span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control java"><span>return</span></span><span>&nbsp;</span><span class="storage type java"><span>Reuse</span></span><span class="punctuation terminator java"><span>;</span></span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span>&nbsp;&nbsp;</span></span><span class="punctuation section method end bracket curly java"><span>}</span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="punctuation section class end bracket curly java"><span>}</span></span></span></span></div></pre>
<p>b) Can I compile this program?</p>
<pre class="editor-colors lang-c"><div class="line"><span class="source c"><span class="storage type c"><span>int</span></span><span class="meta function c"><span class="punctuation whitespace function leading c"><span>&nbsp;</span></span><span class="entity name function c"><span>main</span></span><span class="meta parens c"><span class="punctuation section parens begin c"><span>(</span></span><span class="punctuation section parens end c"><span>)</span></span></span><span>&nbsp;</span><span class="meta block c"><span class="punctuation section block begin c"><span>{</span></span></span></span></span></div><div class="line"><span class="source c"><span class="meta function c"><span class="meta block c"><span>&nbsp;&nbsp;</span><span class="storage type c"><span>int</span></span><span>&nbsp;</span><span class="storage type c"><span>int</span></span><span>&nbsp;=&nbsp;</span><span class="constant numeric c"><span>0</span></span><span>;</span></span></span></span></div><div class="line"><span class="source c"><span class="meta function c"><span class="meta block c"><span class="punctuation whitespace support function leading c"><span>&nbsp;&nbsp;</span></span><span class="support function C99 c"><span>printf</span></span><span>(</span><span class="string quoted double c"><span class="punctuation definition string begin c"><span>&quot;</span></span><span class="constant other placeholder c"><span>%d</span></span><span class="constant character escape c"><span>\n</span></span><span class="punctuation definition string end c"><span>&quot;</span></span></span><span>,&nbsp;</span><span class="storage type c"><span>int</span></span><span>);</span></span></span></span></div><div class="line"><span class="source c"><span class="meta function c"><span class="meta block c"><span class="punctuation section block end c"><span>}</span></span></span></span></span></div></pre>
<ul>
<li>There exists two basic type of scoping rules: static and dynamic.
<ul>
<li>Static scope associates each name to a definition at compilation time.</li>
<li>Dynamic scope does it at run time.</li>
</ul>
</li>
</ul>
<h3>What is the value of foo 5 below?</h3>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>val&nbsp;one&nbsp;=&nbsp;1;</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>fun&nbsp;inc&nbsp;x&nbsp;=&nbsp;x&nbsp;+&nbsp;one;</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>fun&nbsp;foo&nbsp;x&nbsp;=</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>let</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>val&nbsp;one&nbsp;=&nbsp;2;</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>in</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>inc&nbsp;x</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>end;</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;</span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>foo&nbsp;5;</span></span></span></div></pre>
<p>foo 5 will be 6 in ML, which uses static scoping, but it would be 7 if
ML was using dynamic scoping.</p>
<p>Few languages use dynamic scoping: APL and some dialects of LISP. This
kind of scoping has many disadvantages:</p>
<ul>
<li>It is difficult to implement efficiently.</li>
<li>It makes it hard to understand the program.</li>
</ul>
<p>For an example of APL code, see: <a href="http://catpad.net/michael/apl/">http://catpad.net/michael/apl/</a></p>
<ul>
<li>Sharing definitions among different compilation units.</li>
</ul>
<h3>How do I declare a variable in a C program that will be used in many different files?</h3>
<pre class="editor-colors lang-c"><div class="line"><span class="source c"><span>exVar.h:</span></span></div><div class="line"><span class="source c"><span class="storage type c"><span>int</span></span><span>&nbsp;x&nbsp;=&nbsp;</span><span class="constant numeric c"><span>3</span></span><span>;</span></span></div><div class="line"><span class="source c"><span>&nbsp;</span></span></div><div class="line"><span class="source c"><span>exVar.c:</span></span></div><div class="line"><span class="source c"><span class="meta preprocessor include c"><span class="keyword control directive include c"><span class="punctuation definition directive c"><span>#</span></span><span>include</span></span><span>&nbsp;</span><span class="string quoted double include c"><span class="punctuation definition string begin c"><span>&quot;</span></span><span>exVar.h</span><span class="punctuation definition string end c"><span>&quot;</span></span></span></span></span></div><div class="line"><span class="source c"><span class="storage modifier c"><span>extern</span></span><span>&nbsp;</span><span class="storage type c"><span>int</span></span><span>&nbsp;x;</span></span></div><div class="line"><span class="source c"><span class="storage type c"><span>int</span></span><span class="meta function c"><span class="punctuation whitespace function leading c"><span>&nbsp;</span></span><span class="entity name function c"><span>main</span></span><span class="meta parens c"><span class="punctuation section parens begin c"><span>(</span></span><span class="punctuation section parens end c"><span>)</span></span></span><span>&nbsp;</span><span class="meta block c"><span class="punctuation section block begin c"><span>{</span></span></span></span></span></div><div class="line"><span class="source c"><span class="meta function c"><span class="meta block c"><span>&nbsp;&nbsp;x++;</span></span></span></span></div><div class="line"><span class="source c"><span class="meta function c"><span class="meta block c"><span class="punctuation whitespace support function leading c"><span>&nbsp;&nbsp;</span></span><span class="support function C99 c"><span>printf</span></span><span>(</span><span class="string quoted double c"><span class="punctuation definition string begin c"><span>&quot;</span></span><span class="constant other placeholder c"><span>%d</span></span><span class="constant character escape c"><span>\n</span></span><span class="punctuation definition string end c"><span>&quot;</span></span></span><span>,&nbsp;x);</span></span></span></span></div><div class="line"><span class="source c"><span class="meta function c"><span class="meta block c"><span class="punctuation section block end c"><span>}</span></span></span></span></span></div></pre>
<p>In old Fortran, we had COMMON blocks, which must be declared the same way
in all the files:</p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>File1.f</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>COMMON&nbsp;A,&nbsp;B,&nbsp;C</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>File2.f</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>COMMON&nbsp;X,&nbsp;Y,&nbsp;Z</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Then,&nbsp;X&nbsp;=&nbsp;A,&nbsp;Y&nbsp;=&nbsp;B&nbsp;and&nbsp;Z&nbsp;=&nbsp;C</span></span></span></div></pre>
<p>a) How do I share definitions in Java?</p>
<ul>
<li>Import statement:</li>
</ul>
<pre class="editor-colors lang-java"><div class="line"><span class="source java"><span class="meta import java"><span class="keyword other import java"><span>import</span></span><span>&nbsp;</span><span class="storage modifier import java"><span>java</span><span class="punctuation separator java"><span>.</span></span><span>math</span><span class="punctuation separator java"><span>.</span></span><span class="variable language wildcard java"><span>*</span></span></span><span class="punctuation terminator java"><span>;</span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="storage modifier java"><span>public</span></span><span>&nbsp;</span><span class="meta class identifier java"><span class="storage modifier java"><span>class</span></span><span>&nbsp;</span><span class="entity name type class java"><span>Test</span></span></span><span>&nbsp;</span><span class="punctuation section class begin bracket curly java"><span>{</span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span>&nbsp;&nbsp;</span><span class="meta method java"><span class="storage modifier java"><span>public</span></span><span>&nbsp;</span><span class="storage modifier java"><span>static</span></span><span>&nbsp;</span><span class="meta method return-type java"><span class="storage type primitive java"><span>void</span></span></span><span>&nbsp;</span><span class="meta method identifier java"><span class="entity name function java"><span>main</span></span><span class="punctuation definition parameters begin bracket round java"><span>(</span></span><span class="storage type object array java"><span>String</span><span class="punctuation bracket square java"><span>[</span><span>]</span></span></span><span>&nbsp;</span><span class="variable parameter java"><span>a</span></span><span class="punctuation definition parameters end bracket round java"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation section method begin bracket curly java"><span>{</span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta definition variable java"><span class="storage type java"><span>BigInteger</span></span><span>&nbsp;</span><span class="variable definition java"><span>f1</span></span><span>&nbsp;</span><span class="keyword operator assignment java"><span>=</span></span><span>&nbsp;</span><span class="keyword control new java"><span>new</span></span><span>&nbsp;</span><span class="storage type java"><span>BigInteger</span></span><span class="punctuation bracket round java"><span>(</span></span><span class="string quoted double java"><span class="punctuation definition string begin java"><span>&quot;</span></span><span>1</span><span class="punctuation definition string end java"><span>&quot;</span></span></span><span class="punctuation bracket round java"><span>)</span></span></span><span class="punctuation terminator java"><span>;</span></span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="variable other object java"><span>System</span></span><span class="punctuation separator period java"><span>.</span></span><span class="variable other object property java"><span>out</span></span><span class="meta method-call java"><span class="punctuation separator period java"><span>.</span></span><span class="entity name function java"><span>println</span></span><span class="punctuation definition parameters begin bracket round java"><span>(</span></span><span>f1</span><span class="punctuation definition parameters end bracket round java"><span>)</span></span></span><span class="punctuation terminator java"><span>;</span></span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span>&nbsp;&nbsp;</span></span><span class="punctuation section method end bracket curly java"><span>}</span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="punctuation section class end bracket curly java"><span>}</span></span></span></span></div></pre>
<p>b) How do I share definitions in C++?<br>
Example 1:</p>
<pre class="editor-colors lang-cpp"><div class="line"><span class="source cpp"><span class="meta preprocessor include c"><span class="keyword control directive include c"><span class="punctuation definition directive c"><span>#</span></span><span>include</span></span><span>&nbsp;</span><span class="string quoted other lt-gt include c"><span class="punctuation definition string begin c"><span>&lt;</span></span><span>iostream</span><span class="punctuation definition string end c"><span>&gt;</span></span></span></span></span></div><div class="line"><span class="source cpp"><span class="meta using-namespace-declaration cpp"><span class="keyword control cpp"><span>using</span></span><span>&nbsp;</span><span class="storage type cpp"><span>namespace</span></span><span>&nbsp;</span><span class="entity name type cpp"><span>std</span></span><span>;</span></span></span></div><div class="line"><span class="source cpp"><span class="meta namespace-block cpp"><span class="storage type cpp"><span>namespace</span></span><span>&nbsp;</span><span class="entity name type cpp"><span>first</span></span><span>&nbsp;</span><span class="punctuation definition scope cpp"><span>{</span></span></span></span></div><div class="line"><span class="source cpp"><span class="meta namespace-block cpp"><span>&nbsp;&nbsp;</span><span class="storage type c"><span>int</span></span><span>&nbsp;var&nbsp;=&nbsp;</span><span class="constant numeric c"><span>5</span></span><span>;</span></span></span></div><div class="line"><span class="source cpp"><span class="meta namespace-block cpp"><span class="punctuation definition scope cpp"><span>}</span></span></span></span></div><div class="line"><span class="source cpp"><span class="meta namespace-block cpp"><span class="storage type cpp"><span>namespace</span></span><span>&nbsp;</span><span class="entity name type cpp"><span>second</span></span><span>&nbsp;</span><span class="punctuation definition scope cpp"><span>{</span></span></span></span></div><div class="line"><span class="source cpp"><span class="meta namespace-block cpp"><span>&nbsp;&nbsp;</span><span class="storage type c"><span>double</span></span><span>&nbsp;var&nbsp;=&nbsp;</span><span class="constant numeric c"><span>3.1416</span></span><span>;</span></span></span></div><div class="line"><span class="source cpp"><span class="meta namespace-block cpp"><span class="punctuation definition scope cpp"><span>}</span></span></span></span></div><div class="line"><span class="source cpp"><span class="storage type c"><span>int</span></span><span class="meta function c"><span class="punctuation whitespace function leading c"><span>&nbsp;</span></span><span class="entity name function c"><span>main</span></span><span>&nbsp;</span><span class="meta parens c"><span class="punctuation section parens begin c"><span>(</span></span><span class="punctuation section parens end c"><span>)</span></span></span><span>&nbsp;</span><span class="meta block c"><span class="punctuation section block begin c"><span>{</span></span></span></span></span></div><div class="line"><span class="source cpp"><span class="meta function c"><span class="meta block c"><span>&nbsp;&nbsp;cout&nbsp;&lt;&lt;&nbsp;first::var&nbsp;&lt;&lt;&nbsp;endl;</span></span></span></span></div><div class="line"><span class="source cpp"><span class="meta function c"><span class="meta block c"><span>&nbsp;&nbsp;cout&nbsp;&lt;&lt;&nbsp;second::var&nbsp;&lt;&lt;&nbsp;endl;</span></span></span></span></div><div class="line"><span class="source cpp"><span class="meta function c"><span class="meta block c"><span>&nbsp;&nbsp;</span><span class="keyword control c"><span>return</span></span><span>&nbsp;</span><span class="constant numeric c"><span>0</span></span><span>;</span></span></span></span></div><div class="line"><span class="source cpp"><span class="meta function c"><span class="meta block c"><span class="punctuation section block end c"><span>}</span></span></span></span></span></div></pre>
<p>Example 2:</p>
<pre class="editor-colors lang-cpp"><div class="line"><span class="source cpp"><span class="meta preprocessor include c"><span class="keyword control directive include c"><span class="punctuation definition directive c"><span>#</span></span><span>include</span></span><span>&nbsp;</span><span class="string quoted other lt-gt include c"><span class="punctuation definition string begin c"><span>&lt;</span></span><span>iostream</span><span class="punctuation definition string end c"><span>&gt;</span></span></span></span></span></div><div class="line"><span class="source cpp"><span class="meta using-namespace-declaration cpp"><span class="keyword control cpp"><span>using</span></span><span>&nbsp;</span><span class="storage type cpp"><span>namespace</span></span><span>&nbsp;</span><span class="entity name type cpp"><span>std</span></span><span>;</span></span></span></div><div class="line"><span class="source cpp"><span class="meta namespace-block cpp"><span class="storage type cpp"><span>namespace</span></span><span>&nbsp;</span><span class="entity name type cpp"><span>first</span></span><span>&nbsp;</span><span class="punctuation definition scope cpp"><span>{</span></span></span></span></div><div class="line"><span class="source cpp"><span class="meta namespace-block cpp"><span>&nbsp;&nbsp;</span><span class="storage type c"><span>int</span></span><span>&nbsp;x&nbsp;=&nbsp;</span><span class="constant numeric c"><span>5</span></span><span>;</span></span></span></div><div class="line"><span class="source cpp"><span class="meta namespace-block cpp"><span>&nbsp;&nbsp;</span><span class="storage type c"><span>int</span></span><span>&nbsp;y&nbsp;=&nbsp;</span><span class="constant numeric c"><span>10</span></span><span>;</span></span></span></div><div class="line"><span class="source cpp"><span class="meta namespace-block cpp"><span class="punctuation definition scope cpp"><span>}</span></span></span></span></div><div class="line"><span class="source cpp"><span class="meta namespace-block cpp"><span class="storage type cpp"><span>namespace</span></span><span>&nbsp;</span><span class="entity name type cpp"><span>second</span></span><span>&nbsp;</span><span class="punctuation definition scope cpp"><span>{</span></span></span></span></div><div class="line"><span class="source cpp"><span class="meta namespace-block cpp"><span>&nbsp;&nbsp;</span><span class="storage type c"><span>double</span></span><span>&nbsp;x&nbsp;=&nbsp;</span><span class="constant numeric c"><span>3.1416</span></span><span>;</span></span></span></div><div class="line"><span class="source cpp"><span class="meta namespace-block cpp"><span>&nbsp;&nbsp;</span><span class="storage type c"><span>double</span></span><span>&nbsp;y&nbsp;=&nbsp;</span><span class="constant numeric c"><span>2.7183</span></span><span>;</span></span></span></div><div class="line"><span class="source cpp"><span class="meta namespace-block cpp"><span class="punctuation definition scope cpp"><span>}</span></span></span></span></div><div class="line"><span class="source cpp"><span class="storage type c"><span>int</span></span><span class="meta function c"><span class="punctuation whitespace function leading c"><span>&nbsp;</span></span><span class="entity name function c"><span>main</span></span><span>&nbsp;</span><span class="meta parens c"><span class="punctuation section parens begin c"><span>(</span></span><span class="punctuation section parens end c"><span>)</span></span></span><span>&nbsp;</span><span class="meta block c"><span class="punctuation section block begin c"><span>{</span></span></span></span></span></div><div class="line"><span class="source cpp"><span class="meta function c"><span class="meta block c"><span>&nbsp;&nbsp;</span><span class="keyword control cpp"><span>using</span></span><span>&nbsp;first::x;</span></span></span></span></div><div class="line"><span class="source cpp"><span class="meta function c"><span class="meta block c"><span>&nbsp;&nbsp;</span><span class="keyword control cpp"><span>using</span></span><span>&nbsp;second::y;</span></span></span></span></div><div class="line"><span class="source cpp"><span class="meta function c"><span class="meta block c"><span>&nbsp;&nbsp;cout&nbsp;&lt;&lt;&nbsp;x&nbsp;&lt;&lt;&nbsp;endl;</span></span></span></span></div><div class="line"><span class="source cpp"><span class="meta function c"><span class="meta block c"><span>&nbsp;&nbsp;cout&nbsp;&lt;&lt;&nbsp;y&nbsp;&lt;&lt;&nbsp;endl;</span></span></span></span></div><div class="line"><span class="source cpp"><span class="meta function c"><span class="meta block c"><span>&nbsp;&nbsp;cout&nbsp;&lt;&lt;&nbsp;first::y&nbsp;&lt;&lt;&nbsp;endl;</span></span></span></span></div><div class="line"><span class="source cpp"><span class="meta function c"><span class="meta block c"><span>&nbsp;&nbsp;cout&nbsp;&lt;&lt;&nbsp;second::x&nbsp;&lt;&lt;&nbsp;endl;</span></span></span></span></div><div class="line"><span class="source cpp"><span class="meta function c"><span class="meta block c"><span>&nbsp;&nbsp;</span><span class="keyword control c"><span>return</span></span><span>&nbsp;</span><span class="constant numeric c"><span>0</span></span><span>;</span></span></span></span></div><div class="line"><span class="source cpp"><span class="meta function c"><span class="meta block c"><span class="punctuation section block end c"><span>}</span></span></span></span></span></div></pre>
<h4>What are language libraries?</h4>
<ul>
<li>A collection of definitions and implementations that provide ready-to-use
functions.</li>
</ul>
<ol>
<li>How are libraries implemented in C?</li>
<li>What about Java?</li>
</ol>
<h4>Libraries are a way to grow a programming language. Can you give</h4>
<p>examples?</p>
<h4>Implement a signature for a toggle switch, that is, an object that can hold two states {TOGGLED, UNTOGGLED}.</h4>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>signature&nbsp;TOGGLER&nbsp;=</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>sig</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>type&nbsp;toggler</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;val&nbsp;new&nbsp;:&nbsp;toggler</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;val&nbsp;toggle&nbsp;:&nbsp;toggler&nbsp;-&gt;&nbsp;toggler</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;val&nbsp;isToggled&nbsp;:&nbsp;toggler&nbsp;-&gt;&nbsp;bool</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;val&nbsp;numToggled&nbsp;:&nbsp;toggler&nbsp;-&gt;&nbsp;int</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>end&nbsp;;</span></span></span></div></pre>
<h4>Implement the toggler using a boolean type:</h4>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>structure&nbsp;BoolTog&nbsp;:&gt;&nbsp;TOGGLER&nbsp;=</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>struct</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>type&nbsp;toggler&nbsp;=&nbsp;bool</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;val&nbsp;new&nbsp;=&nbsp;false</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;fun&nbsp;toggle&nbsp;t&nbsp;=&nbsp;if&nbsp;t&nbsp;then&nbsp;false&nbsp;else&nbsp;true</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;fun&nbsp;isToggled&nbsp;t&nbsp;=&nbsp;if&nbsp;t&nbsp;then&nbsp;true&nbsp;else&nbsp;false</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;fun&nbsp;numToggled&nbsp;t&nbsp;=&nbsp;0</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>end&nbsp;;</span></span></span></div></pre>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>$&gt;&nbsp;-&nbsp;val&nbsp;t&nbsp;=&nbsp;BoolTog.new;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>$&gt;&nbsp;val&nbsp;t&nbsp;=&nbsp;-&nbsp;:&nbsp;BoolTog.toggler</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>$&gt;&nbsp;-&nbsp;val&nbsp;t&nbsp;=&nbsp;BoolTog.toggle&nbsp;t;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>$&gt;&nbsp;val&nbsp;t&nbsp;=&nbsp;-&nbsp;:&nbsp;BoolTog.toggler</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>$&gt;&nbsp;-&nbsp;BoolTog.isToggled&nbsp;t;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>$&gt;&nbsp;val&nbsp;it&nbsp;=&nbsp;true&nbsp;:&nbsp;bool</span></span></span></div></pre>
<h4>The toggle object that we have just implemented has no memory, that is, one cannot remember how many times its state has been switched. Add this property to the signature and the implementation.</h4>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>structure&nbsp;IntTog&nbsp;:&gt;&nbsp;TOGGLER&nbsp;=</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>struct</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>type&nbsp;toggler&nbsp;=&nbsp;int</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;val&nbsp;new&nbsp;=&nbsp;0</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;fun&nbsp;toggle&nbsp;t&nbsp;=&nbsp;t&nbsp;+&nbsp;1</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;fun&nbsp;isToggled&nbsp;t&nbsp;=&nbsp;if&nbsp;t&nbsp;mod&nbsp;2&nbsp;=&nbsp;0&nbsp;then&nbsp;false&nbsp;else&nbsp;true</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;fun&nbsp;numToggled&nbsp;t&nbsp;=&nbsp;t</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>end&nbsp;;</span></span></span></div></pre>
<p>Example:</p>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>$&gt;&nbsp;-&nbsp;structure&nbsp;S&nbsp;=&nbsp;IntTog;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>$&gt;&nbsp;structure&nbsp;S&nbsp;:&nbsp;MTOG</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>$&gt;&nbsp;-&nbsp;val&nbsp;t&nbsp;=&nbsp;S.new;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>$&gt;&nbsp;val&nbsp;t&nbsp;=&nbsp;-&nbsp;:&nbsp;IntTog.toggler</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>$&gt;&nbsp;-&nbsp;val&nbsp;t&nbsp;=&nbsp;S.toggle&nbsp;t;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>$&gt;&nbsp;val&nbsp;t&nbsp;=&nbsp;-&nbsp;:&nbsp;IntTog.toggler</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>$&gt;&nbsp;-&nbsp;val&nbsp;t&nbsp;=&nbsp;S.toggle&nbsp;t;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>$&gt;&nbsp;val&nbsp;t&nbsp;=&nbsp;-&nbsp;:&nbsp;IntTog.toggler</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>$&gt;&nbsp;-&nbsp;S.numToggled&nbsp;t;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>$&gt;&nbsp;val&nbsp;it&nbsp;=&nbsp;2&nbsp;:&nbsp;int</span></span></span></div></pre>
<h4>Implement a function togN, that receives a TOGGLER, and returns the variable that results from toggling it N times:</h4>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>fun&nbsp;togN&nbsp;0&nbsp;t&nbsp;=&nbsp;t&nbsp;&nbsp;&nbsp;</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>|&nbsp;togN&nbsp;n&nbsp;t&nbsp;=&nbsp;togN&nbsp;(n&nbsp;-&nbsp;1)&nbsp;(IntTog.toggle&nbsp;t);</span></span></span></div></pre>
<h4>What would happen?</h4>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>-&nbsp;val&nbsp;b&nbsp;=&nbsp;BoolTog.new;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>-&nbsp;val&nbsp;b&nbsp;=&nbsp;IntTog.toggle&nbsp;b;</span></span></span></div></pre>
<ul>
<li>So far we have all the sml code in the same file. It is possible to separate
it into many files, using cm, the SML builder, to compile them together.</li>
</ul>
<h4>Build a CM file to compile all the files together:</h4>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Library</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>structure&nbsp;BoolTog</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;structure&nbsp;IntTog</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>is</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>ToggleSig.sml</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;BoolStr.sml</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;IntStr.sml</span></span></span></div></pre>
<h4>How to load the contents of the cm file?</h4>
<p><code>- CM.make &quot;sources.cm&quot;;</code></p>
<ul>
<li>There exists different levels of strong typing:</li>
</ul>
<ol>
<li>C and C++ are not memory safe: I can cast a Battleship into a Pencil.</li>
<li>Python, JavaScript and Lua are memory safe, but they are not abstraction
safe: there is no way to encapsulate data.</li>
<li>SML, Java and C# are memory and abstraction safe.</li>
</ol>
<h4>Create a signature to represent sets of integers in SML:</h4>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>signature&nbsp;SET&nbsp;=</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>sig</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>type&nbsp;set</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;val&nbsp;new&nbsp;:&nbsp;set</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;val&nbsp;add&nbsp;:&nbsp;set&nbsp;-&gt;&nbsp;int&nbsp;-&gt;&nbsp;set</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;val&nbsp;contains&nbsp;:&nbsp;set&nbsp;-&gt;&nbsp;int&nbsp;-&gt;&nbsp;bool</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;val&nbsp;remove&nbsp;:&nbsp;set&nbsp;-&gt;&nbsp;int&nbsp;-&gt;&nbsp;set</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>end&nbsp;;</span></span></span></div></pre>
<h4>In how many different ways can we implement this signature?</h4>
<h4>Create an implementation based on lists:</h4>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>structure&nbsp;ListSet&nbsp;:&gt;&nbsp;SET&nbsp;=</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>struct</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>type&nbsp;set&nbsp;=&nbsp;int&nbsp;list</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;val&nbsp;new&nbsp;=&nbsp;[]</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;fun&nbsp;add&nbsp;[]&nbsp;i&nbsp;=&nbsp;[i]</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>|&nbsp;add&nbsp;(h::t)&nbsp;i&nbsp;=</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>if&nbsp;h&nbsp;&gt;&nbsp;i&nbsp;then&nbsp;i::h::t&nbsp;else&nbsp;if&nbsp;h&nbsp;&lt;&nbsp;i&nbsp;then&nbsp;h&nbsp;::&nbsp;add&nbsp;t&nbsp;i&nbsp;else&nbsp;(h::t)</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>fun&nbsp;contains&nbsp;[]&nbsp;_&nbsp;=&nbsp;false</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>|&nbsp;contains&nbsp;(h::t)&nbsp;i&nbsp;=&nbsp;i&nbsp;=&nbsp;h&nbsp;orelse&nbsp;if&nbsp;h&nbsp;&gt;&nbsp;i&nbsp;then&nbsp;false&nbsp;else&nbsp;contains&nbsp;t&nbsp;i</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>fun&nbsp;remove&nbsp;[]&nbsp;_&nbsp;=&nbsp;[]</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>|&nbsp;remove&nbsp;(h::t)&nbsp;i&nbsp;=</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>if&nbsp;i&nbsp;=&nbsp;h&nbsp;then&nbsp;t&nbsp;else&nbsp;if&nbsp;h&nbsp;&gt;&nbsp;i&nbsp;then&nbsp;h::t&nbsp;else&nbsp;h&nbsp;::&nbsp;remove&nbsp;t&nbsp;i</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>end&nbsp;;</span></span></span></div></pre>
<h4>Create an implementation based on boolean functions. Use closures:</h4>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>structure&nbsp;FunSet&nbsp;:&gt;&nbsp;SET&nbsp;=</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>struct</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>type&nbsp;set&nbsp;=&nbsp;int&nbsp;-&gt;&nbsp;bool</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;val&nbsp;new&nbsp;=&nbsp;fn&nbsp;x&nbsp;=&gt;&nbsp;false</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;fun&nbsp;add&nbsp;f&nbsp;i&nbsp;=&nbsp;fn&nbsp;x&nbsp;=&gt;&nbsp;if&nbsp;x&nbsp;=&nbsp;i&nbsp;then&nbsp;true&nbsp;else&nbsp;f&nbsp;x</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;fun&nbsp;contains&nbsp;f&nbsp;i&nbsp;=&nbsp;f&nbsp;i</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;fun&nbsp;remove&nbsp;f&nbsp;i&nbsp;=&nbsp;fn&nbsp;x&nbsp;=&gt;&nbsp;if&nbsp;x&nbsp;=&nbsp;i&nbsp;then&nbsp;false&nbsp;else&nbsp;f&nbsp;x</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>end&nbsp;;</span></span></span></div></pre>
<h4>Create a cm file “<a href="http://sources.cm">sources.cm</a>” to compile these implementations:</h4>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Library</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>structure&nbsp;ListSet</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;structure&nbsp;FunSet</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>is</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;</span><span class="meta paragraph text"><span>SetSig.sml</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;ListSet.sml</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;FunSet.sml</span></span></span></div></pre>
<h4>How to use this signature?</h4>
<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>-&nbsp;CM.make&nbsp;&quot;sources.cm&quot;;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>-&nbsp;structure&nbsp;S&nbsp;=&nbsp;FunSet;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>-&nbsp;val&nbsp;t&nbsp;=&nbsp;S.new;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>-&nbsp;val&nbsp;t&nbsp;=&nbsp;S.add&nbsp;t&nbsp;3;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>-&nbsp;S.contains&nbsp;t&nbsp;1;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>-&nbsp;S.contains&nbsp;t&nbsp;3;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>-&nbsp;val&nbsp;t&nbsp;=&nbsp;S.remove&nbsp;t&nbsp;3;</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>-&nbsp;S.contains&nbsp;t&nbsp;3;</span></span></span></div></pre></body>
</html>
